---

title: Fault model and rule based fault management apparatus in home network and method thereof
abstract: Provided are a fault model and rule based fault management apparatus and method for a home network. The fault management apparatus includes: a plurality of fault generation unit formed in a multilevel structure and generating fault notification when a fault is generated; a plurality of fault communication unit for transferring fault notification from one of the fault generation unit; a fault agent unit for transferring each fault notification from a plurality of the fault communication unit; and a fault diagnosis and process unit for receiving the fault notification from the fault agent unit, diagnosing a corresponding fault, and processing the corresponding fault using a fault model, a fault decision rule, and a fault process rule.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=07979744&OS=07979744&RS=07979744
owner: Electronics and Telecommunications Research Institute
number: 07979744
owner_city: Daejon
owner_country: KR
publication_date: 20071203
---
The present invention claims priority of Korean Patent Application Nos. 10 2006 0121246 and 10 2007 0109014 filed on Dec. 4 2006 and Oct. 29 2007 respectively which are incorporated herein by reference.

The present invention relates to a fault model and rule based fault management apparatus and method for a home network and more particularly to a fault model and rule based fault management apparatus and method for improving the reliability of a home network and reducing a maintenance cost of a home network by defining fault models for possible faults generated from various fault generation apparatus distributed in a home network such as a device a network a system and an application program defining fault decision rules for diagnosing a cause of a fault defining fault process rules for each cause and diagnosing and processing a fault based on the defined fault model the defined fault decision rules and the defined fault process rules when the fault is generated in a home network.

This work was supported by the Information Technology IT research and development program of the Korean Ministry of Information and Communication MIC and or the Korean Institute for Information Technology Advancement IITA 2006 S 066 01 Development of High Reliable Adaptive Middleware for u Home .

According to the abrupt development of a home network technology there have been many studies in progress for developing a method for managing faults generated in a home network. A home network has a characteristic of a complex system where various devices and software are distributed over the entire home network.

Hereinafter a fault management technology for a home network according to the related art will be described with reference to .

As shown in the fault management apparatus according to the related art includes a watchdog controlling unit and a watchdog generating unit . A processor processes data in hardware manner. The watch dog controlling unit controls general restoration operations by outputting a sensing signal WD ST for the processor to the watchdog generating unit and outputting a Non Maskable Interrupt NMI to the processor when receiving a first time out signal from the watchdog generating unit . The watchdog generating unit determines that the processor is in an abnormal state if the watchdog generating unit does not receive a sensing signal WD ST from the watchdog controlling unit within a predetermined interval. Then the watchdog generating unit generates a first timeout signal to the watchdog controlling unit .

Here the watchdog controlling unit includes a watchdog state register for providing watchdog information to the process . Also the watchdog generating unit includes a watchdog timer .

The fault management apparatus according to the related art will be described in more detail. The watchdog controlling unit generates a sensing signal WD ST and outputs the generated sensing signal WD ST to the watchdog generating unit at a predetermined interval which is set by the processor . If the watchdog generating unit does not receive the sensing signal WD ST from the watchdog controlling unit within the predetermined interval the watchdog generating unit outputs the first timeout signal to the watchdog controlling unit . Accordingly the watchdog controlling unit outputs the Non Maskable Interrupt NMI to the processor to perform the restoration operation.

After outputting the first timeout signal if the watchdog generating unit does not receive the sensing signal WD ST within a predetermined interval again the watchdog generating unit outputs a second timeout signal to the watchdog controlling unit . Then the watchdog controlling unit determines that the processor is in a malfunction state where the restoration is unable and resets the processor .

As described above if a hardware board with a processor mounted malfunctions or if software generates endless loop due to a program fault the fault management apparatus according to the related art generates the Non Maskable Interrupt NMI before resetting the processor in order to restore the processor from an abnormal state to a normal state. If the abnormal state is sustained the fault management apparatus according to the related art resets the processor through board resetting.

As described above the fault management technology according to the related art only considers the abnormal state of a processor and the endless loop state of software. Therefore the fault management technology according to the related art is not suitable for a complex system like a home network where faults are generated from various devices although the fault management technology according to the related art is applicable to a simple system.

An embodiment of the present invention is directed to providing a fault model and rule based fault management apparatus and method for improving the reliability of a home network and reducing a maintenance cost of a home network by defining fault models for possible faults generated from various fault generation apparatus distributed in a home network such as a device a network a system and an application program defining fault decision rules for diagnosing a cause of a fault defining fault process rules for each cause and diagnosing and processing a fault based on the defined fault model the defined fault decision rules and the defined fault process rules when the fault is generated in a home network.

Other objects and advantages of the present invention can be understood by the following description and become apparent with reference to the embodiments of the present invention. Also it is obvious to those skilled in the art to which the present invention pertains that the objects and advantages of the present invention can be realized by the means as claimed and combinations thereof.

In accordance with an aspect of the present invention there is provided a fault management apparatus including a plurality of fault generation unit formed in a multilevel structure and generating fault notification when a fault is generated a plurality of fault communication unit for transferring fault notification from one of the fault generation unit a fault agent unit for transferring each fault notification from a plurality of the fault communication unit and a fault diagnosis and process unit for receiving the fault notification from the fault agent unit diagnosing a corresponding fault and processing the corresponding fault using a fault model a fault decision rule and a fault process rule.

In accordance with an aspect of the present invention there is provided a fault management method including at a fault agent receiving an initial message for registration from a plurality of fault generation apparatuses at a fault manager receiving the initial message from the fault agent and registering the fault generation apparatuses using the initial message at the fault agent receiving fault notification from the fault generation apparatuses and transferring the received fault notification to the fault manager and at the fault manager diagnosing a fault and processing a corresponding fault using the received fault notification.

The advantages features and aspects of the invention will become apparent from the following description of the embodiments with reference to the accompanying drawings which is set forth hereinafter.

A fault model and rule based fault management apparatus and method for a home network according to the present invention can accurately diagnose and process faults by defining fault models for possible faults generated from various fault generation apparatus such as devices networks systems and application programs and defining fault decision rules and fault process rules.

That is fault generation apparatuses are classified into a device level a network level a system level and an application program level and a multilevel fault processing mechanism is defined for processing faults through a fault agent a fault communication module API and a fault manager. Based on the multilevel fault processing mechanism a fault can be accurately diagnosed and processed in the fault model and rule based fault management apparatus and method for a home network according to the present invention.

As shown in the fault model and rule based fault management apparatus according to the present embodiment includes a fault agent FA and an autonomous fault manager . The fault agent receives fault information fault notification from various fault generation apparatuses and transfers the received fault notification to the fault manager . Here the various fault generation apparatuses are devices networks systems and application programs. The autonomous fault manager AFM defines fault modules for possible faults generated from a home network and defines fault decision rules for diagnosing the causes of faults and fault process rules for the diagnosed causes. The fault manager diagnoses and processes faults based on the fault models the fault decision rules and the fault process rules when the fault manager receives the fault notification about each of the fault generation apparatus from the fault agent .

The fault generation apparatuses of the home network transfer fault notification to the fault agent through a fault communication module when a fault is generated from the home network. For example the fault communication module may be realized as a multilevel API type. In case of a device the fault notification is transferred through home network middleware that forms and manages a corresponding device such as LonWorks HAVi UPnP and JINI. In case of a network the fault notification is transferred by network resources. In case of a system the fault notification is transferred through a system kernel. In case of the application program the fault notification is transferred as a processable format of a corresponding application program to the fault agent .

Each of hosts such as a host A and a host B may include the fault agent of the fault management apparatus according to the present embodiment. The fault agent exchanges an initial message with the fault generation apparatuses for previously registering the fault generation apparatuses and transfers the fault notification from the fault generation apparatuses to the fault manager . The exchange of the initial message will be described in more detail with reference to .

The fault manager according to the present embodiment has a self restoration redundancy function that enables a shadow fault manager to operate as a primary based on a primary shadow structure if the fault manager malfunctions while the fault manger operates as a primary. The detail configuration and operation of the fault manager will be described in later with reference to . Also the fault manager may be included in a host independently from the fault agent .

Referring to various fault generation apparatuses such as a device a network a system and an application program request the fault agent to register the various fault generation apparatus to the fault manager at step S. That is the fault generation apparatuses transfer an initial message as a registration request to the fault agent .

The initial message may include a module ID a module type a module name and a fault message. The module ID is an unique identification ID of a module for example SM1234 . The module type may be for example SM AAM application or UMB adaptor. The module name may be a home theater service a LonWorks adaptor or an UPnP adaptor. The fault message provides fault notification that is understandable and processable to each of modules.

At step S the fault agent informs a corresponding fault generation apparatus of registration success. That is the fault agent registers the fault generation apparatuses at the fault manager by transferring the fault notification from each of the fault generation apparatuses to the fault manager . Then the fault agent informs the corresponding fault generation apparatuses of the registration success if the fault generation apparatuses are successfully registered by the fault manager .

Since each of the fault generation apparatuses is registered at the fault manager through the fault agent by transmitting receiving the initial message related data can be quickly exchanged when a predetermined module of a fault generation apparatus generates a fault.

As shown in each of the fault generation apparatuses of the system A transfers fault notification from a corresponding module to the fault agent through the fault communication module at step S. The fault notification includes a fault message and a module ID.

The fault agent receives the fault notification from each of the fault generation apparatuses and transfers the received fault notification to the fault manager in order to enable the fault manager to perform necessary operations such as fault diagnosis and fault process for managing the fault.

At step S the fault agent transfers a fault process request including a fault process code to a corresponding fault generation apparatus through a fault communication module . Then the fault agent receives a result process response through the fault communication module at step S. Here the fault process response includes a fault process result and a module ID.

At step S the fault agent transfers a query fault status request to the fault generation apparatus through the fault communication module . Then the fault agent receives a query fault status response for the query fault status request through the fault communication module at step S. Here the query fault status response includes a fault message and a module ID.

The fault agent can monitor a target module at regular interval through hearbeat check. That is the fault agent transfers a query hearbeat request to the fault generation apparatus through the fault communication module at step S. If the fault agent does not receive a query hearbeat response for the transferred query hearbeat request through the fault communication module the fault agent determines that a corresponding module generates a fault at step S and informs the fault manager of the fault generation in the corresponding module.

In order to provide the fault diagnosis and process method according to the present embodiment the fault manager uses a module management table. The module management table will be described with reference to .

As shown in the fault manger stores information about the fault generation apparatuses in the module management table when each of the fault generation apparatuses is registered. The module management table includes a system field for denoting a target system a fault agent ID field for identifying a corresponding fault agent that transfers fault notification a module ID field for identifying a target module to manage a module type field for denoting a type of a target module to manage and a module name field for denoting a name of a target module to manage.

The system field is a field for identifying each of target systems to manage in a home network such as a system A or a system B. The fault agent ID field stores an ID of a corresponding fault agent that transfers fault notification. The module ID field stores an ID of a predetermined target module to manage in the target system to manage. The module type field denotes a type of a target module to manage such as an application a network a kernel and a device. The module name field denotes a name of a target module to manage such as an application program a network resource a system kernel and a LonWorks. The fault manager may stores the module management table in an internal or an external memory.

As shown in the fault manager according to the present embodiment includes a fault self healing block for processing a corresponding fault when a predetermined fault generation apparatus generates actual faults and a fault prevention unit for preventing faults from being generated. Here the fault self healing block and the fault prevention unit use a fault process table and a fault awareness table.

The fault self healing block includes a fault diagnosis unit for diagnosing a fault and a fault processing unit for processing the fault based on the diagnosing result at the fault diagnosis unit .

Here the fault diagnosis unit includes a fault pattern decider for receiving fault notification from the fault agent and determining which of fault models is related to a generated fault based on the received fault notification and a fault cause searcher for searching the cause of the fault based on the fault decision rule.

The fault processing unit processes a fault based on a corresponding process rule of the searched cause from the fault cause searcher. Here the fault processing unit includes a fault process rule decider for deciding which of fault process rules to apply based on a corresponding cause when the fault cause searcher diagnoses a fault a fault process rule analyzer for analyzing the decided fault process rule and a fault process executer for processing the fault according to the analysis result from the fault process rule analyzer.

Meanwhile the fault prevention unit includes a fault estimator for monitoring system status data by recording a system operation log and informing a possible fault if the monitored system status data is probabilistically close to generate a fault and a fault avoider for informing a corresponding module of the estimation result through the fault agent for preventing a fault from being generated based on the estimation result of the fault estimator.

Referring to at step S the fault agent receives an initial message from a plurality of fault generation apparatuses such as a device a network a system and an application program for registering the fault generation apparatuses at the fault manager . The initial message may include a module ID a module type a module name and a fault message.

At step S the fault agent transfers the received initial message to the fault manager . At step S the fault manager registers each of the fault generation apparatuses as target modules to manage using the initial message. That is the fault agent stores information of each fault generation apparatus in a system field a fault agent ID field a module ID field a module type field and a module name field of a module management table.

At step S the fault agent receives fault notification from a plurality of the fault generation apparatuses. Then at step S the fault agent transfers the received fault information to the fault manager . The fault information includes a fault message and a module ID.

At step S the fault manager diagnoses a fault using the transferred fault notification and processes the corresponding fault based on the diagnosing result.

That is the fault diagnosis unit of the fault manager receives the fault notification from the fault agent determines a corresponding fault model based on the received fault notification and finds a cause of the fault based on a fault decision rule.

Then the fault processing unit of the fault manager processes a fault corresponding to a fault process rule based on the diagnosing result of the fault diagnosis unit . Here the fault processing unit decides one of fault process rules analyses the decided fault process rule and process the fault based on the analysis result.

The above described method according to the present invention can be embodied as a program and stored on a computer readable recording medium. The computer readable recording medium is any data storage device that can store data which can be thereafter read by the computer system. The computer readable recording medium includes a read only memory ROM a random access memory RAM a CD ROM a floppy disk a hard disk and an optical magnetic disk.

As described above the fault model and rule based fault management apparatus and method according to the present invention can improve the reliability of a home network and reduce a maintenance cost of a home network by defining fault models for possible faults generated from various fault generation apparatus distributed in a home network such as a device a network a system and an application program defining fault decision rules for diagnosing a cause of a fault defining fault process rules for each cause and diagnosing and processing a fault based on the defined fault model the defined fault decision rules and the defined fault process rules when the fault is generated in a home network

Also the fault model and rule based fault management apparatus and method according to the present invention can prevent a fault by estimating a possible fault and performing necessary operations based on the estimated possible fault.

While the present invention has been described with respect to certain preferred embodiments it will be apparent to those skilled in the art that various changes and modifications may be made without departing from the spirits and scope of the invention as defined in the following claims.

