---

title: Integrated low-if terrestrial audio broadcast receiver and associated method
abstract: An integrated low-IF (low intermediate frequency) terrestrial broadcast receiver and associated method are disclosed that provide an advantageous and cost-efficient solution. The integrated receiver includes a mixer, local oscillator generation circuitry, low-IF conversion circuitry, and DSP circuitry. And the integrated receiver is particularly suited for small, portable devices and the reception of terrestrial audio broadcasts, such as FM and AM terrestrial audio broadcast, in such portable devices.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08060049&OS=08060049&RS=08060049
owner: Silicon Laboratories Inc.
number: 08060049
owner_city: Austin
owner_country: US
publication_date: 20070126
---
This application is a continuation application of the following application U.S. patent application Ser. No. 10 881 926 filed Jun. 30 2004 now U.S. Pat. No. 7 272 375 and entitled INTEGRATED LOW IF TERRESTRIAL AUDIO BROADCAST RECEIVER AND ASSOCIATED METHOD which is hereby expressly incorporated by reference in its entirety.

This invention relates to receiver architectures for radio frequency communications. More particularly the present invention relates to audio broadcast receivers.

Radio frequency RF receivers are used in a wide variety of applications such as television cellular telephones pagers global positioning system GPS receivers cable modems cordless phones radios and other devices that receive RF signals. RF receivers typically require frequency translation or mixing. For example with respect to FM audio broadcasts FM radio receivers may translate one broadcast channel in the FM frequency band to an intermediate frequency. Within the United States FM radios will typically translate FM audio signals which are broadcast in 200 KHz channels in the frequency band from 88 MHz to 108 MHz to an intermediate frequency of 10.7 MHz. FM demodulators and stereo decoders can then convert this 10.7 MHz IF signal to demodulated left and right audio signal that can be sent to stereo speakers. Although other countries will have different frequency bands and channel spacing the reception of audio broadcast signals such as FM audio broadcasts is similarly accomplished using RF receivers.

The majority of typical RF receivers perform frequency translation or mixing using an oscillator and an analog multiplier or mixer. An oscillator will typically output a local oscillator LO signal in the form of a sine wave or periodic wave having a tuned frequency f . A mixer then mixes the RF input signal spectrum which includes desired spectral content at a target channel having a particular center frequency f with the LO signal to form an output signal having spectral content at frequencies equal to the sum and difference of the two input frequencies namely f fand f f. One of these components forms the channel center frequency translated to the desired IF frequency and the other component can be filtered out. The oscillator can be implemented with a variety of circuits including for example a tuned inductor capacitor LC oscillator a charge relaxation oscillator or a ring oscillator.

The design requirements for any given application for an RF receiver will impact the particular architecture selected for the receiver. And certain applications have difficult design requirements. One such application is for terrestrial audio broadcast receivers and more particularly such receivers that can be used in small low cost portable devices. Such devices include portable stereos CD players MP3 players cell phones and other small portable devices. Current architectures for this portable device environment are often overly expensive as compared to the cost of the portable device itself and therefore do not provide an effective cost efficient solution.

The present invention is an integrated AM FM audio broadcast receiver and associated method that provide advantageous and cost efficient solutions that are particularly useful for the portable device environment.

In one embodiment the present invention is an integrated terrestrial audio broadcast receiver including a mixer coupled to receive an RF signal spectrum and a mixing signal as inputs and having a low IF low intermediate frequency signal as an output where the RF input signal spectrum includes a plurality of channels from a terrestrial audio broadcast local oscillator LO generation circuitry coupled to receive a channel selection signal as an input and configured to provide an oscillation signal where the oscillation signal is dependent upon the channel selection signal and being used to generate the mixing signal for the mixer low IF conversion circuitry coupled to receive the low IF signal from the mixer and configured to output a digital signal and a digital signal processor DSP coupled to receive the digital signal from the low IF conversion circuitry and configured to output a digital audio signal wherein the mixer the LO generation circuitry the low IF conversion circuitry and the DSP are integrated within a single integrated circuit. More particularly the integrated circuit is made using a process that comprises a CMOS process or consists essentially of a CMOS process.

In another embodiment the present invention is a portable device having an integrated terrestrial audio broadcast receiver including a channel selection interface an audio output interface and an integrated terrestrial audio receiver of the present invention coupled to the channel selection interface and the audio output interface. In a more particularly the portable device can include the ability to receive a wide variety of terrestrial audio broadcasts including AM spectrum and FM spectrum signals.

In a further embodiment the present invention is a method for tuning terrestrial audio broadcasts in an integrated receiver including generating an oscillation signal where the oscillation signal is dependent upon a channel selection signal creating a mixing signal based upon the oscillation signal mixing an RF input signal spectrum having a plurality of channels from a terrestrial audio broadcast with the mixing signal to generate a low IF output signal converting the low IF output signal to a digital signal and processing the digital signal to generate a digital audio signal wherein the generating creating mixing converting and processing steps are performed within a single integrated circuit.

The present invention provides an integrated low IF low intermediate frequency terrestrial audio broadcast receiver and associated method that provide advantageous and cost efficient solutions.

Looking back to the embodiment in a low noise amplifier LNA receives the RF signal spectrum f . The output of the LNA is then applied to mixer and mixer generates real I and imaginary Q output signals as represented by signals . To generate these low IF signals the mixer uses phase shifted local oscillator LO mixing signals f . The LO generation circuitry includes oscillation circuitry and outputs the two out of phase LO mixing signals f that are used by the mixer . The outputs of mixer are at a low IF which can be designed to be fixed or may be designed to vary for example if discrete step tuning is implemented for the LO generation circuitry . An example of large step LO generation circuitry that utilizes discrete tuning steps is described in the co owned and co pending U.S. patent application Ser. No. 10 412 963 which was filed Apr. 14 2003 which is entitled RECEIVER ARCHITECTURES UTILIZING COARSE ANALOG TUNING AND ASSOCIATED METHODS and which is hereby incorporated by reference in its entirety

Low IF conversion circuitry receives the real I and imaginary Q signals and outputs real and imaginary digital signals as represented by signals . The low IF conversion circuitry preferably includes band pass or low pass analog to digital converter ADC circuitry that converts the low IF input signals to the digital domain. And the low IF conversion circuitry provides in part analog to digital conversion signal gain and signal filtering functions. Further digital filtering and digital processing circuitry with the digital signal processing DSP circuitry is then used to further tune and extract the signal information from the digital signals . The DSP circuitry then produces baseband digital output signals . When the input signals relate to FM broadcasts this digital processing provided by the DSP circuitry can include for example FM demodulation and stereo decoding. And the digital output signals can be left L and right R digital audio output signals that represent the content of the FM broadcast channel being tuned as depicted in the embodiment of . It is noted that the output of the receiver can be other desired signals including for example low IF quadrature I Q signals from an analog to digital converter that are passed through a decimation filter a baseband signal that has not yet be demodulated multiplexed L R and L R audio signals L and R analog audio signals and or any other desired output signals.

It is noted that as used herein low IF conversion circuitry refers to circuitry that in part mixes the target channel within the input signal spectrum down to a fixed IF frequency or down to a variable IF frequency that is equal to or below about three channel widths. For example for FM broadcasts within the United States the channel widths are about 200 kHz. Thus broadcast channels in the same broadcast area are specified to be at least about 200 kHz apart. For the purposes of this description therefore a low IF frequency for FM broadcasts within the United States would be an IF frequency equal to or below about 600 kHz. It is further noted that for spectrums with non uniform channel spacings a low IF frequency would be equal to or below about three steps in the channel tuning resolution of the receiver circuitry. For example if the receiver circuitry were configured to tune channels that are at least about 100 kHz apart a low IF frequency would be equal to or below about 300 kHz. As noted above the IF frequency may be fixed at a particular frequency or may vary within a low IF range of frequencies depending upon the LO generation circuitry utilized and how it is controlled.

It is further noted that the architecture of the present invention can be utilized for receiving signals in a wide variety of signal bands including AM audio broadcasts FM audio broadcasts television audio broadcasts weather channels and other desired broadcasts. The following table provides example frequencies and uses for various broadcast bands that can be received by the integrated terrestrial broadcast receiver of the present invention.

As indicated above the architectures of the present invention are advantageous for small low cost portable devices and are particularly advantageous for such devices that need to receive terrestrial audio broadcasts such as FM broadcasts. In particular the LO generation circuitry the mixer the low IF conversion circuitry and the DSP circuitry are preferably all integrated on the same integrated circuit. In addition the LNA and other desired circuitry can also be integrated into the same integrated circuit. This integrated circuit can be made for example using a CMOS process a BiCMOS process or any other desired process or combination of processes. In this way for example a single integrated circuit can receive a terrestrial broadcast signal spectrum and output digital or analog audio signals related to a tuned terrestrial broadcast channel. Preferably the integrated circuit is a CMOS integrated circuit and preferably an integrated CMOS terrestrial broadcast receiver of the present invention is configured in a 4 4 mm 24 pin micro lead frame MLP package to provide advantageous cost size and performance features for small portable devices such as cellular handsets portable audio devices MP3 players portable computing devices and other small portable devices.

Power consumption is an additional concern with such small portable devices. The integrated receiver architecture of the present invention advantageously provides for reduced power consumption and allows for the use of power supplies with different ranges to power the integrated receiver. In particular the present invention allows for low current consumption of less than or equal to 30 mA milli Amps of supply current. In addition the level of integration provided by the present invention allows for a small package size and reduced number of external components that is less than or equal to about six 6 external components.

As with the outputs of the LNAs A and B are processed by mixer to generate real I and an imaginary Q signals. These signals are then processed by a programmable gain amplifier PGA which is controlled by the automatic gain control AGC block . The output signals from the PGA are then converted to digital I and Q values with I path ADC and Q path ADC . DSP circuitry then processes the digital I and Q values to produce left L and right R digital audio output signals that can be provided to the digital audio block . In addition these left L and right R digital audio output signals can be processed with additional circuitry as represented by digital to analog conversion DAC circuits and to produce left LOUT and right ROUT analog output signals. These analog output signals can then be output to listening devices such as headphones. Amplifier and speaker outputs A and B for example can represent headphones for listening to the analog audio output signals. As described above with respect to the DSP circuitry can provide a variety of processing features including digital filtering FM and AM demodulation DEMOD and stereo audio decoding such as MPX decoding. Low IF block includes additional circuitry utilized to control the operation of the DSP circuitry in processing the digital I Q signals.

A digital control interface can also be provided within integrated receiver to communicate with external devices such as controller . As depicted the digital communication interface includes a power down PDN  input signal reset RST  input signal a bi directional serial data input output SDIO signal a serial clock input SCLK signal and a serial interface enable SEN input signal. As part of the digital interface digital audio block can also output digital audio signals to external devices such as controller . As depicted this communication is provided through one or more general programmable input output GPIO signals. The GPIO signals represent pins on the integrated receiver that can be user programmed to perform a variety of functions as desired depending upon the functionality desired by the user. In addition a wide variety of control and or data information can be provided through the interface to and from external devices such as controller . For example a RDS RBDS block can report relevant RDS RBDS data through the control interface . And a receive strength quality indicator block RSQI can analyze the receive signal and report data concerning the strength of that signal through the control interface . It is noted that other communication interfaces could be used if desired including serial or parallel interfaces that use synchronous or asynchronous communication protocols.

Looking back to the mixer of LO mixing signals are received by mixer from a phase shift block that produces two mixing signals that are 90 degrees out of phase with each other. The phase shift block receives an oscillation signal from frequency synthesizer FREQ SYNTH . Frequency synthesizer receives a reference frequency from reference frequency REF block and a control signal from automatic frequency control AFC block . An external crystal oscillator operating for example at 32.768 kHz provides a fixed reference clock signal to the reference frequency REF block through connections XTAL and XTAL. The AFC block can receive tuning error signal from the receive path circuitry within the integrate receiver and provide a correction control signal to the frequency synthesizer . The use of such an error correction signal is discussed in further detail below.

As further depicted in embodiment of a phase shift block can be utilized and this phase shift block can be a divide by two block that produces two mixing signals that are 90 degrees out of phase with each other. The use of two mixing signals 90 degrees out of phase is the typical technique for generating mixing signals for mixers such as mixer to produce real I and imaginary Q signals such as signals . If desired phase shift block may also be a divide by three block that produces two mixing signals that are 120 degrees out of phase with each other. Depending upon the implementation of the phase shift block the processing provided by the low IF conversion circuitry and the DSP circuitry will change accordingly. It is also noted that more generally block represents quadrature generation circuitry that can be implemented in a number of different ways to achieve mixing signals for the mixer . In addition if desired the function of block could be included within other blocks represented in and .

In the embodiment depicted the LO generation circuitry includes a frequency synthesizer a divide by X block X and quadrature generation circuitry or phase shift block . Phase shift block provides phase shifted LO mixing signals to mixer . The frequency synthesizer generates an output signal f that is at a desired frequency. The frequency synthesizer can be implemented in a variety of ways including the use of a phase locked loop PLL a frequency locked loop FLL or some other desired oscillation generation circuitry. The frequency of the output signal f is determined by control circuitry that utilizes a target channel input signal TARGET CHANNEL to select the desired output frequency. As discussed further below the frequency of this target channel signal can be correlated to an integer N that is selected based upon the desired channel. The frequency synthesizer also utilizes an input reference frequency f in generating an output signal f at the desired frequency. The output signal f is then passed through the divide by X block X to generate an output signal that is used to generate the desired LO mixing signals f for the mixer . If desired and as discussed in more detail below a band selection signal BAND SELECTION can be utilized and can be applied to divide by X block X . This band selection signal can be utilized to adjust the tuning band for the receiver . For example the tuning band could be adjusted from the FM broadcast band to the AM broadcast band. In this way a single receiver can be used to tune channels within multiple broadcast bands.

Advantageously the output signal f can also be used to produce the digital clock signal f utilized by digital circuitry within the low IF conversion circuitry the DSP circuitry and the DACs and . In this way the digital clock signal f other clock signals based upon the digital clock signal f the LO mixing signals the output signal f and intervening clock nodes are all at frequencies that are divisors or multiples of each other or of a common base clock signal thereby making the clock signals ratiometric. To produce the digital clock signal f the output signal f is passed through a divide by Y block Y . By using the output signal f to generate both the LO mixing signals for the mixer and the digital clock signal f these two resulting signals become ratiometric thereby tending to limit potential interference between the two signals because digital harmonics of these signals will tend to fall on the frequency of the oscillation signal f . Previous systems typically used an external reference clock to drive a digital clock signal on a separate integrated circuit from the mixing circuitry. If such systems then attempted to integrate the mixer and digital circuitry into the same integrated circuit performance degrading interference would typically be generated. In contrast the ratiometric clock feature of the present invention reduces undesirable interference and allows for improved performance of an integrated receiver.

Looking back to the example of it is seen that a first and second divider circuits are used to generate two ratiometric clock signals. In particular as depicted divide by X block X receives the input oscillation signal f and outputs signal . This output signal is processed by quadrature generation QUAD GEN circuitry to generate the two LO mixing signals f that can be used by mixer . Divide by Y block Y receives the input oscillation signal f and outputs a digital clock signal f that can be used to generate digital clock signals used by integrated digital circuitry such as digital circuitry within the low IF conversion circuitry and DSP circuitry . It is noted that other ratiometric clock signals could be generated if desired and that the ratiometric clocks generated could be utilized for other purposes if desired. And it is noted that the mixer circuitry and the digital circuitry that use these ratiometric clock signals along with the ratiometric clock system would preferably be integrated into the same integrated circuit.

In operation as stated above the ratiometric clock feature of the present invention helps to reduce undesired interference because the mixing signals and the digital clock signals are divisors or multiples of each other or of a common base clock signal. Along with the integer N related to the target channel signal the divide values X and Y provide programmable control of the clock signals being utilized. For example the following equations can be used to represent the circuitry presented in which is discussed in more detail below and the ratiometric values for the oscillation output signal f the digital clock signal f and the LO mixing signals f assuming a divide by two quadrature generator is utilized which are all based upon the reference frequency f . 2 2 2 The values of N R X and Y can then be selected and controlled to achieve the desired frequencies for these signals. And the selection criteria for the values of N R X and Y can be implemented as desired. For example these values can be selected according to an on chip look up table or could be set through a user configurable register. As shown in an error signal ERROR may also be generated for example using the DSP circuitry that identifies errors in tuning the received signal. This error signal can then be used to modify the N value in order to reduce frequency error essentially to zero when tuning a received signal.

As an example for an FM spectrum the reference frequency f can be selected to be 32.768 kHz. The low IF target frequency can be selected to be about 200 KHz. X can be selected to be 12. Y can be selected to be 100. N and R can be selected to vary depending upon the FM channel to be tuned. For example for a desired FM channel to be tuned that is centered at about 100 MHz N can be selected to be 73096 with R considered nominally to be equal to 1. With these numbers selected the oscillation signal f would be 2.395 GHz. The digital clock signal f would be 23.95 MHz. The output signal would be 199.6 MHz. And the LO mixing signals f to mixer would be 99.8 MHz. The mixer would then mix the input signal spectrum f with the mixing signals from phase block to mix the desired FM channel at 100 MHz to a low IF target frequency of about 200 kHz i.e. 100.0 MHz 99.8 MHz component ends up at about 200 kHz . The appropriate N value for each channel with the FM broadcast spectrum could then be similarly selected such that the mixer mixes the desired channel down to the target IF frequency. It is noted that the values for X and Y could also be modified if desired. And it is noted that the target IF frequency could be a variable frequency for example if discrete tuning steps were used for the LO generation circuitry.

In addition as indicated above the divide by X block X can also receive the band selection signal BAND SELECTION . This signal can be used to select the frequency band within which the receiver is tuning channels. For example the oscillation output signal f can be a signal at about 2 3 GHz or greater and the band selection signal BAND SELECTION can be used to select what values are used for X thereby determining the tuning range for the receiver. This technique is useful because many oscillators have a good operating range from minimum to maximum frequency that differ by a factor of about 1.3. Thus the FM spectrum from 88.1 to 107.9 can be tuned using a single on chip oscillator because this correlates to oscillation output signal f of about 2.114 GHz to 2.590 GHz assuming the value of 12 for X and this range is within a factor of 1.3 from minimum to maximum frequencies. However if additional broadcast spectrums were desired to be tuned this single on chip oscillator would have to operate outside of its good operating range unless other factors were modified. With the architecture described above the values for X and N can be adjusted to move the resulting tuning range into the desired frequency band while still using the same on chip oscillator.

As depicted in more detail in dotted line represents the digital circuitry within a single integrated circuit such as digital circuitry within the low IF conversion circuitry DSP circuitry and the DACs and . In particular analog to digital converter ADC and ADC represent the analog to digital conversion circuitry that produces the real I and imaginary Q digital signals . ADC and ADC utilize a sampling clock signal based upon the digital clock signal f . Similarly the circuitry within the DSP circuitry utilizes clock signals based upon the digital clock signal f . In contrast with the embodiment of in the embodiment of it is shown that the digital clock signal f can be selected through a multiplexer MUX to be a ratiometric clock signal or an external reference clock signal f . Although it is desirable for the ratiometric clock signal to be utilized in order to reduce performance degrading interference an external reference clock signal such as clock signal f could be used if desired. In addition if desired rather than being selected through MUX the clock signal f could be used as a separate clock source in addition to the digital clock signal f for digital circuitry . For example a switch could be used to supply the clock signal f directly to the digital circuitry so that both the clock signal f and the ratiometric clock signal could be utilized by the digital circuitry . Such an embodiment is also described in more detail with respect to below. It is further noted that the digital clock signal f from the MUX and the reference clock signal f could be passed through additional dividers multipliers or other clock generation circuits before being utilized as clock signals for the digital circuitry within the low IF conversion circuitry and the DSP circuitry . And one or more different clock signals could be generated for use with the different circuit blocks within the digital circuitry .

The tuning control circuitry of controls a voltage controlled oscillator VCO which in turn generates an oscillation signal f that is used to generate the ratiometric clock signals. The tuning control circuitry receives a target channel signal TARGET CHANNEL which represents the desired channel to be tuned receives the oscillation signal from the VCO as a feedback signal and receives a reference frequency signal f . As discussed above the target channel signal can be correlated to an integer N that is selected based upon the desired channel. Divider blocks represented by divide by N block N and divide by R block R have values that are selected based upon the target channel signal TARGET CHANNEL to control the coarse and fine tune signals and . More particularly the value for N corresponds to the desired target channel assuming R has a nominal value of 1. In the embodiment depicted the fine tune signal FINE TUNE and the coarse tune signal COARSE TUNE are 10 bit control signals. It is noted that the coarse and fine tune signals and can be signals of any desired bit size can be of different sizes and can be variable or analog signals if desired. Other control signals could also be utilized as desired depending upon the VCO circuitry utilized for VCO . It is further noted that the VCO circuitry represented by block can be implemented using a number of different oscillator circuits. Example oscillator circuitry that can be utilized is described in U.S. Pat. No. 6 388 536 which is entitled METHOD AND APPARATUS FOR PROVIDING COARSE AND FINE TUNING CONTROL FOR SYNTHESIZING HIGH FREQUENCY SIGNALS FOR WIRELESS COMMUNICATIONS and which is hereby incorporated by reference in its entirety.

It is also noted that the VCO may preferably have an output frequency equal to or above about 2.3 GHz in order to reduce interference with other services such as cell phone operational frequencies. This relatively high output frequency also facilitates an efficient small integrated circuit where LC tank oscillation circuits are utilized because the LC tank elements can be made relatively small. In particular with output frequencies for the VCO in this range of being equal to or above about 2.3 GHz the one or more inductors that would be needed for an LC tank implementation of the VCO can be integrated into the integrated circuit or included with the device package.

In operation the tuning control circuitry first receives the target channel signal TARGET CHANNEL indicating the channel to be tuned within the frequency spectrum of the input signal spectrum f . The tuning control circuitry places the fine tune signal FINE TUNE at a nominal or initial setting and tuning control circuitry then outputs a coarse tune signal COARSE TUNE to provide coarse tuning of the VCO . The tuning control circuitry then adjusts the fine tune signal FINE TUNE to fine tune and lock the VCO to the desired oscillation output signal . A feedback signal from oscillation signal is then used to control the tuning of the output from the VCO . In addition an error signal ERROR can also be utilized to help accomplish this tuning. The error signal ERROR can represent tuning errors in the received signal and the tuning control circuitry can use this error signal to automatically adjust the output frequency of the VCO to correct for these tuning errors. Thus both the feedback signal from the output signal of the VCO and an additional error signal ERROR can be utilized by the tuning control circuitry for frequency control.

When the oscillation signal is changed in order to tune a particular desired channel the digital clock signal f will also change in a ratiometric fashion depending upon the selection of the values for X and Y in blocks and respectively. Similarly this change in the digital clock signal f also happens with changes to the output signal f of . Because of this change in the digital clock signal f as shown in an LO jump signal JUMP can be output by the tuning control circuitry to indicate that a change in the oscillation signal has occurred. Using this LO jump signal JUMP the digital circuitry can utilize compensation routines if desired to adjust operation for the ratiometric change in the digital clock signal f .

As described above the X and Y divider blocks in B A and B can be changed by program or algorithm control as desired to achieve the oscillation frequencies and the ratiometric ratios desired. For example it is desirable that a change in the oscillation signals and of A and B correlate to less than a 1 change in the value of the digital clock signal f . The values for X and Y in blocks and therefore can be selected accordingly. It is noted that an integrated on chip microcontroller can be utilized to provide control of the dividers and other receiver operation parameters if desired. And this microcontroller can also be used to implement some or all of the digital processing done by the DSP circuitry .

For additional control as indicated above the tuning control circuitry can receive an error signal ERROR from the digital circuitry . This error signal ERROR from the digital circuitry represents an error signal correlating to noise or interference detected in the receive path due to errors in the tuning of the input signal spectrum f to the proper channel. The tuning control circuitry can utilize this error signal ERROR to adjust the N value within block so as to more finally tune the received signal. Also additional control signals as represented by element can be provided from the DSP circuitry to the LNA the low IF conversion circuitry or other receiver circuitry to provide control for those circuits.

As with earlier embodiments the LO input signal f and the digital clock signal f can be generated as ratiometric clock signals using divide by X block X and divide by Y block Y . The output of the divide by X block X passes through divide by two 2 to provide the two out of phase LO mixing signals . A frequency synthesizer generates the oscillation signal f and is controlled by the automatic frequency control AFC block . The AFC block receives an external reference signal f a channel selection CHANNEL signal and a tuning correction error ERROR signal . These signals are discussed above with respect to . In addition it is noted that the external reference signal f can be the same signal as the fixed external reference clock f or can be generated from the fixed external reference clock f if this clock configuration is desired.

The clock signals for the digital circuitry within embodiment are provided using the digital clock signal f and the fixed external reference clock f . The fixed external reference clock f can be generated if desired by a crystal oscillator XTAL OSC operating for example at 12.288 MHz. The DSP circuitry can be clocked using the digital clock signal f which is ratiometric with respect to the oscillation signal f as discussed above. Again by using a ratiometric clock signal to clock the DSP circuitry interference as represented by arrow with the mixing circuitry and other analog circuitry on the integrated circuit is reduced. Rather than be clocked using the digital clock signal f the digital audio output circuitry and the external CODEC are clocked using the fixed external reference clock f . The ADCs and DACs and in this embodiment are also clocked using the fixed external reference clock f . Because the DSP and the ADCs and DACs and are operating at different clock frequencies the buffers and can be used to buffer the data between the different data rates. These buffers and can be for example dual port buffer memories that have the ability to input data at one desired clock rate and output data at another desired clock rate.

This clocking architecture can provide advantages for receiver applications where integrated circuits need to communicate at a specified rate. Audio standards for example can require communications to provide audio data at a particular rate such as 48 000 samples per second 48 ks s . In the embodiment of the digital audio output circuitry would communicate the left L and right R digital audio signals to the external CODEC at the specified rate through an external interface . So that the sample rates correlate to the specified communication rates the ADCs and DACs and can also be clocked using the fixed external reference clock f . Although some interference may be generated using these non ratiometric clock signals the advantages of correlated sample rates make this architecture advantageous. It is noted that dotted line represents the boundary of the integrated circuit.

LO control circuitry is added in to implement additional frequency control features. One such feature is a high side versus low side LO signal injection selection feature as represented by block HI LO INJECTION . Another feature is a programmable IF location selection feature as represented by block IF SELECTION . These frequency control features are discussed in more detail with respect to . The LO control circuitry is coupled to the DSP circuitry through one or more signals and to the LO generation circuitry through one or more signals .

With the LO control circuitry of the present invention however dynamic selection of high side or low side injection is implemented by making an assessment of image signal power within the spectrum before the selection of high side or low side injection is made and before the desired channel itself has been processed and tuned. This selection can be made for example using a selection algorithm that is configured to determine whether high side injection or low side injection is preferable based upon the image power at frequencies that are equal in distance from the LO frequencies as the desired channel. By tuning to these frequencies and through signals from the DSP circuitry for example the LO control circuitry can assess the signal power at frequencies that could create significant performance degrading images. In particular the next adjacent upper image signal power and the next adjacent lower image signal power can be assessed to determine whether or not to use high side or low side injection. And this assessment can be made at power up across the entire spectrum periodically across the entire spectrum across a reduced spectrum that includes the desired channel to be tuned each time a channel is tuned or at any other desired time across any desired portion of the spectrum depending upon the algorithm implemented.

Looking back to interference signal f represents an upper image signal that is as far from the high side LO injection signal f as is the desired channel f . If high side injection were utilized the mixer would use the high side injection LO signal f and the interference signal f would be mixed onto the intermediate frequency f along with the desired channel f . Thus the use of high side injection would create a large undesirable image. Similarly the interference signal f represents a lower image signal that is as far from the low side LO injection signal f as is the desired channel f . If low side injection were utilized the mixer would use the low side injection LO signal f and the interference signal f would be mixed onto the intermediate frequency f along with the desired channel f . Thus the use of low side injection would create an undesirable image but the image would have a signal power that was much less than the signal power of the image caused by using high side LO injection. By assessing the signal power of the upper image frequency and lower image frequency the LO control circuitry can determine whether high side injection or low side injection should be used. In the example therefore low side injection should be used to avoid mixing the larger interference signal f onto the intermediate frequency f . It is noted that the signal power at other frequencies such as harmonics of the upper and lower image frequencies could also be assessed if desired in determining whether to make the dynamic selection of whether to use high side injection or low side injections.

The programmable selection for the LO signal as shown in the embodiment of is provided through an IF selection signal IF CODE that is received by the LO control circuitry . This IF CODE can be based for example upon a user programmable on chip register. Factors for choosing the desired target IF frequency can include the channel width of the RF spectrum of interest or other environmental considerations. For example if the integrated terrestrial broadcast receiver were intended for use in a variety of countries a different target IF frequency could be selected for each country. This selection could depend upon the nature of the broadcast spectrum in that country including the respective channel widths. It is noted that a wide variety of mechanisms could be employed for providing programmable control to the LO control circuitry to select which IF frequency is to be utilized in operation.

Further modifications and alternative embodiments of this invention will be apparent to those skilled in the art in view of this description. It will be recognized therefore that the present invention is not limited by these example arrangements. Accordingly this description is to be construed as illustrative only and is for the purpose of teaching those skilled in the art the manner of carrying out the invention. It is to be understood that the forms of the invention herein shown and described are to be taken as the presently preferred embodiments. Various changes may be made in the implementations and architectures. For example equivalent elements may be substituted for those illustrated and described herein and certain features of the invention may be utilized independently of the use of other features all as would be apparent to one skilled in the art after having the benefit of this description of the invention.

