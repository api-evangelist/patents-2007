---

title: Home digital audiovisual information recording and playback system
abstract: A method for operating a home digital audiovisual information recording and playback apparatus. The method includes: displaying menus with user-selectable system operation options; enabling a selection of desired audiovisual information for reproduction; effecting payment for the desired audiovisual information; inputting a user personal identification number; and downloading, from a main server, the desired audiovisual information after payment has been effected and a valid personal identification has been received.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08225369&OS=08225369&RS=08225369
owner: TouchTunes Music Corporation
number: 08225369
owner_city: New York
owner_country: US
publication_date: 20071031
---
This application is a continuation of application Ser. No. 09 642 928 filed Aug. 22 2000 now U.S. Pat. No. 7 424 731 which is a continuation of U.S. Ser. No. 08 817 437 filed Jun. 12 1997 now U.S. Pat. No. 6 182 126 which is the U.S. national phase of International Application No. PCT FR95 01336 filed 12 Oct. 1995 which claims priority to PCT FR94 01185 filed 12 Oct. 1994 the entire contents of which are hereby incorporated by reference in this application.

This is a continuation of application Ser. No. 08 817 437 filed Jun. 12 1997 the entire content of which is hereby incorporated by reference in this application.

The invention relates to a home digital audiovisual information recording and reproduction apparatus.

Audiovisual reproduction systems found generally in cafes or pubs and called jukeboxes are known. These devices are generally bulky including large storage capacities unsuited for home use. The object of this invention is to eliminate these defects of the prior art by proposing a device which allows a home user to acquire digital audiovisual data selections using his TV and to reproduce them using the TV screen for the visual part and the components of his stereo system for the audio part.

The first object of the invention is to propose an apparatus which allows selection and downloading of digital data and reproduction of these digital data for domestic apparatus or use of the device for karaoke.

This first object is achieved with a home digital information audiovisual recording and playback apparatus developed around a microprocessor device linked via a digital interface to a display and by another interface to audio reproduction structure. The apparatus includes a telecommunications interface for downloading the digital data containing the audio selection or the video selection. The apparatus includes control structure that allows control of a display device and selection via a menu of one operating mode from among three in which the device either plays back data stored in its mass storage or allows recording of a new item of digitized data in its mass storage or mixes with the digitized data delivered by the mass storage of a piece of analog data delivered by a microphone.

A second object of the invention is to devise a modular apparatus which consequently allows continued development of the device to support recording of selections on a portable medium.

This object is achieved with a supplementary recording module connected by a specific interface to the primary apparatus and a recording menu can be selected using the buttons of the control structure of the device of the primary apparatus.

According to another feature the recording module allows production of portable recording media to be played on another digital audiovisual information playback unit.

Another object of the invention is to devise a modular device which allows the user to develop a design allowing storage of a plurality of audio or video or audiovisual information selections.

This object is achieved by a second mass storage module allowing the recording of a plurality of digitized audiovisual data.

Another object is to devise an apparatus which allows selection of audio or video or audiovisual digital data to be downloaded while enabling this information to be reproduced on the audio and video systems which he already owns.

This object is achieved by providing the home digital audiovisual information recording and reproduction apparatus with a central unit a telecommunications interface linked to a connector and managed by the central unit an electronic input control circuit managing a plurality of control buttons and a sensor of infrared or audio emission originating from a remote control box an emitter of the same waves an electronic extension controller circuit connected to a connector an electronic audio controller circuit linked to audio output connectors for stereo systems and a microphone input connector and an electronic video controller circuit linked to connectors of a video peripheral apparatus. The set of electronic circuits managed by the central processor utilizes a multitask operating system and a computer operating program stored in a battery backed up static RAM which is part of the electronic circuit of the central unit. The static battery backed up RAM is used as storage for at least one selection of audiovisual digital data and a graphics control circuit which controls a liquid crystal display device.

The final object is to devise a method of downloading which ensures effective payment and non selection of audiovisual data by individuals not skilled in the domestic system.

This object is achieved by proving an operating mode of link selection control which allows downloading with a server once the user has given for example his credit card number and confirmed the set of his selection or selections by supplying a personal identification number. This object can also be achieved by any other method of payment such as prepaid chip card or automatic billing on the subscriber phone bill.

Preferably but in a nonrestrictive manner the audiovisual reproduction system uses the aforementioned listed components.

The primary module is a high performance PC microprocessor compatible electronic device with for example an Intel 80486 DX 2 type system which has storage means and the following characteristics 

The central unit controls and manages an audio control circuit a telecommunications control circuit an input control circuit and a display control circuit .

Input controller interfaces with a remote control and control buttons located on the front of the apparatus. Telecommunications controller interfaces with various telecommunications hardware to allow the system to use several media for communicating with the outside. Audio controller is a D A converter with multiple inputs outputs to which the customer microphone and amplifier are connected. The video controller delivers the baseband and RF band video signals of the screens to be displayed. An extension controller makes it possible to link the other modules to the primary module.

A communications link between the primary module and the distribution center is also required. This link can be either a modem for a classical telephone line or a specialized line with a speed of at least 28.8 kbps or a link by parabolic antenna and satellite or an ISDN telecommunications link or by coaxial cable or by MMDS receiving antenna.

Audio reproduction of the musical selections is done by a digital analog converter circuit provided to support a large number of input sources while providing an output with an audio quality similar to a compact disk. The microprocessor multimedia audio adapter Sound Blaster SBP32AWE from Creative Labs Inc. is one example in which two buffers are added.

Operation and management of the system are performed using either control buttons of the apparatus or remote control . An infrared remote control linked to an infrared sensor with serial adapter can be used in the system.

The diagram from shows that the primary module has a RIAA stereo audio output one microphone input for karaoke a baseband and RF video output and a connector for connecting it to the other expansion modules and a SCART connector.

Data are displayed on the TV set of the owner either by the RF connector or the baseband connector or the SCART connectors.

A battery system maintains the system memory when it is off. These long life batteries are recharged when electricity is supplied to the apparatus.

A thermally controlled and ventilated power supply powers the system. This power supply can be protected against surges and harmonics.

The electronic device is placed in a box which includes on one of its sides for example the back an electric power cord with line socket a double audio output comprising RCA jack type sockets a microphone input connector a video connector for the video baseband of the NTSC PAL or SECAM type and an RF radio frequency type output and a SCART European connector . As shows audio output and microphone input are linked to audio controller card RF video audio output is linked to video controller card and to audio controller card via an RF modulator with M B G or L standards for example SCART connector is linked to video controller card and to audio controller card video baseband is linked to video controller card extension connectors are linked to extension controller card one connector of the telephone line type is linked to telecommunications circuit card which is linked to telecommunications controller . Finally the box includes on its front a set of buttons containing arrow which allows a cursor to move up arrow which allows the cursor to move down arrow which allows the cursor to move to the left arrow which allows the cursor to move to the right and finally central button allowing activation or validation and corresponding to a down event equivalent to a mouse the arrows allowing movement of a cursor and corresponding to a drag event. Release of button corresponds to a button release event i.e. up for a mouse. Front includes a red button which allows the purchase function described below. The front also includes a liquid crystal screen linked to a graphics controller card to allow minimum display in the case in which the user does not connect a TV screen at the video or RF output. The side also contains a button allowing adjustment of the volume of headphones connected to a socket for a hifi headset. Finally device start and stop button is located on the front . A zone containing infrared sensor itself connected to input controller card allows reception of infrared signals from remote control . It is apparent that the type of sensor can be modified according to the type of remote control used without departing from the framework of the invention. Finally the front may include a set of buttons which allows control of functions ordinarily used for CD playback i.e. pause function stop function read function return function advance function following function . These functions are linked to storage and recording modules when they are connected by extension connector to extension card as shown in .

Besides these components a microphone connected to audio controller allows use of this equipment as a karaoke machine.

Two buffers are connected to audio controller circuit to allow storage of one item of information corresponding to a quarter of a second of sound each in alternation. Likewise two buffers are linked to video controller circuit which are each able to store a tenth of a second of video alternately. Finally a respective buffer is connected to each of the circuits of the communication controller input interface and extension .

The system operating software has been developed around a library of tools and services largely oriented to the audiovisual domain in a multimedia environment. This library advantageously includes an efficient multitask operating system which efficiently authorizes simultaneous execution of multiple fragments of code. This operating software thus allows concurrent execution in an orderly manner and avoiding any conflict of operations performed on the display audio reproduction structure as well as management of the telecommunications lines via the distribution network. In addition the software has high flexibility.

The library contains as will be shown below a programming interface for buttons or remote control connected to each graphics module which will be described below and linking to the functions of the connected graphics module functions of reaction to activation by one or more external events. External events originate from the user and are processed by the interface to be able to be interpreted by the operating system as the equivalent of a mouse event.

Digitized and compressed audiovisual data are stored in the nonvolatile storage of CPU such as a static RAM.

It must be noted that while all these modules described separately seem to be used sequentially in reality the specific tasks of these modules are executed simultaneously in an environment using the multitask operating system.

The first module labeled SSM is the system startup module. This module does only one thing consequently it is loaded automatically when the system is powered up. It then directly enters the in service mode of the module labeled RRM.

The RMM module is the module of the in service mode. In this mode the system is ready to handle any request which can be triggered by various predefined events such as 

Thus the RMM module of the in service mode includes a module allowing graphics display corresponding for example to that of . The screen of this graphics module allows display of a window which contains for example the display in zone of the note in progress of execution. A second smaller window included in first window allows graphics display of the disk jacket during performance. In numeric keypad the total time corresponding to pieces to be played which are stored in the queue is indicated. The number of songs in the queue is indicated in another digital keypad . A third smaller window included in first window displays a moving image such as a video clip synthesized images or moving text if it is a karaoke title stored in the video files. In alphanumeric keypad is the album title and in second alphanumeric keypad the album name. In third alphanumeric keypad the name of the artist or group is mentioned. This information originates from database based on the title identification number and information stored in the database according to the access process explained below.

This reproduction screen displays the title which is performed its total length remaining time and the disk jacket from which it originates. Use of the action function from the remote control or button cursor being anywhere on the screen allows the owner to pass to the screen of the selection shown in .

In the case in which the jukebox is not playing a song and when the songs of the queue have been exhausted one of two windows will be able to be used to display promotional events or synthesized image animations.

A module specific to the remote control allows functions which command the system to accept an input requested by an infrared remote control device.

This remote control device can trigger display of the graphics screen located in when the purchase key equivalent to of the remote control is pressed.

The display of allows the user to access the new selections acquisition mode in connection with the NSAM module.

This module shown in contains a graphics module which allows display of window . This window incorporates three subwindows the first in the form of a pull down list makes it possible to have the selection list scrolled by pressing key by positioning a cursor on pull down arrow buttons .

This selection list can only be displayed either after having displayed the category selection screen after having pressed button beforehand highlighting title by positioning the cursor on the desired title and pressing key or after having introduced in subwindow at least one character by keyboard using the cursor and key .

Generally the zones of graphics buttons are actuated by positioning cursor using arrows to and pressing button or via the equivalent function keys of the remote control.

The user types his PIN on keyboard if the PIN is correct window displays for example the note credit card number or if the purchase is billed on the telephone bill window displays for example purchase underway .

A catalog of musical titles is kept in the primary module. This catalog can be updated at the request of the owner or automatically during purchase. The cost of each entry is displayed as well as the bill total by using information from the database .

During communication it is possible for the server center to use it in order to upgrade the system operating software.

Button allows ordering of the selection which is then downloaded according to the above described mode. Button allows display of the details on the selection. Third button allows selection of the category of music or the selection to be ordered. The user pressing this third button displays the screen shown in which will be described below. Finally the screen of likewise contains an alphanumeric keypad representing keyboard which allows the user by typing either the name of the album artist or title written in subwindow to display in window a list of titles more or less restricted depending on the criterion used and the control keys allowing display of the preceding screen by arrow and the following screen by arrow .

As stated above the selection graphics screen shown in is displayed by button from any zone of the playback graphics screen . One example of the graphics module of the user browsing and selection mode module is shown in in which window includes three subwindows the first being a pull down subwindow. Pull down of first window is controlled by upper and lower pull down arrows. As described above for the NSAM module a title list can only appear in window if a selection criterion has been introduced using keyboard connected to window of or using window triggered by category button connected either to keyboard which can write an alphanumeric text in keypads or to zones to of window shown in . Window allows display of titles of selections in alphabetic order by song name. Window allows display of the visual display unit corresponding to the song jacket. Button allows selection of the song category and passage to the display of the following window shown in . Button allows validation of the selection or selections for initiating their introduction into the queue or their immediate and successive performance if the queue is empty. Window is completed by alphanumeric keyboard which makes it possible to directly enter the name of another singer or song title. Pressing category button of equivalent to of calls up a subroutine of the graphics module which triggers display of window of in which an alphanumeric keypad makes it possible to introduce using alphanumeric keyboard the album name in zone a second alphanumeric keypad makes it possible to introduce the name of the artist in zone and third and fourth alphanumeric keypads allow introduction of a year or period and finally a line of buttons to allows selection respectively solely of rock and roll dance country rap jazz music albums or music for karaoke. Finally window contains button for cancellation in case of error button for validation of the choice of selection allowing return to window . Within subwindow there then appears a list of one to several titles depending on a selection criterion the user selects using cursor the title which he wishes to hear it is highlighted and simultaneously subwindow displays the visual display unit corresponding to the album jacket containing the selected title. The user need simply press button which causes changing of the graphics screen to display window in which he will see appear in subwindow the title jacket which he has selected and he will immediately hear it if the queue was at zero in the opposite case he will see appear the title jacket will appear during performance and in keypad the number of titles in the queue increased by the number of the titles which he has selected.

When the user presses button karaoke in the graphics screen of the category illustrated in then validates his choice by pressing graphics button the selection screen of appears with a list of karaoke titles within the subwindow . By means of highlighting he chooses the title which he wishes to execute by then pressing button which on the one hand causes display of reproduction screen in and on the other hand triggers reading of the pertinent title files which contain all the information necessary for operation in the karaoke mode described above.

The TSM module is the telecommunications services mode module between the central server and the audiovisual reproduction system. This module allows management of all management services available on the distribution network. All the tasks specific to telecommunications are managed like the background tasks of the system. These tasks always use only the processing time remaining once the system has completed all its foreground tasks. Thus when the system is busy with one of its higher priority tasks the telecommunications tasks automatically will try to reduce the limitations on system resources and recover all the microprocessor processing time left available.

A SPMM module allows the system to manage the musical song or video selections in the queue for their playback in the order of selection.

The multitask operating system comprises the essential component for allowing simultaneous execution of multiple code fragments and for managing priorities between the various tasks which arise.

This multitask operating system is organized as shown in around a kernel comprising a module for resolving priorities between tasks a task scheduling module a module for serialization of hardware used and a process communications module . Each of the modules communicates with application programming interfaces and database . There are as many programming interfaces as there are applications. Thus module includes a first programming interface for remote control a second programming interface for liquid crystal screen a third programming interface for audio control circuit a fourth programming interface for video control circuit and a fifth interface for telecommunications control circuit .

Five tasks with a decreasing order of priority are managed by the kernel of the operating system the first for the video inputs outputs has the highest priority the second of level two relates to audio the third of level three to telecommunications the fourth of level four to interfaces and the fifth of level five to management. These orders of priority will be considered by priority resolution module as and when a task appears and disappears. Thus as soon as a video task appears the other tasks underway are suspended priority is given to this task and all the system resources are assigned to the video task. At the output video task is designed to unload the video files from optional mass memory alternately to one of two buffers while the other buffer or is used by video controller circuit to produce the display after data decompression. At the input video task is designed to transfer data received in telecommunications buffer to the static RAM of the CPU. It is the same for audio task on the one hand at the input between telecommunications buffer and mass memory and on the other hand at the output between mass memory and one of two buffers of audio controller circuit .

Task scheduling module will now be described in conjunction with . In the order of priority this module performs first test to determine if the video task is active i.e if one of video buffers is empty. In the case of a negative response the task scheduling module passes to the following test which is second test to determine if the audio task is active i.e if one of video buffers is empty. In the case of a negative response third test determines if the communication task is active i.e. if buffer is empty. After a positive response to one of the tests task scheduling module at stage fills the memory access request queue and at stage executes this request by reading or writing between the mass memory or CPU memory and the buffer corresponding to the active task then loops back to the first test. When test on communications activity is affirmative scheduler performs test to determine if it is a matter of reading or writing data in the memory. If yes the read or write request is placed in a queue at stage . In the opposite case the scheduler determines at stage if it is transmission or reception and in the case of transmission sends by stage a block of data to the central server. In the case of reception the scheduler verifies at stage that the kernel buffers are free for access and in the affirmative sends a message to the central server to accept reception of a data block at stage . After receiving a block error control of the cyclic redundancy check type CRC is executed. The block is rejected at stage in case of error or accepted in the opposite case at stage by sending a corresponding message to the central server indicating that the block bearing a specific number is rejected or accepted then loops back to the start tests. When there is no higher level task active at stage or the scheduler processes interface or management tasks.

The kernel is occupied with rotation of the execution of tasks according to their priority and of communications between them. A task which manages video one which manages audio another which manages telecommunications and a last one which manages databanks are transferred to the kernel. Communications between the task and the kernel takes place by a common programming interface.

The number and type of active tasks is indicated to scheduler by execution of selection management module SPMM whose flowchart is shown in . The management exercised by this module begins with test to determine if selections are in the queue.

Consequently if test on the queue determines that selections are waiting when a user chooses a title he wishes to hear it is automatically written in a queue file of a non volatile memory of the system such as the static battery backed up RAM.

Thus no selection made will ever be lost in case of an electrical failure. The system plays reproduces the selection in its entirety before removing it from the queue file.

When the selection has been reproduced in its entirety it is removed from the queue file and the system checks if there are others in the queue file. If there is another the system immediately starts to play the selection.

The total time transpired between the end of one selection and the start of the next is less than 0.5 seconds.

Processing is continued by test to determine if the selection contains an audio scenario. If yes at stage this scenario is written in the queue of tasks of scheduler . If not or after this entry processing is continued by test to determine if the selection contains moving images. If yes the video scenario is written at stage in the queue of tasks of scheduler . If no or if yes after this entry processing is continued by test to determine if the selection contains still graphics. If yes at stage this graphical presentation scenario is written in the queue of tasks of scheduler . If no or if yes after this entry processing is continued by test to determine if the selection contains a publicity scenario. If yes at stage the scenario is written in the queue of tasks of scheduler . Thus scheduler notified of uncompleted tasks can manage the progression of tasks simultaneously.

Due on the one hand to the task management mode assigning highest priority to the video task on the other hand to the presence of hardware or software buffers assigned to each of the tasks for temporary storage of data and the presence of status buffers relative to each task it has been possible to have all these tasks managed by a single central unit with a multitask operating system which allows video display i.e. moving images compared to a graphics representation in which the data to be processed are less complex.

Moreover the multitask operating system which includes a library containing a set of tools and services greatly facilitates operation by virtue of its integration in the storage and the resulting high flexibility. In particular for this reason it is possible to create a multimedia environment by simply and efficiently managing audio reproduction video or graphics display and video animation. In addition since the audiovisual data are digitized and stored in the storage much less space is used than for a traditional audiovisual reproduction system and consequently the congestion of the system according to the invention is clearly less. Database is composed as shown in of several bases.

A first with the titles of the audiovisual pieces second with the artists third with the labels fourth with albums fifth with the words of karaoke selections. First base contains first item giving the title of the piece second item giving the identification of the product this identification being unique. Third item makes it possible to recognize the category i.e. jazz classical popular etc. Fourth item indicates the date of updating. Fifth item indicates the length in seconds for playing the piece.

Sixth item is a link to the karaoke base. Seventh item is a link to the album. Eighth item is a link to the labels. Ninth item gives the purchase price for the user.

Tenth item is a link to the artist database. This link is composed of the identity of the artist. The artist database includes besides the identity of the artist composed of item second item composed of the name of the artist or name of the group. The labels database includes first item composed of the identity of the label establishing the link to eighth item of the title database and second item composed of the name of the label. The album database contains a first item which is the identity of the album which constitutes the link to seventh item of the title base. Second item comprises the title third item is composed of the date of updating of the album and the fourth item is composed of the label identity. The karaoke base is composed of first item giving the identity of the title and corresponds to sixth item of the title base. Second item comprises for each title a file of each syllable and the time expired since the start of the song and at the end of which the singer must pronounce the syllable to have appear on the screen displaying the phrases to be sung as a marker indicating the syllable at the instant determined by a timer. The timer is started at the time of karaoke use by the start of execution of the digital data of the music and counts up in rhythm with the processor clock which is likewise the time base for the music and the audio controller card.

It is easily understood that database thus makes it possible to notify the user of the costs and particulars for each of the artists or groups of artists whose songs and videos are being performed and to display the words necessary to the user of the apparatus in the karaoke mode.

Finally in one of the two versions of the invention a first recording module corresponding to the representation in can be added to the primary system shown in . This recording module is connected by extension connector to primary module and on the other hand by a socket to the electric grid. This module is in fact a recording module which allows for example recording on a mini magnetooptical disk of one or more audiovisual pieces transferred to this medium via extension controller card and extension connector to device which is able to operate with a SCSI 2 type bus. This thus makes it possible to consequently obtain mini magnetooptical disks on which the desired audiovisual pieces have been recorded for use on another player such as a car radio or any other equivalent device. In this example we have taken a mini magnetooptical disk unit but this medium could be replaced very easily by digital tape recording allowing no loss of audio quality of the data recorded and operation on the marketed components of a stereo system or car radio.

Finally the user can add to his central component another module which is composed of an external storage unit which can be comprised of a hard disk system or any other equivalent system allowing the user to store several audiovisual pieces whereas primary system can only store in its non volatile memory a limited number of pieces this number is limited by the size of the battery backed up static RAM which participates equally in operation of primary unit .

If he wants to hear or view a video he presses the action function of the remote control to obtain the selection screen. Using the search options he makes his choice and begins playback. The new choice is queued if there is already an active piece.

A liquid crystal screen on the apparatus allows sequential access to a list in alphabetical order. A play button starts playback.

With the remote control or control buttons to the user can pause stop read rewind fast forward or skip to the following title.

From the selection screen the acquisition screen is accessed. To purchase a title the system demands the personal identification number PIN . PIN use protects parents against wrongful billing which their children may cause. In this screen the user can purchase one or more musical pieces which have been offered to him based on a list which is resident in the apparatus and which is updated during communication with the distribution server center. Search on this list takes place by title artist category alphabetical order and by release date. The cost of each piece is displayed as well as the total bill. Then he indicates to the system that he has finished making choices. The system then checks if there is enough memory to accommodate all the requested pieces. If there is a problem the system advises the customer thereof otherwise it requests the credit card number of the customer or displays it if it is already in the memory. Then the system attempts to reconnect to the server center to complete the transaction either by phone line or satellite link or by dedicated line. Since the system is a multitask system it can even play the audiovisual pieces during transfer.

c by its telecommunications card each apparatus can be connected to a server center. This possibility allows a flexibility which cannot be equalled by other similar apparatus. It allows 

It is also possible to include advertising on the screens. This advertising can be changed each time the system is connected to the server center.

Digital audio and video data will be kept according to a standard compressed format. They will be decompressed during reproduction. The purpose of this is to minimize use of memory space and shorten the time of transfer to the server center.

The server center since it is a computer validates the credit card and bills the customer automatically without manual intervention and can answer several calls at the same time.

Any modification by one skilled in the art is likewise part of the invention. Thus regarding buffers it should be remembered that they can be present either physically in the circuit to which they are assigned or implemented by software by reserving storage space.

