---

title: Application design framework for MANET over a short range communication protocol
abstract: A system and method for designing applications for a device in a Bluetooth-based MANET (mobile ad hoc network) is provided. The method includes providing an application having an event module and a plurality of protocol modules. The method includes specifying whether the application will execute in either a high or low priority thread. The method also includes specifying whether high priority threads execute with one of an unblocking status and a best effort status, and specifying whether lower priority threads execute with one of a blocking status, the unblocking status, and the best effort status.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08161121&OS=08161121&RS=08161121
owner: Samsung Electronics Co., Ltd.
number: 08161121
owner_city: Suwon-si
owner_country: KR
publication_date: 20070731
---
The present application claims the benefit under at least 35 U.S.C. 119 e of U.S. Provisional Application No. 60 913 641 filed Apr. 24 2007 and entitled Application Design Framework for MANET Over Bluetooth inventors Niranjan et al. and which is incorporated herein by reference for all purposes.

Traditional local area networks LANs typically have a central server that acts as a controller and coordinator for data traffic among the clients in the network. Communication between clients in a traditional LAN typically does not occur directly from one client to another. Instead data might be sent from a client to the server and then from the server to another client. The server might also handle the logging in of clients the synchronization of the activities of the clients and other centralized control functions.

In one embodiment a method for designing applications for a device in a Bluetooth based MANET mobile ad hoc network is provided. The method includes providing an application having an event module and a plurality of protocol modules. The method includes specifying whether the application will execute in either a high or low priority thread. The method also includes specifying whether high priority threads execute with one of an unblocking status and a best effort status and specifying whether lower priority threads execute with one of a blocking status the unblocking status and the best effort status.

In another embodiment a system in a Bluetooth based MANET mobile ad hoc network is provided. The system includes a first and second wireless device. The first wireless device has a first application. The first application has an event module and a plurality of protocol modules. The second wireless device has a second application. The second application has an event module and a plurality of protocol modules. The first device is configured to execute the first application and the second device is configured to execute the second application such that the first and second applications communicate using data packets having a header portion identifying the protocol module to which the data packets are associated.

In another embodiment a method of communication by applications on devices in a Bluetooth based MANET is provided. The method includes on each wireless device providing an event module and a plurality a protocol modules each associated with one of a plurality of applications. The method includes transmitting data packets between specific applications on different devices by an associated protocol module of the specific application including a header of the data packet that identifies the data packet as associated with the specific application. The method includes the event module receiving the data packet and routing the data packet to the appropriate application based on the header.

These and other features will be more clearly understood from the following detailed description taken in conjunction with the accompanying drawings and claims.

It should be understood at the outset that although illustrative implementations of one or more embodiments are illustrated below the disclosed systems and or methods may be implemented using any number of techniques whether currently known or in existence. The disclosure should in no way be limited to the illustrative implementations drawings and techniques illustrated below but may be modified within the scope of the appended claims along with their full scope of equivalents.

A mobile ad hoc network MANET can be defined as a group of wireless computing devices capable of communicating directly with one another without a server acting as a central coordinator or scheduler for the data traffic between the devices. A MANET typically comprises a plurality of wireless devices such as laptop computers handheld computers mobile phones or mobile handsets personal digital assistants and similar devices. The devices might be capable of communicating with one another via a well known wireless data transfer protocol such as Transmission Control Protocol Internet Protocol TCP IP .

A network in which wireless devices communicate with one another via the Bluetooth protocol is known as a piconet and a group of connected piconets is known as a scatternet. Since there is no central controller in a scatternet the devices in a scatternet might periodically communicate with one another in order to establish the paths over which data will travel between the devices.

Applications such as chat applications data transfer applications and social networking applications that might include chat data transfer and other features can execute on the devices in a scatternet. The applications might send data to one another such as user generated information or files stored on one of the devices.

A single application on one device might send different types of data to its counterpart application on another device. For example a social networking application that has a chat feature and a file transfer feature might need to transmit chat related data and file transfer related data substantially simultaneously to an instance of the social networking application on another device. Alternatively the data transmitted between instances of an application might include a control portion that describes how the data should be transmitted a payload portion that contains the actual data to be transmitted and other types of data.

There is typically only one data path or data stream between any two neighboring devices in a scatternet. Therefore different types of data that need to be transmitted substantially simultaneously are typically multiplexed by the transmitting device onto a single data stream. The receiving device then demultiplexes the data upon receiving the data stream. After demultiplexing the data the receiving device typically inspects each data packet to determine the type of data the packet contains. For example in the social networking application the receiving device might determine whether the data packets contain chat related data or file transfer related data. The receiving device might then distribute the packets appropriately to a processing component for the chat related data and a processing component for the file transfer related data.

In an embodiment an application design framework is provided for the applications that execute on the devices in a scatternet. Applications created under this framework contain an event module and a plurality of protocol modules. Each protocol module in an application is designed to send and receive one type of data to and from its counterpart protocol module in another instance of the same application on another device.

When a scatternet is being formed or when a device is joining an existing scatternet the devices register with one another to specify the type of data they will exchange. For example if protocol module A and protocol module B process chat related data the devices on which protocol module A and protocol module B reside might register with one another to specify that protocol module A and protocol module B will exchange chat related data. After registering protocol module A and protocol module B might send chat related data directly to one another when the users of the devices use the chat portion of the social networking application. In light of the present disclosure other examples of application programming interfaces that the protocol modules and might use when registering with one another and when exchanging data with one another will readily suggest themselves to one skilled in the art.

Multiplexing and demultiplexing might still occur for the data packets that pass between application instance A and application instance B . However in an embodiment the protocol modules do not need to inspect the received data packets to determine what type of data the packets contain. The data type would already be known since each protocol module sends and receives only one type of data.

In an embodiment each data packet includes a header that identifies the source device of the packet the destination device of the packet and an identifier for the sending and receiving protocol modules. Counterpart protocol modules in different instances of an application would in an embodiment have the same identifier. This can be contrasted with prior data transfer protocols such as TCP where a source port number might differ from a destination port number. The identifier might be established during the registration process for the protocol modules. In this way a data packet can be sent to the appropriate protocol module without the need to inspect the contents of the packet to determine the protocol module to which the packet should be sent.

It is well known in the art that multiple activities within a single application can execute concurrently if the activities execute in different threads. In an embodiment as illustrated in the application design framework allows an application designer to select a thread in which an application will execute. The threads available to the application designer include a high priority thread in which activities related to the management of the scatternet execute and one or more lower priority threads. Each of the threads can have a different priority or one or more threads can have the same priority but in an embodiment the scatternet management thread has the highest priority . This allows the application designer to place higher priority tasks in the scatternet management thread and lower priority tasks in lower priority threads .

In an embodiment the application designer can specify data packet handling instructions for a thread wherein the handling instructions specify whether the thread will have a blocking unblocking or best effort status. When a thread is in the blocking status no data packets can be transmitted on that thread. When a thread is in the unblocking status a request to send a packet is made before the packet is actually sent. If a buffer to which the packet is being sent is available an indication will be given that the packet can be sent and the packet is then sent. If the buffer to which the packet is being sent is full thus preventing the packet from being sent an indication will be given that the packet cannot be sent. If the buffer later becomes available an indication will be given at that time that the packet can be sent and the packet is then sent. When a thread is in the best effort status a packet is transmitted without a request to send the packet first being made. If a buffer to which the packet is being sent is available the packet is sent to the buffer and from there to its destination. If the buffer to which the packet is being sent is full the packet is dropped. In the best effort status no indications are sent regarding whether or not packets can be transmitted.

In an embodiment only the unblocking status and the best effort status are available for the scatternet management thread. For the other lower priority threads the blocking status the unblocking status and the best effort status are available. That is the blocking status is available in the lower priority threads but not in the scatternet management thread. Therefore data packets in lower priority threads can be blocked but data packets in the scatternet management threads cannot be blocked. This can prevent the inadvertent or malicious blocking of high priority data packets and can ensure that the scatternet management thread executes without interruption.

In an embodiment the event modules in each application manage the sending of the indicators regarding whether or not data packets can be sent. The event modules also handle events that occur to the devices in a Bluetooth based MANET such as connections disconnections and changes of roles.

The handset includes a display and a touch sensitive surface or keys for input by a user. The handset may present options for the user to select controls for the user to actuate and or cursors or other indicators for the user to direct. The handset may further accept data entry from the user including numbers to dial or various parameter values for configuring the operation of the handset . The handset may further execute one or more software or firmware applications in response to user commands. These applications may configure the handset to perform various customized functions in response to user interaction.

Among the various applications executable by the handset are a web browser which enables the display to show a web page. The web page is obtained via wireless communications with a cell tower a wireless network access node or any other wireless communication network or system. The cell tower or wireless network access node is coupled to a wired network such as the Internet. Via the wireless link and the wired network the handset has access to information on various servers such as a server . The server may provide content that may be shown on the display .

The DSP or some other form of controller or central processing unit operates to control the various components of the handset in accordance with embedded software or firmware stored in memory . In addition to the embedded software or firmware the DSP may execute other applications stored in the memory or made available via information carrier media such as portable data storage media like the removable memory card or via wired or wireless network communications. The application software may comprise a compiled set of machine readable instructions that configure the DSP to provide the desired functionality or the application software may be high level software instructions to be processed by an interpreter or compiler to indirectly configure the DSP .

The antenna and front end unit may be provided to convert between wireless signals and electrical signals enabling the handset to send and receive information from a cellular network or some other available wireless communications network. The RF transceiver provides frequency shifting converting received RF signals to baseband and converting baseband transmit signals to RF. The analog baseband processing unit may provide channel equalization and signal demodulation to extract information from received signals may modulate information to create transmit signals and may provide analog filtering for audio signals. To that end the analog baseband processing unit may have ports for connecting to the built in microphone and the earpiece speaker that enable the handset to be used as a cell phone. The analog baseband processing unit may further include a port for connecting to a headset or other hands free microphone and speaker configuration.

The DSP may send and receive digital communications with a wireless network via the analog baseband processing unit . In some embodiments these digital communications may provide Internet connectivity enabling a user to gain access to content on the Internet and to send and receive e mail or text messages. The input output interface interconnects the DSP and various memories and interfaces. The memory and the removable memory card may provide software and data to configure the operation of the DSP . Among the interfaces may be the USB interface and the infrared port . The USB interface may enable the handset to function as a peripheral device to exchange information with a personal computer or other computer system. The infrared port and other optional ports such as a Bluetooth interface or an IEEE 802.11 compliant wireless interface may enable the handset to communicate wirelessly with other nearby handsets and or wireless base stations.

The input output interface may further connect the DSP to the vibrator that when triggered causes the handset to vibrate. The vibrator may serve as a mechanism for silently alerting the user to any of various events such as an incoming call a new text message and an appointment reminder.

The keypad couples to the DSP via the interface to provide one mechanism for the user to make selections enter information and otherwise provide input to the handset . Another input mechanism may be the touch screen LCD which may also display text and or graphics to the user. The touch screen LCD controller couples the DSP to the touch screen LCD .

The CCD camera enables the handset to take digital pictures. The DSP communicates with the CCD camera via the camera controller . The GPS sensor is coupled to the DSP to decode global positioning system signals thereby enabling the handset to determine its position. Various other peripherals may also be included to provide additional functions e.g. radio and television reception.

While several embodiments have been provided in the present disclosure it should be understood that the disclosed systems and methods may be embodied in many other specific forms without departing from the spirit or scope of the present disclosure. The present examples are to be considered as illustrative and not restrictive and the intention is not to be limited to the details given herein. For example the various elements or components may be combined or integrated in another system or certain features may be omitted or not implemented.

Also techniques systems subsystems and methods described and illustrated in the various embodiments as discrete or separate may be combined or integrated with other systems modules techniques or methods without departing from the scope of the present disclosure. Other items shown or discussed as coupled or directly coupled or communicating with each other may be indirectly coupled or communicating through some interface device or intermediate component whether electrically mechanically or otherwise. Other examples of changes substitutions and alterations are ascertainable by one skilled in the art and could be made without departing from the spirit and scope disclosed herein.

