---

title: Method and apparatus for providing call admission control for VoIP over wireless local area networks using a transparent proxy agent
abstract: The invention includes a method and apparatus providing call admission control for a wireless local area network (WLAN). A method includes extracting call signaling information from call signaling messages exchanged between a first user terminal and a second user terminal for establishing a voice call, where the second user terminal is being served by a wireless access point, and propagating a quality-of-service request toward the wireless access point which may be used by the wireless access point for determining whether or not to accept the voice call. The quality-of-service request includes at least one quality-of-service parameter determined using the extracted call signaling information. The at least one quality-of-service parameter is adapted for use by the wireless access point for determining whether or not to accept the voice call. The wireless access point then provides an indication as to whether it has accepted the voice call (in which case the voice call is completed) or whether it has rejected the voice call (in which case some other call handling may be applied to the voice call).
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08320383&OS=08320383&RS=08320383
owner: Alcatel Lucent
number: 08320383
owner_city: Paris
owner_country: FR
publication_date: 20071031
---
The invention relates to the field of communication networks and more specifically to call admission in wireless local area networks WLANs .

A WiFi hotspot provides a wireless access point by which users may access a wireless LAN WLAN for data communications VoIP calls and like services. As WiFi hotspots become more common and more users being using WiFi hotspots to place VoIP calls call admission control is becoming quite important in order to ensure that WiFi hotspots do not become overloaded. The application of call admission control on a pervasive WLAN is more complicated than simply prioritizing real time traffic over non real time traffic or allowing a predetermined number of calls. WLAN traffic is non deterministic and further channel access is based on a binary back off algorithm and is by nature variable based on the number of clients accessing the network.

Disadvantageously existing call admission control schemes in WLANs do not work well. For example placement of a static limit on the number of wireless user terminals that can access a WiFi hotspot results in an inefficient use of the resources available at the WiFi hotspot . Furthermore requiring the wireless user terminals to register with the WiFi hotspots is expensive both in terms of the additional complexity of the wireless user terminal i.e. to enable the wireless user terminal to determine what resources is may require for a call in the future and in terms of resources wasted at the WiFi hotspot i.e. since the WiFi hotspot must reserve bandwidth for each wireless user terminal regardless of whether or not the wireless user terminal will ever use the reserved bandwidth .

Various deficiencies in the prior art are addressed through the invention of a method and apparatus providing call admission control for a wireless local area network WLAN . A method includes extracting call signaling information from call signaling messages exchanged between a first user terminal and a second user terminal for establishing a voice call where the second user terminal is being served by a wireless access point and propagating a quality of service request toward the wireless access point which may be used by the wireless access point for determining whether or not to accept the voice call. The quality of service request includes at least one quality of service parameter determined using the extracted call signaling information. The at least one quality of service parameter is adapted for use by the wireless access point for determining whether or not to accept the voice call. The wireless access point then provides an indication as to whether it has accepted the voice call in which case the voice call is completed or whether it has rejected the voice call in which case some other call handling may be applied to the voice call .

To facilitate understanding identical reference numerals have been used where possible to designate identical elements that are common to the figures.

The present invention provides improved call admission control in wireless local area networks WLANs using a call admission control proxy. The call admission control proxy monitors call signaling associated with a request to setup a voice call with wireless user terminal being served by a wireless access point determines quality of service information including one or more quality of service parameters required to be supported by the wireless access point for the requested voice call and propagates the quality of service information to the wireless access point for use by the wireless access point in determining whether to accept or reject the voice call request.

The present invention obviates the need for the wireless user terminal to include intelligence for informing the wireless access point of the quality of service parameter s required to be supported by the wireless access point for voice calls for the wireless user terminal. The present invention further obviates the need for statically configuring call legs. The present invention can be used in conjunction with various different signaling protocols e.g. H.323 Media Gateway Control Protocol MGCP Session Initiation Protocol SIP and the like as well as various combinations thereof .

The CN is a packet based network supporting VoIP services as well as other services for user terminals. Specifically CN provides network access for user terminals collectively user terminals . The user terminals may include any wired user terminals and or wireless user terminals capable of participating in voice calls over a packet based network. For example user terminals may include VoIP phones WiFi phones and the like. The CN supports propagation of call signaling e.g. call setup call modification and call teardown signaling for user terminals . The CN supports propagation of voice data for user terminals . Although depicted as one communication network CN may be a collection of networks e.g. access networks core networks and the like as well as various combinations thereof .

The WLANs operate as wireless access networks supporting VoIP services as well as other services for wireless user terminals. Specifically WAPs of WLANS provide wireless network access for respective pluralities of wireless user terminals through collectively wireless user terminals . The wireless user terminals may include any wireless user terminals capable of participating in voice calls over a wireless local area network. For example wireless user terminals may include WiFi phones or any other wireless devices capable of communicating via a WLAN . The WAPs support propagation of call signaling e.g. call setup call modification and call teardown signaling for wireless user terminals . The WAPs support propagation of voice data for wireless user terminals .

The CM provides call management functions for managing calls between user terminals and wireless user terminals . The call management functions may include functions such as call admission control functions call handling functions and the like as well as various combinations thereof. The CM supports call setup signaling for establishing voice calls associated signaling for negotiating and modifying characteristics of established voice calls and call termination signaling for terminating voice calls. The CM supports such functions for voice calls for user terminals and wireless user terminals .

The communication network architecture may be implemented using various types of networks and associated network protocols which may support packet based voice services. For example communication network architecture may support signaling protocols such as Session Initiation Protocol SIP Media Gateway Control Protocol MGCP H.323 Skinny Client Control Protocol SCCP UA NOE and the like as well as various combinations thereof . In one embodiment WLANs and associated WAPs may be based on IEEE 802.11 although the present invention may be used in conjunction with any type of wireless local area network requiring call admission control .

Since wireless user terminals are mobile and thus may move between wireless access points the number of active wireless user terminals and thus the amount of bandwidth as well as other associated quality of service parameters that must be supported by each wireless access point changes dynamically. As described herein the present invention provides a means by which wireless access points may determine whether to accept or reject call requests to wireless user terminals in such a dynamic environment. The present invention utilizes a call admission control proxy illustratively CAC P for providing quality of service information to a wireless access point for use by the wireless access point in determining whether to accept or reject voice calls on the basis of the quality of service that the wireless access point is capable of providing.

The CAC P performs call admission control support functions for enabling WAPs to control controls admission of voice calls for wireless user terminals being served by WAPs . The CAC P is able to maintain context for voice calls for wireless user terminals thereby providing CAC P access to signaling information which CAC P uses to determine quality of service information for WAPs . The CAC P propagates the quality of service information to WAPs for use by WAPs in determining whether to accept or reject voice calls. The operation of CAC P in providing the call control functions of the present invention may be better understood with respect to the example of and the method of .

Although primarily depicted and described herein as a standalone network element deployed between a call manager and wireless access points the call admission control proxy may be implemented as one or more modules on one or more network elements which may include existing network elements and or new network elements. In one embodiment the CAC P module may be implemented on a CM. In one embodiment the CAC P module may be implemented on each WAP. The CAC P module may also be implemented on gateways routers switches firewalls and the like as well as various combinations thereof. In other words CAC P may be implemented in any manner as long as CAC P has access to call signaling between user terminals and wireless user terminals .

As depicted in one of the user terminals illustratively user terminal initiates a voice call to one of the wireless user terminals illustratively wireless user terminal . In order to establish the voice call user terminal and wireless user terminals exchange call setup signaling messages denoted as signaling . The user terminal propagates call setup signaling messages to wireless user terminal via CM CAC P and AP and similarly wireless user terminal propagates call setup signaling messages to user terminal via AP CAC P and CM .

The call setup signaling messages exchanged between user terminal and wireless user terminal include signaling information. The signaling information includes information such as source address destination address and the like as well as various combinations thereof. The call setup signaling messages exchanged between user terminal and wireless user terminals also includes information associated with the codec s being negotiated between user terminal and wireless user terminal i.e. the codec s to be used by user terminal and wireless user terminals in the event that the voice call is successfully established .

As described herein the present invention may be used in conjunction with any signaling protocol such as SIP MGCP H.323 SCCP UA NOE and the like as well as various combinations thereof. The signaling information may vary across signaling protocols as well as across different messages of a given signaling protocol however as long as CAC P is able to extract the signaling information required for determining corresponding quality of service information CAC P may support any signaling protocol.

As depicted in call signaling messages exchanged between user terminal and wireless user terminal traverse CAC P . The CAC P processes the call signaling messages in order to extract signaling information adapted for use by CAC P in 1 identifying the WAP that is currently serving wireless user terminal illustratively WAP and 2 requesting a particular quality of service from identified WAP i.e. the quality of service parameters required to be supported by WAP in the event that the voice call is successfully established . The CAC P performs deep packet inspection of the call setup signaling messages in order to extract the signaling information.

The QOS information determined by CAC P specifies one or more QOS parameters required to be supported by WAP in order to support the voice call between user terminal and wireless user terminal . For example the QOS information may specify one or more bandwidth characteristics such as a data rate parameter e.g. a data rate required to be supported by AP a jitter parameter e.g. a level of jitter required to be supported by AP a latency parameter e.g. a level of latency required to be supported by WAP and the like as well as various combinations thereof. The QOS information may include other bandwidth characteristics and or any other information which may be required or specified for a voice call over a packet based network.

The CAC P determines the QOS parameters from the extracted signaling information. For example CAC P may determine the bandwidth characteristics such as data rate jitter requirements latency requirement and the like as well as various combinations thereof from the codec negotiated between user terminal and wireless user terminal . The CAC P accounts for both call legs of the requested voice call between user terminal and wireless user terminal i.e. the QOS information determined by CAC P will specify the QOS requirements which must be supported by WAP in order to support both call legs of the requested voice call .

For example for a G.711 codec which requires a data rate of 64 Kbps for voice communications the QOS information determined by CAC P will specify that 128 Kbps of bandwidth must be available at WAP in order to support both call legs of the requested voice call. Similarly for example for a G.726 codec which may use data rates of 16 24 32 or 40 Kbps assuming that CAC P determines from signaling information that a data rate of 16 Kbps will be used the QOS information determined by CAC P will specify that 32 Kbps of bandwidth must be available at WAP in order to support both call legs of the requested voice call. Although the foregoing examples are described with respect to specific codecs various other codecs may be used for providing packet based voice connections.

The CAC P propagates the QOS information to WAP in the form of a QOS request i.e. a request for WAP to determine whether or not it can support the QOS parameter s specific in the QOS information for the requested voice call denoted as QOS request . The QOS request includes the QOS information determined by CAC P . The CAC P may propagate the QOS request to WAP in any format. In one embodiment CAC P propagates the QOS request to WAP according to TSPEC standards. In one embodiment CAC P propagates the QOS request to WAP using an Application Programming Interface API which may be a standard API and or proprietary API. The CAC P may propagate the QOS information to WAP in any other format.

The WAP receives the QOS information from CAC P . The WAP determines based on the QOS information included in the QOS request whether to accept or reject the requested voice call. The WAP determines whether to accept or reject the requested voice call by determining based on the QOS information included in the QOS request whether or not it is capable of supporting the requested level of QOS for the requested voice call. For example where the QOS request includes a request for a specific amount of bandwidth required to support the requested voice call WAP determines whether there is sufficient bandwidth available at WAP to support the requested amount of bandwidth. The WAP may make similar determinations with respect to any other QOS parameter s which may be specified in the QOS request e.g. jitter latency and the like as well as various combinations thereof .

If the WAP accepts the requested voice call WAP reserves the bandwidth requested in the QOS request so that the bandwidth will be available to wireless user terminal for voice communications between user terminal and wireless user terminal . If the WAP rejects the requested voice call WAP does not reserve the bandwidth requested in the QOS request. In either case WAP propagates an appropriate response to CAC P i.e. a response indicative of whether WAP can or cannot support the requested voice call and thus whether WAP has accepted or rejected the requested voice call .

The WAP propagates a QOS response to CAC P denoted as QOS response . The QOS response provides an indication as to whether AP accepts or rejects the requested voice call. The QOS response may be propagated from AP to CAC P in any format. In one embodiment WAP propagates the QOS response to CAC P in the format with which CAC P propagated the corresponding QOS request to WAP . In one embodiment WAP propagates the QOS response to CAC P using the call signaling protocol of the call signaling messages used during the call setup signaling between user terminal and wireless user terminal . The WAP may provide the QOS response to CAC P in any other manner.

The CAC P processes the QOS response from WAP . As described herein processing of the QOS response depends on whether the QOS response is indicative that WAP has accepted the requested voice call or rejected the requested voice call.

If the QOS response is indicative that WAP has accepted the requested voice call CAC P initiates completion of the requested voice call. In one embodiment CAC P may initiate signaling to complete the requested voice call. In one embodiment CAC P may inform one or more other network elements that the requested voice call has been accepted by WAP and thus that call setup signaling adapted for completing setup of the requested voice call should be performed. In one such embodiment for example CAC P may propagate a message to CM denoted as message which triggers CM to initiate call setup signaling adapted for completing setup of the requested voice call.

If the QOS response is indicative that WAP has rejected the requested voice call CAC P initiates call handling processing for the requested voice call. The call handling processing for the requested voice call may be performed by CAC P or CAC P may trigger one or more other network elements to perform call handling processing for the requested voice call.

In one embodiment for example CAC P may provide an indication to CM that WAP has rejected the voice call denoted as messaging thereby triggering CM to initiate some call handling. In one further embodiment CM may initiate call handling by signaling one or more other network elements such as an application server illustratively AS to apply some call handling rule s denoted as messaging .

In one embodiment for example CAC P may provide an indication to one or more other network elements such as an application server illustratively AS that WAP has rejected the voice call denoted as messaging thereby triggering the one or more other network elements to initiate some call handling.

In such embodiments any type of call handling may be applied to the voice call request in response to rejection of the requested voice call by WAP . For example call handling may include providing a busy indicator to the calling user illustratively to user terminal forwarding the voice call to the voicemail of the called user i.e. the voicemail of the user of wireless user terminal forwarding the voice call to another user terminal of the called user and the like as well as various combinations thereof. The call handling applied to the requested voice call may include any other call handling.

In such embodiments the signaling messaging that is utilized to provide the desired call handling may be implemented using any Application Programming Interface s . For example the call handling may be provided using one or more of function calls the Simple Network Management Protocol SNMP the Extensible Markup Language XML and the like as well as various combinations thereof.

The operation of CAC P and WAPs in providing the call admission control functions and the associated quality of service functions of the present invention may be better understood with respect to depicted and described herein.

At step call signaling messages are monitored. The call signaling messages are messages exchanged for purposes of establishing a voice call from a user terminal wired or wireless to a wireless user terminal associated with a wireless access point WAP . At step signaling information is extracted from the call signaling messages. At step the WAP currently serving the wireless user terminal is identified.

At step QOS requirements required for the WAP to support the requested voice call are determined. The QOS requirements are determined from the signaling information. The QOS requirements may include bandwidth characteristics e.g. required data rate acceptable jitter acceptable latency and the like . The QOS requirements may include any other characteristics which may be specified for the requested voice call.

At step a QOS request message is generated. The QOS request message includes the QOS information. The QOS request message may specify the QOS information in any format. For example the QOS request message may specify the QOS information using the TSPEC standard using an API and the like as well as various combinations thereof. At step the QOS request message is sent to the WAP.

At step the QOS request message is received at the WAP. At step the WAP determines whether or not the requested voice call can be supported. The WAP determines whether or not the requested voice call can be supported using the QOS information included in the QOS request and WAP status information i.e. information about the current status of resources on the WAP .

If the WAP can support the requested voice call method proceeds to step at which point the WAP reserves resources for the voice call i.e. based on the QOS requested in the QOS request and then method proceeds to step at which point the WAP sends a QOS response back to the CAC P. If the WAP cannot support the requested voice call method proceeds to step at which point the WAP sends a QOS response back to the CAC P.

At step the CAC P receives the QOS response from the WAP. If the WAP has accepted the voice call on the basis of the QOS information the QOS response is indicative that the WAP has accepted the voice call. If the WAP has rejected the voice call on the basis of the QOS information the QOS response is indicative that the WAP has rejected the voice call.

At step a determination is made as to whether the requested voice call has been accepted or rejected by the WAP. If the call has been accepted method proceeds to step at which point the WAP signals a call manager to complete the voice call. If the call has been rejected method proceeds to step at which point the WAP determines appropriate call handling for the voice call.

From steps and method proceeds to step where method ends. Although depicted and described as ending as described herein additional signaling messaging may be performed by the CAC P and or the WAP in order to either complete the voice call and support the associated voice communications for the voice call or to apply any call handling which may be specified e.g. providing a busy signal forwarding the call to voicemail and the like as well as various combinations thereof .

Although primarily depicted and described herein with respect to call admission control in response to a requested voice call the call admission control proxy of the present invention may also provide functions associated with call modifications and call terminations.

In one embodiment for example the CAC P may monitor call signaling messages exchanged between two user terminals while a voice call is active. The call signaling messages may be exchanged for the purpose of modifying one or more aspects of the existing voice call e.g. renegotiating the codec being used or any other modifications . The CAC P extracts signaling information from the call signaling messages. The CAC P processes the signaling information to determine updated QOS information and propagates the updated QOS information to the WAP which may be used by the WAP in order to determine whether to accept or reject the requested modification s to the voice call.

In this embodiment if the WAP determines from the updated QOS information that the requested modification s to the voice call can be supported the WAP provides an indication to CAC P that the requested modification s can be supported. In this case the requested modification s may then be applied to the voice call. In this embodiment if the WAP determines from the updated QOS information that the requested modification s to the voice call cannot be supported the WAP provides an indication to CAC P that the requested modification s cannot be supported. In this case the requested modification s will not be applied to the voice call.

In one embodiment for example the principles of the present invention may be utilized in support of call admission control at wireless access points for priority voice calls. In one such embodiment if a determination is made that a WAP cannot support a requested voice call a determination may be made based on the priority of the requested voice call as to whether one or more existing voice calls should be preempted by the requested voice call. The requested voice call is then accepted or rejected by the WAP on the basis of the determination. The application of the principles of the present invention may be implemented in various different ways.

The priorities of voice calls may be defined in any manner. In one embodiment for example emergency calls e.g. 911 calls or calls to any other emergency numbers may be given priority over non emergency calls. In another embodiment for example in an enterprise environment priority may be based on job function or any other factor s . For example voice calls by officers and high level managers of the company may be given priority over voice calls by any other employees of the company. The priorities of voice calls may be defined in various other ways e.g. any number of priority levels may be used the priority levels may be defined in any way and the like as well as various combinations thereof .

The priority of the voice call s may be determined in any manner. In one embodiment the priority of the requested voice call may be determined by extracting call signaling information from call signaling messages that are exchanged between user terminals for establishing the requested voice call. Similarly in an embodiment in which acceptance of the requested voice call is dependent on the priorities of the existing voice calls the priorities of the existing voice calls may be determined in any manner e.g. by extracting signaling exchanged when the voice calls are established via queries as needed and the like as well as various combinations thereof .

The determination as to whether or not one or more existing voice calls should be preempted by a requested voice call on the basis of priority may be implemented in many ways e.g. determining if the priority of the requested voice call satisfies a condition or conditions or in any other manner . In one embodiment for example a determination may be made as to whether the requested voice call has a priority that is greater than a threshold and if it does one or more of the existing voice calls is preempted and the requested voice call is accepted. In another embodiment for example a determination may be made as to whether the requested voice call has a priority that is greater than the priority of any of the existing voice calls supported by the WAP and If it does one or more of the lower priority voice calls is preempted and the requested voice call is accepted.

The requested voice call is then accepted or rejected by the WAP on the basis of the determination as to whether one or more existing voice calls should be preempted by the requested voice call. If a determination is made that one or more existing voice calls should be preempted the requested voice call will be accepted by the WAP. If a determination is made that one or more existing voice calls should not be preempted the requested voice call will be rejected by the WAP. The acceptance rejection of the requested voice call may be performed in any manner e.g. using the QOS request and QOS response messaging depicted and described herein or in any other manner by which the requested voice call may be accepted or rejected .

Although primarily depicted and described with respect to a specific application of the principles of the present invention to call admission control based on call priority it will be understood that the principles of the present invention may be applied in various other ways to provide call admission control for various other applications.

It should be noted that the present invention may be implemented in software and or in a combination of software and hardware e.g. using application specific integrated circuits ASIC a general purpose computer or any other hardware equivalents. In one embodiment the present call admission control proxy process can be loaded into memory and executed by processor to implement the functions as discussed above. As such call admission control proxy process including associated data structures of the present invention can be stored on a computer readable medium or carrier e.g. RAM memory magnetic or optical drive or diskette and the like.

It is contemplated that some of the steps discussed herein as software methods may be implemented within hardware for example as circuitry that cooperates with the processor to perform various method steps. Portions of the present invention may be implemented as a computer program product wherein computer instructions when processed by a computer adapt the operation of the computer such that the methods and or techniques of the present invention are invoked or otherwise provided. Instructions for invoking the inventive methods may be stored in fixed or removable media transmitted via a data stream in a broadcast or other signal bearing medium and or stored within a memory within a computing device operating according to the instructions.

Although various embodiments which incorporate the teachings of the present invention have been shown and described in detail herein those skilled in the art can readily devise many other varied embodiments that still incorporate these teachings.

