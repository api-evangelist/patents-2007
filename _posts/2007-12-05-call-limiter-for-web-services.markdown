---

title: Call limiter for web services
abstract: Embodiments of methods, apparatuses, devices and systems associated with web services are disclosed. In a particular implementation, web services calls from one or more subscribers to a first server location may be tracked. One or more other server locations may be contacted to determine whether additional web services calls for the at least one of the one or more subscribers are available in response to at least one of the one or more subscribers reaching an established subscriber limit.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=07908363&OS=07908363&RS=07908363
owner: Yahoo! Inc.
number: 07908363
owner_city: Sunnyvale
owner_country: US
publication_date: 20071205
---
Embodiments of the invention relate to the field of web services and more specifically to limiting Web services calls at one or more server locations.

In the field of web services it may be desirable to limit access to the web services based on contractual terms with one or more web services subscribers. In addition under some circumstances it may be desirable to deliver web services from servers and or data centers having one or more locations.

In the following detailed description numerous specific details are set forth to provide a thorough understanding of the claimed subject matter. However it will be understood by those skilled in the art that the claimed subject matter may be practiced without these specific details. In other instances methods procedures components and or circuits that would be known by one of ordinary skill have not been described in detail so as not to obscure the claimed subject matter.

Reference throughout this specification to one embodiment or an embodiment may mean that a particular feature structure or characteristic described in connection with a particular embodiment may be included in at least one embodiment of claimed subject matter. Thus appearances of the phrase in one embodiment and or an embodiment in various places throughout this specification are not necessarily intended to refer to the same embodiment or to any one particular embodiment described. Furthermore it is to be understood that particular features structures and or characteristics described may be combined in various ways in one or more embodiments. In general of course these and other issues may vary with the particular context. Therefore the particular context of the description and the usage of these terms may provide helpful guidance regarding inferences to be drawn for that particular context.

Likewise the terms and or and and or as used herein may include a variety of meanings that will depend at least in part upon the context in which it is used. Typically and or if used to associate a list such as A B and or C is intended to mean A B or C as well as A B and C. Though it should be noted that this is merely an illustrative example and claimed subject matter is not limited to this example.

Unless specifically stated otherwise throughout this specification terms such as processing computing calculating selecting forming enabling inhibiting identifying initiating querying obtaining hosting maintaining representing modifying receiving transmitting storing authenticating authorizing hosting determining and or the like refer to actions and or processes that may be performed by a system such as a computer and or other computing platform capable of manipulating and or transforming data which may be represented as electronic magnetic and or other physical quantities within the system s processors memories registers and or other information storage transmission reception and or display devices. Accordingly a computing platform refers to a system or a device that includes the ability to process and or store data in the form of signals or electronic data. Thus a computing platform in this context may comprise hardware software firmware and or any combination thereof. Further unless specifically stated otherwise a process as described herein with reference to flow diagrams or otherwise may also be executed and or controlled in whole or in part by a computing platform.

In the field of web services it may under some circumstances be desirable to use distributed data centers or server locations to process client requests for web services. For example it may be desirable to have server locations in one or more geographic regions. Furthermore clients and or subscribers may agree to one or more contractual terms for web services. However with distributed data centers it may be difficult to limit a subscriber to the agreed upon terms for the web services. For example for a web service delivered by several possible server locations it may be difficult to limit the subscriber appropriately because some service requests may be processed by different server locations.

In this embodiment client may be associated with various subscribers or subscription based web services for example. Examples of web services may include but are in no way limited to web searches stock quotes and or other web based applications. For example a web search web services provider may limit a subscriber to a determined number of API call per day. Likewise a stock quotes web services may license their content via a web service and may limit a licensee to a determined number of calls per day. In an embodiment client may initiate one or more web services calls via a network which may be directed to one of server locations and or . In this embodiment the web service calls may be directed to a particular one of the server locations based on a number of factors including type of service request geographic relationship between client and the server locations downtime for one of the server locations and or current resources available at the different server locations to name but a few examples. U.S. Pat. No. 7 231 445 shows one example technique for distributing web service requests. Though it should be noted that these are merely illustrative examples relating to web services requests and that claimed subject matter is not limited in this regard.

In this embodiment the server locations may also comprise a rate limiter such as rate limiter of server location for example. As user herein a rate limiter may mean a hardware firmware or software component operable to monitor web services calls at least in part to prevent subscribers from exceeding an agreed upon limit to their web services usage. For example a subscriber may agree to limits on their use of one or more web services. These limits may include a limited amount of data transfer during one or more time periods a limited number of API calls during one or more time periods limits to access during certain parts of the day a specific service level limit such as a data transfer rate limit or and API call rate limit and or a prepaid limit to the amount of data and or API calls to name but a few examples. In this embodiment each of server locations and or may include a rate limiter along a service request pipeline associated with that server location. For example a rate limiter may be implemented as a server plug in module for server at server location . In this example the server plug in module at server may be operable to receive web services calls directed to server location and may be further operable to communicate with one or more plug ins at various servers associated with server location . In addition a rate limiter may be implemented as a separate server at server location . In this example server may be operable to receive web services calls directed to server location . In further addition a rate limiter may be implemented as a software program on a computing platform providing web services. In further addition rate limiter may be implemented as a combination of the previously discussed implementations. In addition communication between the rate limiters and the server locations may be asynchronous and or synchronous. It should however be noted that these are merely illustrative examples of a rate limiter and that claimed subject matter is not limited in this regards.

Regardless of the implementation details of rate limiter rate limiter may be operable to enforce a server location specific web services call limit on a per subscriber client or customer basis. For example rate limiter may under some circumstances be configured to receive or intercept one or more web services requests such as API calls directed to one of the server locations such as server location . For example rate limiter may be placed in one or more positions along a web services call processing pipeline such that rate limiter may be operable to interact with a web services call prior to that call being processed by a server. In this embodiment rate limiter may extract a client or subscriber ID from the web services request. Rate limiter may further keep track of the web services requests associated with particular subscribers such as client for example. For example rate limiter may include a web services call limit associated with client such as a subscriber limit and if a web services call is received from client then rate limiter may decrement a counter corresponding to the subscriber limit. As used herein the terms call limit and or subscriber limit may mean a contractual or agreed upon limit for service requests within a specified time period such as a limit on the number of service requests or API calls within a day an hour or a month for example. In this embodiment rate limiter may keep a real time record of how many web services calls may remain for client . Alternatively rate limiter may keep a real time record of how many web services calls have been received from client and check that number against a subscriber limit before allowing the web services call to be processed by server location for example. It should be noted that these are merely illustrative examples relating to a call limiter and that claimed subject matter is not limited in this regard.

With regard to if server location receives a web services call from client rate limiter may under some circumstances intercept the web services call. Rate limiter may then determine an identity or subscriber associated with client at least in part to determine whether client has web services calls remaining at server location for example. In this embodiment rate limiter may use counter to determine whether any web services calls remain for client . If web services calls remain available for client then rate limiter may allow the web services call to be processed by one of servers for example. If however there are no web services calls available for client at server location then rate limiter may use lease manager to attempt to lease additional web services calls from another server location such as server location for example. In this embodiment rate limiter may send a message to server location to determine whether additional web services calls are available for client at server location . Server location may pass this message to rate limiter . In this embodiment rate limiter may then use lease manager and or counter to determine if web services calls for client are available. If web services calls for client are available then server location may inform server location that web services calls are available. In response rate limiter and or lease manager may request to lease additional web service calls from server location . If the request is accepted by server location then lease manager may subtract the leased web services calls from counter while lease manager may add the leased web services calls to counter for example. After completing the lease transaction with server location rate limiter may allow the web services call from client to be processed by one of servers and decrement the updated subscriber limit. Likewise under some circumstances server location may attempt to lease web services calls from server location at least in part to process web service calls from a client such as client for example. Though it should be noted that these are merely illustrative examples of a rate limiter and that claimed subject matter is not limited in these regards.

If however there are other server locations available then at box the server location will attempt to contact the next server location on a list of server locations. For example the server location may include a list of all other server locations operable to process certain types of web services requests from particular clients. The server may then contact the next server location on the list whenever it has reached a subscriber limit for a particular client and attempt to lease additional web services calls for that client. For example at box the next server location will provide the first server location with information detailing the number of subscriber calls left for the client at that location. With regard to box the server location will determine based on the response received from the contacted other server location whether additional usage is available for lease. If not then server location will return to box and attempt to contact a next server location on the list. If no additional server locations are available then the server location will deny the request. If however usage is available for lease then the server location will proceed to box and update the subscriber limit to include the leased usage and decrement the subscriber limit to reflect the current web services request. The server location will then proceed to box and allow the web services request to be processed. Though again these are merely illustrative examples of leasing additional webs service requests and claimed subject matter is not limited in this regard.

In addition rate limit provisioner may adapt a distribution of a particular client s web services calls based on one or more learned aspects of that particular client. In the above example rate limit provisioner may determine over time that a higher percentage of web service calls are processed by server location than by server location . This difference could be due to any number of factors including geographic proximity of the client to the two server locations differences in capacity at the two server locations differences in demands placed upon the two server locations by other clients or subscribers to name but a few factors. In this embodiment rate limit provisioner may when distributing subsequent initial call limits for a particular client take into account such learned characteristics of the particular client when determining an initial distribution. In the above example rate limit provisioner may distribute the overall subscriber limit for a particular client so that each of server locations and have an initial limit that is proportional to the historic percentage of calls handled by each server location for that particular client. Though again it should be noted that these are merely illustrative examples of distributing an initial subscriber limit and that claimed subject matter is not limited in this regard.

In the preceding description various aspects of claimed subject matter have been described. For purposes of explanation specific numbers systems and or configurations were set forth to provide a thorough understanding of the claimed subject matter. However it should be apparent to one skilled in the art having the benefit of this disclosure that claimed subject matter may be practiced without the specific details. In other instances features that would be understood by one or ordinary skill were omitted and or simplified so as not to obscure claimed subject matter. While certain features have been illustrated and or described herein many modifications substitutions changes and or equivalents will now occur to those skilled in the art. It is therefore to be understood that the appended claims are intended to cover all such modifications and or changes as fall within the true spirit of claimed subject matter.

