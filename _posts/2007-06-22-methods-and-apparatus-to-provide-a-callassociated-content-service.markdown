---

title: Methods and apparatus to provide a call-associated content service
abstract: Methods and apparatus to provide a call-associated content service to voice over Internet protocol (VoIP) devices are disclosed. An example method comprises receiving a message comprising a uniform resource identifier (URI) and a call dialog parameter at a content mediator, the call dialog parameter associated with a first communication session between a voice over Internet protocol (VoIP) endpoint and a destination, establishing a second communication session from the mediator to the destination based on the URI and the call dialog parameter, receiving content associated with the first communication session via the second communication session, and providing the content to the VoIP endpoint.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08090840&OS=08090840&RS=08090840
owner: AT&T Intellectual Property I, L.P.
number: 08090840
owner_city: Reno
owner_country: US
publication_date: 20070622
---
This disclosure relates generally to voice over Internet protocol VoIP devices and more particularly to methods and apparatus to provide a call associated content service to VoIP devices.

Many voice over Internet protocol VoIP based devices e.g. smart telephones personal digital assistants etc. are presentation capable and or facilitate multimodal usage. For example user can provide inputs via voice dual tone multiple frequency DTMF inputs buttons and or on screen menus and or can receive outputs via voice video and or on screen displays. In one example presentation capable and or multimodal use devices can be used to implement graphical assisted telephony user interfaces that may be used for example to improve the usage of telephony services by persons with disabilities.

Methods and apparatus to provide a call associated content service to voice over Internet protocol VoIP devices are disclosed. A disclosed example method includes receiving a message comprising a uniform resource identifier URI and a call dialog parameter at a content mediator the call dialog parameter associated with a first communication session between a voice over Internet protocol VoIP endpoint and a destination establishing a second communication session from the mediator to the destination based on the URI and the call dialog parameter receiving content associated with the first communication session via the second communication session and providing the content to the VoIP endpoint.

Another disclosed example method includes performing a telephone number ENUM database query at a call session control function CSCF server to obtain a first uniform resource identifier URI for a destination and to obtain a second URI for the destination the second URI to provide content associated with a communication session established to the first URI establishing a first communication session to the destination based on the first URI and initiating a second communication session on behalf of a calling device to the destination based on the second URI.

Yet another disclosed example method includes receiving a telephone number ENUM query request message for a destination at an ENUM server identifying a first URI associated with the destination at the ENUM server the first URI useable to establish a first communication session to the destination and identifying a second URI associated with the destination at the ENUM server the second URI representative of a server to provide content associated with a first communication session via a second communication session.

A disclosed example apparatus includes a session initiation protocol SIP interface to receive a message comprising a uniform resource identifier URI and a call dialog parameter the call dialog parameter associated with a first communication session between a voice over Internet protocol VoIP endpoint and a destination an associated content agent to establish a second communication session to the destination based on the URI and the call dialog parameter and to receive content associated with the first communication session via the second communication session and a hyper text transfer protocol HTTP interface to provide the content to the VoIP endpoint.

Another disclosed example apparatus includes a telephone number ENUM interface to perform an ENUM database query to obtain a first uniform resource identifier URI for a destination and to obtain a second URI for the destination the second URI to provide content associated with a communication session established to the first URI protocol server logic to establish a first communication session to the destination based on the first URI and an associated content handler to initiate a second communication session on behalf of a calling device to the destination based on the second URI.

In the interest of brevity and clarity throughout the following disclosure references will be made to the example Internet protocol IP Multimedia subsystem IMS based voice over IP VoIP communication system of . Moreover the following disclosure will be made using session initiation protocol SIP messages and or SIP based message exchanges. However it should be understood that the methods and apparatus described herein to provide call associated content services are applicable to other VoIP communication systems and or networks e.g. networks based on soft switches VoIP devices IMS devices feature servers tElephone NUMber mapping ENUM servers border elements access networks IP networks IMS networks and or IMS communication systems and or other types of protocols messages and or message exchanges.

To access IMS communication services throughout and or within a site location building geographic area and or geographic region the example IMS communication system of includes any number and or type s of access networks one of which is designated in with reference number . In general the example access network provides and or facilitates a communicative coupling of the VoIP user device to and or with an IMS network which provides and or enables IMS communication services e.g. telephone services Internet services data services messaging services instant messaging services electronic mail email services chat services video services audio services gaming services voicemail facsimile services etc. to the VoIP device . However in some examples a VoIP device may access the IMS network without use of an access network . The example access network can be implemented using any number and or type s of past present and or future standards specifications communication devices networks technologies and or systems such as public switched telephone network PSTN systems public land mobile network PLMN systems e.g. cellular wireless distribution systems wired or cable distribution systems coaxial cable distribution systems Ultra High Frequency UHF Very High Frequency VHF radio frequency systems satellite or other extra terrestrial systems cellular distribution systems power line broadcast systems fiber optic networks and or any combinations and or hybrids of these devices systems and or networks.

While in the illustrated example of the example VoIP device is depicted as having an associated access network such a depiction is merely illustrative. For example a VoIP device may be configured and or capable to utilize more than one access network at the same and or different times a VoIP device may be configured to access the IMS network directly and or via an IP network without an intervening access network etc.

To provide communication services the example IMS based VoIP communication system of includes one or more IMS networks one of which is designated in with reference numeral . As described more fully below in connection with the example IMS network of provides and or enables in addition to other things e.g. traditional VoIP and or IMS communication sessions and or services call associated content services to presentation capable and or multimodal use VoIP devices such as the example VoIP device . As used herein the term call associated content refers to content provided to a VoIP device by a content server e.g. an interactive voice response IVR system and or any type of VoIP based automata where the content is selected by the content server based on a communication session e.g. call between the VoIP device and the content server . The example content server of includes one or more servers to facilitate the communication session e.g. a voice communication session server and to facilitate the delivery of the call associated content e.g. a web services server . Example call associated content includes but is not limited to advertisements displayed by the VoIP device while speaking to a retail business technical support information displayed by the VoIP device while speaking with technical support personnel text of the information being provided in an IVR communication session for persons with hearing impairments etc. In the illustrated example of the call associated content is provided to the VoIP device via a separate communication session from the actual call to allow a user of the VoIP device to simultaneously participate in the original communication session e.g. call while being presented with and or reviewing the call associated content at the VoIP device e.g. via a display of the VoIP device . While in the illustrated example the call associated content is graphical content that is web based e.g. presented as a series of web pages and the content is associated with a voice based communication session e.g. a telephone call any type of content graphical video image text and or otherwise may be associated with any type of communication session e.g. a video conference a text message session etc. .

When the example VoIP device initiates a communication session e.g. a voice based telephony communication session to the example content server the example IMS network of determines a whether the content server has call associated content for the voice communication session and b whether the calling VoIP device is capable of displaying and or presenting call associated content. When the content server has call associated content for the initiated communication session and when the VoIP device is capable of displaying and or presenting the associated content the IMS network facilitates and or mediates the delivery of the call associated content to the VoIP device from the content server . By mediating the delivery of the call associated content from the content server to the VoIP device the IMS network can facilitate the delivery of call associated content across and or between more than one VoIP based communication network e.g. operated by different service providers and or in different administrative domains can ensure and or check the integrity of the call associated content before it is provided to the VoIP device e.g. only received call associated content from an authorized content source and or provides a consistent means of receiving call associated content regardless of who operates a particular content server. For instance in the illustrated example of the content server is communicatively coupled to the example IMS network via an intervening terminating network . The example terminating network of may be a VoIP based network a PSTN based network and or any combination of VoIP and PSTN based networks. Even though the terminating network may be operated by a different service provider than that operating the IMS network the example IMS network facilitates and or mediates the delivery of call associated content from the content server to the VoIP device via the terminating network .

In contrast traditional VoIP communication networks rely on content servers to provide the call associated content directly to VoIP devices. For example in known systems a content server sends a communication session initiation request to a VoIP device to provide the call associated content. However in such examples the delivery of call associated content may not be possible if the call associated content must pass through and or be processed by more than one VoIP communication network. Moreover traditional delivery of call associated content from a content server to a VoIP device does not allow a VoIP service provider and or VoIP based enterprise e.g. a company a school a government agency a medical facility etc. to protect its VoIP devices from corrupt malicious and or inappropriate call associated content provided by the content server.

To mediate the delivery of call associated content between the content server and the VoIP device the example IMS network of includes a content mediator . In general the example content mediator of implements a web services client to obtain call associated content from the content server e.g. the example web services server and implements a web server to facilitate providing the call associated content to the VoIP device . As described more fully below in connection with when the example content mediator of is notified that there is call associated content for a voice communication session e.g. by a serving call session control function S CSCF server the example content mediator e.g. a web services client initiates a web services communication session with the content server e.g. the example web services server to obtain the call associated content. The example content mediator e.g. a web server also initiates a hyper text transfer protocol HTTP communication session with the VoIP device to provide the call associated content obtained from the content server to the VoIP device . To enable the content server e.g. the example web services server to identify the call associated content the content mediator provides to the content server e.g. in a web services NOTIFY message one or more call dialog parameters used to initiate and or establish the voice communication session between the VoIP device and the content server . Example call dialog parameters include but are not limited to a call identification number to header field contents from an original SIP INVITE message and or from header field contents from an original SIP INVITE message. Likewise to allow the VoIP device to associate the content with the voice communication session the content mediator provides to the VoIP device e.g. in a SIP NOTIFY message the one or more call dialog parameters used to initiate and or establish the voice communication session between the VoIP device and the content server . An example manner of implementing the example content mediator of is described below in connection with .

In the example IMS communication system of the example VoIP device is communicatively coupled to the example IMS network via the example access network and or any number and or type s of private and or public IP based communication networks such as for example the Internet one of which is illustrated in with reference numeral . While in the illustrated example of the example VoIP device is depicted as having an associated IP network such a depiction is merely illustrative. For example the example VoIP device may be configured and or capable to utilize more than one IP network at the same and or different times etc. In general the example IP network of provides and or facilitates a communicative coupling of the VoIP device to and or with the IMS network .

In some examples the VoIP device may be communicatively coupled to the access network via one or more additional IP based networks and or devices not shown such as a local area network LAN a gateway and or a router located within a place of business a school and or a residence. The example VoIP device of is communicatively coupled to the example access network the example IP network and or more generally the example IMS network via any number and or type s of past current and or future communication network s communication system s communication device s transmission path s protocol s technique s specification s and or standard s . For instance the example VoIP device may be coupled to the example access network the example IP network and or the example IMS network via any type s of voice band modem s digital subscriber line DSL modem s cable modem s Ethernet transceiver s optical transceiver s IP virtual private network VPN connection s Institute of Electrical and Electronics Engineers IEEE 802.11x a.k.a. WiFi transceiver s IEEE 802.16 a.k.a. WiMax wireless local area network WLAN access point s general packet radio services GPRS networks in 3G wireless networks etc. Moreover any or all of the example IMS network the example access network and or the example IP network of may extend geographically to include one or more locations near to and or encompassing one or more of the VoIP device . For example the access network may include a wireless access point not shown by which for example a WiFi IP phone connects to the IP network and the IMS network .

In the example IMS communication system of the example access network the example IP network and the IMS network need not be owned implemented and or operated by a single service provider. For example the VoIP device may access IMS services provided by an IMS network that is owned operated and or implemented by a first service provider via an access network which is owned operated and or implemented by a different service provider. However any or all of the access network the IMS network and or the IP network may be operated by the same service provider.

In the illustrated example IMS communication system of each VoIP device e.g. the example VoIP device that is registered to the example IMS network is associated with and or assigned to a serving call session control function S CSCF server one of which are designated in with reference numeral . The example S CSCF server of is responsible for handling incoming and or outgoing IMS e.g. VoIP communication sessions e.g. telephone calls and or data and or video sessions associated with its registered VoIP devices. An example manner of implementing the example S CSCF of is described below in connection with .

While one S CSCF server is illustrated in the IMS network may include any number and or type s of S CSCF servers and each such S CSCF server may support any number and or type s of VoIP devices. The example S CSCF server of performs session control maintains session states and or enables communications with call feature servers e.g. the example feature servers of for its associated and or registered VoIP devices. For instance when the calling VoIP device initiates for example an outgoing telephone call to the example content server e.g. the example voice communication session server a communication session initiation message e.g. a SIP INVITE message is routed by the IMS network from the VoIP device to the S CSCF server associated with that particular VoIP device .

To locate and or identify the VoIP device and or endpoint e.g. the example content server associated with a called party e.g. a called telephone number the example IMS network of includes any number of ENUM servers one of which is designated in with reference numeral . Based upon an ENUM query request message received from a S CSCF server e.g. the example S CSCF server the example ENUM server of performs a lookup of an ENUM database that stores associations of called party identifiers e.g. E.164 telephone numbers to one or more uniform resource identifiers URIs e.g. a SIP URI an HTTP URI etc. . However the ENUM database may store any number and or type s of associations between any number and or type s of identifiers. An example data structure that may be used to implement the example ENUM database of is described below in connection with .

By performing a lookup of the ENUM database a SIP URI e.g. an IP address for a called device can be identified based upon a called telephone number assigned to the called device. If the called device e.g. the example content server is configured to provide call associated content for the called telephone number the example ENUM database also stores a second URI e.g. an HTTP URI for a web services server e.g. the example web services server at the called device. As described more fully below the second URI can be used by for example the example content mediator to obtain the call associated content on behalf of the calling VoIP device . In some examples the ENUM database also contains a third SIP URI associated with each called telephone number that identifies a content mediator e.g. the example content mediator to be used to obtain the call associated content on the behalf of the calling VoIP device .

In response to the communication session initiation message the example S CSCF server sends an ENUM query request message to an ENUM server e.g. the example ENUM server to obtain an identifier e.g. a SIP URI for the called party e.g. the example voice communication server at the example content server . The URI obtained from the example ENUM server is used by the S CSCF server to establish the requested communication session. If the ENUM server also returns a second URI e.g. an HTTP URI for an associated content server at the called party e.g. the example web services server the example S CSCF server of notifies a content mediator e.g. a content mediator identified by a third URI returned by the ENUM server that there is call associated content for the initiated communication session e.g. sends a SIP NOTIFY message to the content mediator . In the illustrated example of the notification e.g. the SIP NOTIFY message sent to the content mediator includes one or more call dialog parameters used to initiate and or establish the requested communication session between the VoIP device and the called device e.g. included in a SIP INVITE message sent by the S CSCF server to the called device . Example call dialog parameters include but are not limited to a call identification number to header field contents from the SIP INVITE message sent to the called device and or from header field contents from SIP INVITE message sent to the called device.

To provide an access entry point for a VoIP device e.g. the example VoIP device into the IMS network the example IMS network of includes any number and or type s of proxy call session control function P CSCF servers one of which is designated in with reference numeral . The example P CSCF server of among other things route SIP messages between VoIP devices and their associated S CSCF server.

To locate and or identify the S CSCF server e.g. the example S CSCF server associated with a VoIP device the example IMS network of includes any number and or type s of interrogating call session control function I CSCF servers one of which is designated in with reference number . The example I CSCF server of serves as a contact point within the example IMS network for connections destined for a VoIP device of the IMS communication system and or for a VoIP device currently located within the serving area of the IMS network e.g. a roaming subscriber . For example for a destination identified by the example ENUM server the example I CSCF identifies to which S CSCF server the final destination VoIP device is registered. IMS protocol messages e.g. SIP messages directed to the destination VoIP device are then routed to the S CSCF server identified by the I CSCF . If a destination identified by the ENUM server is associated with a device not associated with the IMS network e.g. a PSTN device a PLMN device and or a VoIP device served by a different IMS and or VoIP network protocol messages directed to the destination are routed to a border element .

The example border element of facilitates communication between devices e.g. the example VoIP device of the example IMS network and devices of other communication networks e.g. the example content server such as other IMS networks other VoIP networks a PLMN e.g. a cellular communication network and or a PSTN. While a single border element is illustrated in it will be understood that any number and or type s of border elements may be implemented by the example IMS network to facilitate communication between the IMS network and any number and or type s of other communication networks. Example border elements include but are not limited to a media gateway and or a peered border element.

To manage subscriber information and or to enable subscribers and or servers to locate other servers subscribers and or destinations the example IMS network of includes any number and or type s of home subscriber server s HSSs one of which is designated in with reference numeral . The example HSS of maintains a device profile and or one or more preferences for each subscriber and or VoIP device of the IMS network . The example I CSCF server of uses information contained in the HSS to for example determine and or locate the S CSCF server associated with a particular subscriber and or VoIP device .

To provide one or more additional call features the example IMS network of includes any number and or type s of application servers one of which is designated in with reference numeral . The example application server of also referred to herein as a feature server provide and or implement additional service features for subscribers e.g. call barring calling name delivery and or blocking call blocking call forward call busy transfer call screening call forking call trace voicemail announcement servers call trees etc. . Example application servers include but are not limited to voice over Internet protocol VoIP feature servers. The application server may be used to provide and or implement call features and or services for calling and or called parties.

As illustrated in the example content mediator the example S CSCF server the example feature server the example ENUM server the example P SCSCF server the example I CSCF server the example border element and or the example HSS communicate and or are communicatively coupled via any number type s and or combination of communication paths communication networks busses and or communication devices .

While an example IMS based VoIP communication system and an example IMS network have been illustrated in the devices networks systems servers and or processors illustrated in may be combined divided re arranged eliminated and or implemented in any way. For example it will be readily appreciated by persons of ordinary skill in the art that the example content mediator the example S CSCF server the example feature server the example ENUM server the example P SCSCF server the example I CSCF server the example border element and or the example HSS illustrated in are logical entities of the example IMS network . They may therefore be implemented separately and or in any combination using for example machine accessible instructions executed by one or more computing devices and or computing platforms e.g. the example processing platform of . Further the example VoIP device the example content server the example voice communication session server the example web services server the example content mediator the example S CSCF server the example feature server the example ENUM server the example P SCSCF server the example I CSCF server the example border element and or the example HSS and or more generally the example IMS network may be implemented by hardware software firmware and or any combination of hardware software and or firmware. Further still the example IMS based VoIP communication system and or the example IMS network may include additional devices servers systems networks gateways portals and or processors in addition to or instead of those illustrated in and or may include more than one of any or all of the illustrated devices servers networks systems gateways portals and or processors. For example an IMS network may include any number and or type s of media gateways media gateway control function BGCF servers breakout gateway control function BGCF severs soft switches and or session border controllers.

To interact with an ENUM server e.g. the example ENUM server of the example S CSCF server of includes an ENUM server interface . The example ENUM server interface of is used to send an ENUM query message to an ENUM server and or to receive an ENUM query response message from the ENUM server. An example ENUM server interface is implemented in accordance with Internet Engineering Task Force IETF Request for Comment RFC 3761.

To process and or handle SIP messages the example S CSCF of includes SIP server logic . The example SIP server logic of implements a state engine and or maintains state information for SIP transactions dialogs and or communication sessions including for example handling registrations and or handling incoming outgoing calls as defined in Internet Engineering Task Force IETF Request for Comment RFC 3261. For example when a communication session request is received from a calling party at the S CSCF the example SIP server logic performs an ENUM lookup for the called party by sending an ENUM query message to an ENUM server e.g. the example ENUM server of via the example ENUM server interface .

To facilitate the delivery of call associated content to VoIP devices the example S CSCF server of includes an associated content handler . When a second URI e.g. an HTTP URI for call associated content is return from the ENUM server via the ENUM server interface the example associated content handler of checks and or determines whether the calling VoIP device is capable and or configured to display call associated content. If the calling VoIP device capable and or configured to display call associated content the associated content handler notifies and or instructs a content mediator e.g. the example content mediator of to obtain the call associated content via the second URI. The content mediator then provides the obtained call associated content to the calling VoIP device. In some examples the ENUM server also returns a third SIP URI for the content mediator. In other examples the associated content handler is provisioned with a SIP URI for the content mediator. To notify the content mediator the example associated content handler of sends a SIP NOTIFY message to the content mediator that includes the second URI and one or more call dialog parameters used to initiate and or establish the requested communication session between the VoIP device and the called device e.g. included in a SIP INVITE message sent by the S CSCF server to the called device . Example call dialog parameters include but are not limited to a call identification number to header field contents from the SIP INVITE message sent by the SIP server logic to the called device via the first URI returned by the ENUM server and or from header field contents from SIP INVITE message sent by the SIP server logic to the called device via the first URI returned by the ENUM server. Example machine accessible instructions that may be executed to implement the example associated content handler and or more generally the example S CSCF to facilitate a call associated content service are described below in connection with .

While an example manner of implementing the example S CSCF of has been illustrated in one or more of the interfaces data structures elements processes and or devices illustrated in may be combined divided re arranged omitted eliminated and or implemented in any other way. For example the S CSCF may be implemented by modifying and or enhancing a traditional and or existing S CSCF by the addition of one or more functions of the example associated content handler . Further the example SIP interface the example ENUM interface the example SIP server logic the example associated content handler and or more generally the example S CSCF may be implemented by hardware software firmware and or any combination of hardware software and or firmware. Further still the example S CSCF may include interfaces data structures elements processes and or devices instead of or in addition to those illustrated in and or may include more than one of any or all of the illustrated interfaces data structures elements processes and or devices. For example the S CSCF may include and or implement one or more additional capabilities interfaces and or protocols in accordance with one or more past present and or future standards and or specifications e.g. a DIAMETER interface and or protocol for interacting with a HSS . Such standards and or specifications may be developed by organizations such as for example 3GPP TISPAN and or IETF.

To store a SIP URI for the called destination each of the example entries of includes a destination SIP URI field . The example destination SIP URI field of contains one or more numbers and or alphanumeric characters that represent an address e.g. an IP address to which protocol messages can be routed to the called destination.

To store an HTTP URI that may be used to obtain call associated content from the called destination each of the example entries of includes a destination HTTP URI field . The example destination HTTP URI field of contains one or more numbers and or alphanumeric characters that represent an address e.g. an IP address from which call associated content may be obtained.

To store a mediator SIP URI that may be used to obtain call associated content on behalf of a calling VoIP device each of the example entries of includes a mediator SIP URI field . The example mediator SIP URI field of contains one or more numbers and or alphanumeric characters that represent a content mediator e.g. the example content mediator of . In some examples one or more of the entries may not include a mediator SIP URI. Instead the S CSCF server handling the requested communication session uses a provisioned content mediator SIP URI to obtain the call associated content on behalf of the calling VoIP device.

While an example data structure that may be used to implement the example ENUM database of is illustrated in the example data structure of may be implemented using any number and or type s of other and or additional entries fields and or data. Further the entries fields and or data illustrated in may be combined divided re arranged eliminated and or implemented in any way. Moreover the example data structure may include additional entries fields and or data than those illustrated in and or may include more than one of any or all of the illustrated entries fields and or data.

To obtain called associated content the example content mediator of includes an associated content agent and a web services client . When the content mediator is notified by an S CSCF server e.g. the example S CSCF server of to obtain call associated content e.g. by receiving a SIP NOTIFY message via the example SIP interface the example associated content agent of interacts with the web services server e.g. the example web services server specified in the notification to obtain the call associated content. The notification received from the S CSCF server includes a URI for the web services server and one or more call dialog parameters used to initiate and or establish the requested communication session between the calling VoIP device and the content server e.g. included in a SIP INVITE message sent by the S CSCF server to a voice communication session server at the content server . Example call dialog parameters include but are not limited to a call identification number to header field contents from the SIP INVITE message and or from header field contents from the SIP INVITE message. The example associated content agent obtains the call associated content via the example web services client .

Using any protocols messages and or exchanges e.g. those defined by a past present and or future web services protocol the example web services client of requests and or obtains call associated content from a content server e.g. the example web services server of . The example web services client sends a web services NOTIFY message to the web services server to request the call associated content. The web services NOTIFY message includes one or more call dialog parameters used to initiate and or establish an initial communication session between the calling VoIP device and the content server e.g. included in a SIP INVITE message sent by the S CSCF server to a voice communication session server at the content server . Example call dialog parameters include but are not limited to a call identification number to header field contents from the SIP INVITE message and or from header field contents from the SIP INVITE message. In response to the web services NOTIFY message the web services server pushes the requested call associated content to the web services client . An example application programming interface API between the web services client and a content server e.g. the example web services server of the example content server is implemented in accordance with one or more past present and or future simple object access protocol SOAP and or eXtended Markup Language XML specification s and or standard s . Data messages and or information may be transported between the web services client and the content server via HTTP.

To verify call associated content obtained by the associated content agent and or the example web services client the example content mediator of includes a content checker . Using any algorithm s filter s and or business rule s the example content checker verifies the integrity and or suitability of the obtained call associated content. When the example content checker verifies the call associated content the call associated content is stored in a content database for later retrieval by and or delivery to a call VoIP device e.g. the example VoIP device of . The example content database of may be implemented using any number and or type s of data structures and may be stored using any number and or type s of memory ies and or memory device s .

Once the call associated content is obtained verified and stored in the content database the example associated content agent of notifies the call VoIP device that call associated content is available. The example associated content agent sends a SIP REFER message to the calling VoIP device via the example SIP interface . The SIP REFER message includes an HTTP URI from which the call associated content may be retrieved from the content mediator and one or more call dialog parameters used by the calling VoIP device to initiate and or establish an initial communication session between the calling VoIP device and the content server e.g. included in a SIP INVITE message sent by the calling VoIP device to its associated S CSCF server . Example call dialog parameters include but are not limited to a call identification number to header field contents from the SIP INVITE message and or from header field contents from the SIP INVITE message.

To provided call associated content to VoIP devices e.g. the example VoIP device of the example content mediator of includes a web server that implements for example an HTTP interface. The example web server of implements one or more traditional HTTP server functions to allow a VoIP device e.g. a web client to request and then download call associated content stored in the content database . In response to an HTTP GET message received by the web server the example web server provides the call associated content associated with the HTTP URI designated in the HTTP GET message to the VoIP device.

In some examples the example content database and or more generally the example content mediator of cache call associated content to reduce duplicative retrieval of call associated content from content servers. For example call associated content may stored with an associated expiration date and or time. If a request for already stored call associated content is received by the content mediator before the call associated content expires the content mediator provides the call associated content to the calling VoIP device without the need to interact with the content server.

While an example manner of implementing the content mediator of has been illustrated in one or more of the interfaces data structures elements processes and or devices illustrated in may be combined divided re arranged omitted eliminated and or implemented in any other way. Further the example SIP interface the example associated content agent the example web services client the example content checker the example web server and or more generally the example content mediator may be implemented by hardware software firmware and or any combination of hardware software and or firmware. Further still the example content mediator may include interfaces data structures elements processes and or devices instead of or in addition to those illustrated in and or may include more than one of any or all of the illustrated interfaces data structures elements processes and or devices.

The example protocol message exchanges of begin with the example calling VoIP device sending a communication session initiation message e.g. a SIP INVITE message which specifies the content server as the destination for the communication session to its associated S CSCF . The S CSCF sends an ENUM query request message to the ENUM server and receives an ENUM query response message . The example ENUM query response message of includes a destination SIP URI e.g. the example destination SIP URI of for a voice communication session server e.g. the example server of a destination HTTP URI e.g. the example destination HTTP URI for a web services server e.g. the example server and a mediator SIP URI e.g. the example mediator SIP URI .

Using the destination SIP URI the S CSCF server sends a SIP INVITE message to content server e.g. the example voice communication session server of via the terminating network . Based on the SIP INVITE message the voice communication session server establishes a voice communication session between the voice communication session server and the calling VoIP device .

In the illustrated example of the VoIP device is call associated content capable block and the S CSCF server sends a SIP NOTIFY message to the content mediator . The example SIP NOTIFY message of contains the HTTP URI and one or more call dialog parameters used by the calling VoIP device the S CSCF and or the content server to initiate and or establish the communication session between the calling VoIP device and the content server . Example call dialog parameters include but are not limited to a call identification number to header field contents from the SIP INVITE message and or from header field contents from the SIP INVITE message. If the VoIP device had not been call associated content capable the S CSCF server would have continued having the communication session for the VoIP device as is traditional.

In response to the SIP NOTIFY message the content mediator establishes a web services communication session between the content mediator and the content server e.g. to the example web services server of to obtain the call associated content. The content mediator e.g. the example web services client sends a web services NOTIFY message to the content server to request the call associated content via the web services communication session . The example web services NOTIFY message of contains one or more call dialog parameters used by the calling VoIP device the S CSCF and or the content server to initiate and or establish the communication session between the calling VoIP device and the content server . The content server responds to the web services NOTIFY message by providing the call associated content to the content mediator via the web services communication session .

The content mediator verifies and stores the received call associated content block and then notifies the calling VoIP device that call associated content is available. The content mediator notifies the VoIP device by sending a SIP REFER message to the VoIP device via the S CSCF server . The example SIP REFER message of contains one or more call dialog parameters used by the calling VoIP device the S CSCF and or the content server to initiate and or establish the communication session between the calling VoIP device and the content server .

In response to the SIP REFER message the VoIP device e.g. a web client establishes a HTTP communication session between the VoIP device and the content mediator and sends a request message e.g. an HTTP GET message to the content mediator via the HTTP communication session . The VoIP device e.g. the web client then receives the call associated content from the content mediator via the HTTP communication session .

The example machine accessible instructions of begin when a S CSCF server e.g. the example S CSCF server of and or receives a SIP INVITE message e.g. the example SIP INVITE message of received via the example SIP interface of from a calling VoIP device e.g. the example VoIP device . The S CSCF server e.g. the example SIP server logic performs an ENUM database query e.g. via the example ENUM server interface block .

The SIP service logic forwards and or sends a SIP INVITE message to the called destination e.g. the example voice communication session server of using a destination SIP URI e.g. the example destination SIP URI of returned by an ENUM server block .

The S CSCF server e.g. the example associated content handler of determines if there is call associated content for the communication session e.g. no additional URIs are returned by the ENUM server block . If there is no call associated content for the communication session block control exits from the example machine accessible instructions of .

If there is call associated content available e.g. a destination HTTP URI is returned by the ENUM server block but the associated content handler determines that the calling device is not call associated content capable block control exits from the example machine accessible instructions of .

If there is call associated content available e.g. a destination HTTP URI is returned by the ENUM server block and the calling device is call associated content capable block associated content handler notifies a content mediator e.g. the example content mediator by sending a SIP NOTIFY message to the content mediator block . Control then exits from the example machine accessible instructions of .

The example machine accessible instructions of begin when a content mediator e.g. example SIP interface of receives a notification e.g. the example SIP NOTIFY of to mediate call associated content for a calling VoIP device. The content mediator e.g. the associated content agent and the example web services client establishes a web services communication session with a content server e.g. the example web services server of block . The content mediator sends a web services NOTIFY message e.g. the example web services NOTIFY message to the content server via the web services communication session block . The web services client then receives the call associated content from the web services server at the content server via the web services communication session block . The content mediator e.g. the example content checker of then verifies the received call associated content and stores the verified content e.g. in the example content database block .

The associated content agent sends a SIP REFER message to the calling device via the SIP interface block and establishes an HTTP communications session with the calling device block . When the content mediator e.g. the example web server receives an HTTP GET message from the calling device e.g. a web client via the HTTP communication session block the web server sends the call associated content to the web client via the HTTP communication session block . Control then exits from the example machine accessible instructions of .

The processor platform of the example of includes at least one general purpose programmable processor . The processor executes coded instructions and or present in main memory of the processor e.g. within a RAM and or a ROM . The processor may be any type of processing unit such as a processor core a processor and or a microcontroller. The processor may execute among other things the example protocol message exchanges and or the example machine accessible instructions of and or to implement the example methods and apparatus described herein.

The processor is in communication with the main memory including a ROM and or the RAM via a bus . The RAM may be implemented by DRAM SDRAM and or any other type of RAM device and ROM may be implemented by flash memory and or any other desired type of memory device. Access to the memory and may be controlled by a memory controller not shown .

The processor platform also includes an interface circuit . The interface circuit may be implemented by any type of interface standard such as an external memory interface serial port general purpose input output etc. One or more input devices and one or more output devices are connected to the interface circuit . The input devices and or output devices may be used to for example implement the example SIP interface and or the example ENUM server interface of and or the example SIP interface the example web services client and or the example web server of .

Of course persons of ordinary skill in the art will recognize that the order size and proportions of the memory illustrated in the example systems may vary. Additionally although this patent discloses example systems including among other components software or firmware executed on hardware it will be noted that such systems are merely illustrative and should not be considered as limiting. For example it is contemplated that any or all of these hardware and software components could be embodied exclusively in hardware exclusively in software exclusively in firmware or in some combination of hardware firmware and or software. Accordingly persons of ordinary skill in the art will readily appreciate that the above described examples are not the only way to implement such systems.

At least some of the above described example methods and or apparatus are implemented by one or more software and or firmware programs running on a computer processor. However dedicated hardware implementations including but not limited to an ASIC programmable logic arrays and other hardware devices can likewise be constructed to implement some or all of the example methods and or apparatus described herein either in whole or in part. Furthermore alternative software implementations including but not limited to distributed processing or component object distributed processing parallel processing or virtual machine processing can also be constructed to implement the example methods and or apparatus described herein.

It should also be noted that the example software and or firmware implementations described herein are optionally stored on a tangible storage medium such as a magnetic medium e.g. a disk or tape a magneto optical or optical medium such as a disk or a solid state medium such as a memory card or other package that houses one or more read only non volatile memories random access memories or other re writable volatile memories or a signal containing computer instructions. A digital file attachment to e mail or other self contained information archive or set of archives is considered a distribution medium equivalent to a tangible storage medium. Accordingly the example software and or firmware described herein can be stored on a tangible storage medium or distribution medium such as those described above or equivalents and successor media.

To the extent the above specification describes example components and functions with reference to particular devices standards and or protocols it is understood that the teachings of the invention are not limited to such devices standards and or protocols. Such systems are periodically superseded by faster or more efficient systems having the same general purpose. Accordingly replacement devices standards and or protocols having the same general functions are equivalents which are intended to be included within the scope of the accompanying claims.

Although certain example methods apparatus and articles of manufacture have been described herein the scope of coverage of this patent is not limited thereto. On the contrary this patent covers all methods apparatus and articles of manufacture fairly falling within the scope of the appended claims either literally or under the doctrine of equivalents.

