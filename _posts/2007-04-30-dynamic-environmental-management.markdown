---

title: Dynamic environmental management
abstract: A system is described herein for providing environmental management of a physical location using a sensor network having a plurality of environmental sensors and at least one primary actuator configured to provide an environmental change to the physical location. The system includes a communications module that operates to access the plurality of environmental sensors of the sensor network, and an application module that operates to: a) commission the plurality of environmental sensors of the sensor network; control an operation of the at least one primary actuator to provide environmental management of the physical location based on the commission of the plurality of environmental sensors of the sensor network; and c) provide a graphical layout of an environmental condition of the physical location based on both the commission of the plurality of environmental sensors and the control of the at least one primary actuator.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=07676280&OS=07676280&RS=07676280
owner: Hewlett-Packard Development Company, L.P.
number: 07676280
owner_city: Houston
owner_country: US
publication_date: 20070430
---
This application is a continuation in part of the following U.S. patent Application Publication and patent Applications U.S. Patent Application Publication No. 20060206291 entitled COMMISIONING OF SENSORS filed on Mar. 11 2005 and published on Sep. 14 2006 now U.S. Pat. No. 7 117 129 U.S. Patent Application Publication No. 20060214014 entitled TEMPERATURE CONTROL USING A SENSOR NETWORK filed on Mar. 25 2005 and published on Sep. 28 2006 and U.S. patent application Ser. No. 11 699 402 entitled COMPUTERIZED TOOL FOR ASSESSIGN CONDITIONS IN A ROOM filed on Jan. 29 2007 all of which are herein incorporated by reference in their entireties.

A data center may be defined as a physical location for example a room that houses one or more components such as computer systems that are capable of generating heat. The computer systems may be arranged in a number of racks. These racks are configured to house a number of computer systems which typically include a number of printed circuit boards PCBs mass storage devices power supplies processors micro controllers and semi conductor devices that dissipate relatively significant amounts of heat during their operation.

Increases in system level compaction of data centers have resulted in increases of server level and rack level power densities and dissipations that place significant pressure on traditional data center thermal management systems. Conventional data center thermal management involves traditional systems that use computer room air conditioning CRAC units to pressurize a raised floor plenum of a data center with cool air that is passed to equipment racks via ventilation tiles distributed throughout the raised floor. Temperature is typically monitored and controlled based on a single sensory feedback signal which acts as a global indication of the heat being dissipated in the data center at the hot air return of the CRAC units away from the equipment racks. This conventional mode of operation allows no local flexibility in how the cooling is delivered to the servers or computers in the data center and there is no local state feedback information from different areas of the data center. Consequently due primarily to a lack of distributed environmental sensing traditional thermal management systems often operate conservatively with reduced computational density added operational expense and unnecessary redundancy due to poor utilization.

For simplicity and illustrative purposes the principles of the embodiments are described by referring mainly to examples thereof. In the following description numerous specific details are set forth in order to provide a thorough understanding of the embodiments. It will be apparent however to one of ordinary skill in the art that the embodiments may be practiced without limitation to these specific details. In other instances well known methods and structures have not been described in detail so as not to unnecessarily obscure the embodiments.

Described herein are systems and methods for an environmental management EM architecture for a physical setting or environment such as a data center. The EM architecture includes a set of one or more management software programs or modules operable to interact with a distributed sensor network and actuators in the data center to exert control over the actuators based on sensor measurements obtained from the distributed sensor network and to provide analysis and visualization of thermal profiles in the data center.

In one embodiment the actuators may be controlled according to a control scheme designed to enable efficient energy utilization by the data center while satisfying one or more user defined criteria e.g. thermal management criteria for environmental management of the data center. An example of a control scheme is disclosed in a co pending and commonly assigned U.S. patent application as identified from its U.S. Patent Application Publication No. 20060214014 entitled TEMPERATURE CONTROL USING A SENSOR NETWORK. Additionally the control scheme for the actuators may be based on correlations developed between the actuators and the sensors of the distributed sensor network. The correlations may be developed through a process for commissioning the sensors with respect to the actuators. In addition the correlations generally provide indications of how the sensors of the sensor network may be affected by variations in the outputs of the actuators. An example of a commissioning process suitable for correlating the actuators and the sensors is disclosed in a co pending and commonly assigned U.S. patent application as identified from its U.S. Patent Application Publication No. 20060206291 entitled COMMISIONING OF SENSORS now U.S. Pat. No. 7 117 129. Also visualization of the thermal profiles in the data center may be provided to the users who can then employ such visualization to optimize placement of equipment in the data center for desired or better environmental management. An example of a computerized tool suitable for the aforementioned visualization is disclosed in co pending and commonly assigned U.S. patent application Ser. No. 11 699 402 entitled COMPUTERIZED TOOL FOR ASSESSIGN CONDITIONS IN A ROOM. 

In one example the actuators include computer room air conditioning CRAC units capable of varying one or both of volume flow rate and temperature of airflow supplied to sensors in a data center. In this example the determination of which CRAC units to manipulate for example to maintain a particular sensor below a predetermined maximum temperature is based upon the correlations determined between the CRAC units and the sensors. In addition the CRAC units may be manipulated according to a selected control scheme as described above.

The systems and methods for a data center EM architecture disclosed herein may also be employed in any reasonably suitable environment containing actuators and sensors such as a building containing air conditioning units and sensors. In this regard although particular reference is made throughout the present disclosure to data centers and CRAC units it should be understood that the systems and methods disclosed herein may be implemented in other environments. In addition therefore the particular references to data centers and CRAC units are for illustrative purposes and are not intended to limit the systems and methods disclosed herein solely to data centers and CRAC units.

With reference first to there is shown a simplified perspective view of a section of a data center which may employ various examples of the environmental control system disclosed herein. The terms data center are generally meant to denote a room or other space where one or more components capable of generating heat may be situated. In this respect the terms data center are not meant to limit the invention to any specific type of room where data is communicated or processed nor should it be construed that use of the terms data center limits the invention in any respect other than its definition herein above.

The data center is depicted as having a plurality of racks where n is an integer greater than one. The racks may comprise electronics cabinets aligned in parallel rows and positioned on a raised floor . A plurality of wires and communication lines not shown may be located in a space beneath the raised floor . The space may also function as a plenum for delivery of cooled air from one or more actuators.

Also shown in are computer room air conditioning CRAC units where n is an integer greater than one which are considered herein as primary actuators . The CRAC units are considered primary actuators because they are configured to manipulate a characteristic of the cooled airflow supplied to the racks through actuation of one or more secondary actuators. The secondary actuators include a device for controlling airflow temperature and a device for controlling the supply flow rates of the cooled air.

The cooled air may be delivered from the space to the racks through vent tiles located between some or all of the racks . The vent tiles are shown as being located between rows and and and . The cooled air contained in the space may include cooled air supplied by one or more primary actuators . Thus characteristics of the cooled air such as temperature pressure humidity flow rate etc. may substantially be affected by the operations of one or more of the primary actuators . In this regard characteristics of the cooled air at various areas in the space and the cooled air supplied to the racks may vary for example due to mixing of the cooled air. In other words the characteristics of the cooled air supplied to a particular location in the data center may differ from that of the cooled air supplied by a single primary actuator

At least one condition for example temperature pressure or humidity of the cooled air supplied to various areas of the data center may be detected by a distributed sensor network having sensors where n is an integer greater than one. As shown the sensors are represented as diamonds to distinguish them from other elements depicted in . In addition the sensors are depicted as being positioned to detect the at least one condition at the inlets of the racks . In this example the sensors may environmental sensors such as temperature sensors or humidity sensors. In another example the sensors may be positioned within the space near respective vent tiles to detect the temperature pressure or humidity of the cooled air supplied through the respective vent tiles . Thus although the sensors are depicted as being located on the raised floor the sensors may be positioned at various other reasonably suitable locations including for example near or within some or all of the components .

In any regard the sensors may be employed to detect the at least one condition at various primary actuator settings. In addition the sensors may be assigned to the families of one or more primary actuators . A primary actuator family may be defined as a grouping of sensors that respond to the various primary actuator settings to levels greater than a predefined threshold level. In other words the sensor may be considered as being in the primary actuator family if the response of the sensor exceeds a predefined threshold level at various primary actuator settings. Various manners in which the sensors may be assigned to the one or more primary actuator families is described in greater detail below and also in the co pending and commonly assigned U.S. Patent Application Publication No. 20060206291 entitled COMMISIONING OF SENSORS. 

The vent tiles may comprise manually or remotely adjustable vent tiles. In this regard the vent tiles may be manipulated to vary for example the mass flow rates of cooled air supplied to the racks 

The racks are generally configured to house a plurality of components capable of generating dissipating heat for example processors micro controllers high speed video cards memories semi conductor devices and the like. The components may be elements of a plurality of subsystems not shown for example computers servers bladed servers etc. The subsystems and the components may be operated to perform various electronic functions for example computing switching routing displaying and the like.

The areas between the rows and and between the rows and may comprise cool aisles . These aisles are considered cool aisles because they are configured to receive cooled airflow from the vent tiles as generally indicated by the arrows . In addition and as shown the racks generally receive cooled air from the cool aisles . The aisles between the rows and and on the rear sides of rows and are considered hot aisles . These aisles are considered hot aisles because they are positioned to receive air that has been heated by the components in the racks as indicated by the arrows . It should be understood that the designations cool aisles and hot aisles are merely descriptive of the particular arrangement of the data center and alternative embodiments are contemplated wherein the data center may be arranged such that there are no separate cool aisles or hot aisles without deviating from the scope of the present disclosure.

The sides of the racks that face the cool aisles may be considered as the fronts of the racks and the sides of the racks that face away from the cool aisles may be considered as the rears of the racks . For purposes of simplicity and not of limitation this nomenclature will be relied upon throughout the present disclosure to describe the various sides of the racks . Although not shown the racks may be positioned with their rear sides adjacent to one another wherein there is no longer any hot aisle . In this example the vent tiles may be provided in each aisle and . In addition the racks may comprise outlets on top panels thereof to enable heated air to flow out of the racks 

As described herein above the primary actuators generally operate to cool received heated air as indicated by the arrows . In addition the primary actuators may supply the racks with airflow that has been cooled and humidity controlled at rack inlets through any reasonably suitable known manners and may thus comprise widely available conventional CRAC units. For example the primary actuators may comprise vapor compression type air conditioning units chilled water air conditioning units etc.

Also shown in is a controller configured to perform various functions in the data center . The controller may receive data from the primary actuators and the sensors and may perform various computations on the data. In one regard the controller may operate to assign the sensors into one or more primary actuator families. According to an example the controller may implement the commissioning procedures noted earlier to assign the sensors into the one or more primary actuator families.

The controller may also operate the primary actuators based upon the correlations between the primary actuators and the sensors . In operating the primary actuators the controller may select and implement one or more control schemes as described in greater detail herein below.

Although the controller is illustrated in as comprising a component separate from the components housed in the racks the controller may comprise one or more of the components without departing from a scope of the data center disclosed herein. In addition or alternatively the controller may comprise software configured to operate on a computing device for example one of the components .

With reference now to there is shown a simplified plan view of the data center depicted in . The data center is shown as including primary actuators positioned at various locations throughout the data center . A plurality of vent tiles are also illustrated in and are configured to deliver cooled airflow to racks as described above. It should be appreciated that the data center may include any reasonably suitable number of racks and primary actuators without departing from the data center illustrated in .

As described herein above the vent tiles and the racks are positioned on a raised floor beneath which lies a space . The space is in fluid communication with the primary actuators and generally operates in one respect as a plenum for supplying cooling airflow from the primary actuators to be delivered through the vent tiles . In most instances the space may comprise a relatively open space that is accessible by cooling airflow supplied by a plurality of the primary actuators . In this regard the cooling airflow supplied by the primary actuators may mix in the space . Therefore the cooling airflow supplied to the racks by the vent tiles may have originated from more than one of the primary actuators 

Although particular reference is made throughout the present disclosure to a raised floor it should be understood that various other types of cooling arrangements may be employed without departing from the systems and methods disclosed herein. For example the data center may include a lowered ceiling which may also include a space that is operable as a plenum. In addition or alternatively the data center may include ceiling mounted heat exchangers in row coolers rack mounted coolers or any other cooling units that are operable to provide cool air to a shared environment.

Also shown in are the sensors which are illustrated as being positioned with respect to each of the racks . As also stated above the sensors may also or in the alternative be positioned to detect the at least one condition within the space . In addition the sensors may comprise sensors contained in some or all of the components . As a further example the sensors may be positioned near or within the primary actuators . In any regard the sensors may be grouped in various primary actuator families based upon various criteria. The various primary actuator families corresponding to respective primary actuators are illustrated in . As shown the sensors are considered as being within the families of those primary actuators 

Some of the sensors for example the sensors in a first section may be included in the family of a single primary actuator . Some of the other sensors for example the sensors in a second section may be included in the families and of two primary actuators and . In addition some of the sensors for example the sensors in a third section may be included in the families of three primary actuators . As such for example one or more of the sensors may belong to more than one primary actuator family.

It should in any regard be understood that the families depicted in are for purposes of illustration and are not intended to limit the data center and its components in any respect. It should also be understood that the depiction of the families in are for illustrative purposes only and are not meant to limit the data center in any respect.

Generally speaking the environmental control system is employed to control the primary actuators to thereby control at least one environmental condition at the sensor locations . A determination of primary actuator families may be used to determine which of the primary actuators are to be manipulated in response to conditions detected by the sensors . The control over the primary actuators may be effectuated through manipulation of one or more secondary actuators and . One of the secondary actuators may comprise a variable frequency drive VFD for controlling an airflow volume varying device such as a blower or fan. The other secondary actuator may comprise a device for controlling the temperature of the cooled air supplied by the primary actuators . such as water chillers compressors valves etc. Thus the secondary actuator may depend upon the type of primary actuator in which the secondary actuator is located. For example if a primary actuator comprises a vapor compression type CRAC unit a secondary actuator therein may comprise a variable speed compressor configured to vary the temperature of the airflow supplied by the CRAC unit. Likewise if a primary actuator comprises a chilled water or any other refrigerant type CRAC unit a secondary actuator therein may comprise a two or three way valve configured to control the temperature of a coolant configured to receive heat from the airflow.

The secondary actuators may also comprise devices for varying other characteristics of the airflow supplied by the primary actuators . The secondary actuators may comprise for example humidifiers dehumidifiers configured to vary the humidity of the airflow supplied by the primary actuators . In this example the sensors may comprise humidity sensors. In addition therefore the primary actuators in this example may operate to maintain the humidity levels at the sensor locations within predefined thresholds.

In any respect the controller is configured to control the primary actuators and thus the secondary actuators and . Instructions from the controller may be transmitted over a network that operates to couple the various components of the environmental control system . Although not shown the controller may be equipped with or have access to software and or hardware to enable the controller to transmit and receive data over the network . The network generally represents a wired or wireless structure in the data center for the transmission of data between the various components of the environmental control system . The network may comprise an existing network infrastructure or it may comprise a separate network configuration installed for the purpose of environmental control by the controller .

The sensors may be configured to transmit collected data over the network for storage and processing. As stated above the sensors may comprise sensors configured to detect at least one environmental condition at various locations in the data center . The at least one environmental condition may comprise temperature humidity or pressure and the sensors may be configured to detect at least one of these conditions. The sensors may also be configured to compare detected environmental conditions with predefined environmental conditions to determine differences between the detected environmental conditions and the predefined environmental conditions. The sensors may transmit these differences as signals to the controller where the strengths of the signals correspond to the difference levels. In addition the controller may vary operations of the actuator control module according to the types of environmental condition detected and the magnitudes of the signals received from the sensors 

The commissioning of the sensors with respect to the primary actuators as disclosed in a co pending and commonly assigned U.S. patent application as identified from its U.S. Patent Application Publication No. 20060206291 entitled COMMISIONING OF SENSORS now U.S. Pat. No. 7 117 129 is described below with reference to .

The operational mode may be implemented to commission the sensors with respect to a plurality of actuators for example CRAC units . More particularly the operational mode may be implemented to relate the sensors to the actuators. In addition those sensors that are influenced to a predefined level by a particular actuator are considered to be within that actuator s family.

In the operational mode the controller may determine correlations between the sensors and a plurality of actuators at step . Manners in which these correlations may be determined are described in greater detail herein below with respect to the operational modes and . The controller may also calculate correlation indexes of the sensors which are functions of the plurality of actuator settings and a particular actuator from the correlations at step . Examples of how the correlation indexes of the sensors may be calculated are described in greater detail herein below with respect to the operational modes . In addition the controller may assign each of the sensors to at least one actuator family at step . Again a more detailed description of this step is provided below with respect to the operational modes .

With particular reference now to there is shown a flow diagram of an operational mode of a method for commissioning sensors according to an example. It is to be understood that the following description of the operational mode is but one manner of a variety of different manners in which an embodiment of the invention may be practiced. It should also be apparent to those of ordinary skill in the art that the operational mode represents a generalized illustration and that other steps may be added or existing steps may be removed modified or rearranged without departing from a scope of the operational mode .

The operational mode may be implemented to commission the sensors in a data center . More particularly the operational mode may be implemented to relate the sensors to the CRAC units . In addition those sensors that are influenced to a predefined level by a particular CRAC unit are considered to be within that CRAC unit s family.

The operational mode may be initiated at step in response to any of a number of stimuli or conditions. For example the operational mode may be initiated with activation of the components in the data center such as the CRAC units . In addition or alternatively the operational mode may be manually initiated or the controller may be programmed to initiate the operational mode at various times for a set duration of time substantially continuously etc.

Once initiated the controller may set the CRAC units to a first distribution level at step . The first distribution level may comprise a first flow rate VFD setting and temperature of the airflow supplied by the CRAC units which are common for the CRAC units . In addition the controller may wait for a period of time at step prior to recording temperature information received from the sensors at step . The controller may allow this time period to elapse in order to enable a relatively steady state of operation to be reached. The time period may be based upon for example the loading on the CRAC units . In addition during the time period at step the controller may determine a median temperature reading for one or more of the sensors in the event that the temperatures detected by one or more of the sensors oscillate during the time period. In this case the temperature measurements recorded at step may comprise time averaged values.

Following elapse of the time period at step the controller may record the temperature measurements obtained by the sensors as indicated at step . As stated above the temperature information may be stored through implementation of the data storage module . The controller may instruct a CRAC unit to change the temperature of the airflow by a specified amount N at step . The specified amount N may comprise an amount that differs from the first distribution level temperature by a relatively discernable amount. Thus for example the specified amount N may range from for example 1 C. to 20 C. or more. The CRAC unit may change the temperature of the airflow by the specified amount N through for example varying operations of the actuator B which may comprise a compressor a chiller a valve etc.

The controller may again wait for a period of time at step prior to recording temperature information received from the sensors at step . The controller may allow this time period to elapse in order to enable a relatively steady state of operation to be reached following the supply air temperature change in the CRAC unit . Following elapse of the time period at step the controller may again record the temperature measurements obtained by the sensors as indicated at step . In addition during the time period at step the controller may determine a median temperature reading for one or more of the sensors in the event that the temperatures detected by one or more of the sensors oscillate during the time period. In this case the temperature measurements recorded at step may comprise time averaged values.

At step the controller may calculate a sensor to actuator correlation coefficient C for the sensors i . The actuators are the CRAC units . As such the correlation coefficient C is a function of the relative level of influence the CRAC units have over the sensors . Thus for example the higher the correlation coefficient C value for a sensor the greater the influence a CRAC unit has over that sensor . In addition the calculated correlation coefficients C for the CRAC units and the sensors may be stored in the memory .

Although the correlation coefficients C may be determined through any number of suitable correlation algorithms the following algorithm may be employed to calculate the correlation coefficients C of the sensors .

By way of example if the temperature of the sensor recorded at step T is 20 C. the temperature of the sensor recorded at step T is 25 C. and the change in temperature of the supply air N is 10 C. the correlation coefficient C between the sensor and the CRAC unit is 0.5. As another example if the temperature of the sensor recorded at step T is 20 C. the temperature of the sensor recorded at step T is 21 C. and the change in temperature of the supply air N is 10 C. the correlation coefficient C between the sensor and the CRAC unit is 0.10. As such the sensor has a greater correlation to the CRAC unit . Thus changes to the supplied airflow from the CRAC unit are likely to have a greater impact on conditions at the sensor as compared with the sensor

At step the temperature of the CRAC unit may be reset to the temperature at the first distribution level set at step . In addition it may be determined whether correlations between other CRAC units and the sensors are to be made at step . If it is determined that additional correlations are to be determined the temperature of the airflow supplied by a next CRAC unit may be varied by the specified amount N at step . The temperature of the airflow supplied by the CRAC unit may be varied in manners as described herein above with respect to step .

Following step the controller may again wait for a period of time at step prior to recording temperature information received from the sensors at step as described above. In addition the controller may calculate a sensor to actuator correlation coefficient C for the sensors i and the CRAC unit at step as also described above. Moreover the temperature of the CRAC unit may be reset to the temperature at the first distribution level set at step .

Steps may be repeated for the remaining CRAC units . In this regard the correlations between all of the CRAC units and the sensors may be determined and recorded. If there are no further CRAC units for which correlations to the sensors are to be determined it may be determined as to whether correlations are to be determined at an additional distribution level at step . If yes the CRAC units may be set to a next distribution level at step . The next distribution level may comprise characteristics that differ from the first distribution level. As such either or both of the flow rate and the temperature of the cooled airflow supplied by the CRAC units may differ from their settings in the first distribution level.

As shown following step steps may be repeated to calculate and record the correlations between the sensors and the CRAC units at the next distribution level. In addition step and steps may be repeated for a number of different distribution levels. For example these steps may be repeated for a predetermined number of iterations where the predetermined number of iterations may be chosen according to the desired size of the sensor to actuator correlations. In addition or alternatively these steps may be repeated for a predetermined period of time. In any regard once the correlation data has been recorded and no further data is to be collected at different distribution levels the collected data may be processed in either of two examples as indicated by the identifier A .

The first example is illustrated in the flow diagram of an operational mode illustrated in . As shown in following a no condition at step the correlation data collected at step for the various distribution levels and CRAC unit settings are fed into a neural network teaching algorithm as indicated at step . The neural network teaching algorithm may for example comprise the correlation determination module depicted in . In addition the correlation coefficients C may be used to teach the neural network of the initial relationships between the CRAC unit settings and the conditions detected by the sensors . The neural network may use the initial relationships to estimate correlation coefficients C relating to various CRAC unit settings as described in greater detail herein below.

The neural network teaching algorithm may be implemented to generate a neural network as indicated at step . A diagram of a neural network generated at step according to an example is also illustrated in . As shown in the neural network includes an input layer a hidden layer and an output layer . The input layer includes input neurons A N the hidden layer includes hidden neurons A N and the output layer includes output neurons A N where n is an integer greater than one. The ellipses . . . positioned between various neurons in the neural network generally indicate that the neural network may include any reasonably suitable number of additional neurons.

The input neurons may represent CRAC unit setpoints of the neural network and may comprise for example volume flow rates of the airflow supplied by the CRAC units VFD speeds CRAC unit supply temperatures etc. The output neurons may comprise correlation coefficients C of the sensors . The correlation coefficients C may be fed into the neural network teaching algorithm to teach the neural network of the initial relationships between the CRAC unit setpoints and the correlation coefficients C the sensors . In this regard the output neurons may comprise the correlation coefficients C determined at step which the teaching algorithm may implement to generate neural network .

In addition based upon the initial relationships between the CRAC unit i setpoints X and the correlation indexes Y for the sensors j the neural network may determine weights W between the CRAC unit i setpoints X and the correlation indexes Y . The weights which are assigned to each interaction may be randomly selected and modified to reduce the mean square error as the learning epoch proceeds. In addition the relationships between various CRAC unit i setpoints X and correlation coefficients Y for the sensors j may be defined by the following equation Sum for all the CRAC units . Equation 2 In this equation Bare offsets of the correlation coefficients Y . Equation 2 may be employed in the neural network to determine the correlation coefficients Y that correspond to various CRAC unit i setpoints which were not fed into the neural network at step .

In addition the number of neurons and per layer may be modified to increase the accuracy of the neural network model depicted in . By way of example the number of hidden neurons may be increased to thereby increase the complexity in the relationship between the input neurons and the output neurons . The final model may comprise layers of neurons and with weights and connections with associated biases that link up the input neurons to the output neurons . In one respect therefore the neural network may be employed to determine the correlation coefficients C of the sensors that were not determined through implementation of the method . In this regard for example the neural network may be capable of interpolating correlation coefficients C for various CRAC unit setpoints.

Referring back to at step correlation indexes C of the sensors may be determined from the neural network generated at step . The correlation indexes C for the sensors may broadly be defined as functions of the VFD speeds for a plurality of CRAC units and a particular CRAC unit . The function may be in the form of VFD VFD . . . VFD CRAC where is the correlation index for the sensor VFD. . . VFDare various VFD setpoints for the CRAC units 114 114 and the CRACrefers to a particular CRAC unit . Equation 3 

At step the correlation indexes C of the sensors may be compared to a predefined threshold value. The predefined threshold may be based upon an infrastructure efficiency as determined for example by an average value for the correlation coefficients. A high average value of correlation coefficients generally represents an efficient infrastructure whereas a low average value of correlation coefficients represents a less efficient infrastructure. In any event it may be determined as to which of the correlation indexes C exceed the predefined threshold value at step . For those correlation indexes C that exceed the predefined threshold value the associated sensor i may be assigned to the particular CRAC unit k for the VFD setpoints j contained in the function of Equation 3 at step . In addition the correlation indexes C for a particular sensor i may vary with varying thermal management requirements or varying VFD setpoints j . In other words the correlations between any sensor i and any CRAC unit k are functions of the VFD setpoints j . Thus although a sensor i may be strongly correlated with a CRAC unit k for a particular set of VFD setpoints j the same sensor i may not be strongly correlated with the same CRAC unit k at a different set of VFD setpoints j .

The remaining sensors may either be assigned to respective CRAC unit families based upon these criteria. In addition the sensors may belong to multiple families for any given set of VFD setpoints j . The correlating information regarding the CRAC unit families and their associated sensors may be stored for example in a look up table in a map etc.

The sensors may be assigned to respective CRAC units through implementation of the operational modes and thereby commissioning the sensors with respect to the CRAC units in a data center . The commissioning process depicted in the operational modes and may include additional steps. For example data may be historically logged and periodically fed to the neural network teaching algorithm to update the CRAC unit families. This data may also be used to refine the estimates determined by the neural network such as for example in the event that an initial commissioning process utilized a relatively limited number of VFD settings to for example reduce the time required to perform the initial commissioning process.

Following either or both of steps and it may be determined as to whether the operational modes and are to continue at step . The determination of whether to continue the operation modes and may be based upon whether it is desired to for example commission the sensors on an ongoing basis. Thus for example the operational modes and may be continued at step to substantially continuously update the CRAC unit families. If a yes condition is reached at step the operational modes and may be repeated beginning at step . If however a no condition is reached at step the operational modes and may end as indicated at step .

The second example is illustrated in the flow diagram of an operational mode illustrated in . As shown in following a no condition at step the correlation data collected at step for the various distribution levels and CRAC unit settings are fed into a curve fitting algorithm as indicated at step . The curve fitting algorithm may for example comprise the correlation determination module depicted in . In addition the curve fitting algorithm may comprise any reasonably suitable traditional curve fitting algorithm used to fit a multi variant polynomial function to the data set that defines the correlation index C .

The curve fitting algorithm may be implemented to determine the correlation indexes C for the sensors at step . Although a number of various equations may be employed an example of a polynomial function for two CRAC units may be represented as follows 

The summation in Equation 4 may be expanded to determine the correlation indexes C with additional CRAC units . In any regard the data from the CRAC unit distribution set j may be used to define the coefficients as of Equation 4 . Although not shown a filtering process may be performed following step to reduce the number of CRAC units to consider for various sensors . More particularly for example those CRAC units having a relatively limited effect on a sensor may be removed from the calculation of the coefficients a as described for example with respect to step in below.

In addition an equation representing the multi variant polynomial function may be implemented for each of the sensors . In addition the equation may be used to calculate the coefficients a for each of the sensors . A standard statistical regression method for example through software such as MATLAB MS EXCEL MATHEMATICA and the like may be employed to calculate the coefficients a with the remaining inputs of the equation having been determined through implementation of the operational mode .

At step the correlation indexes C of the sensors may be compared to a predefined threshold value. The predefined threshold value may be based upon an infrastructure efficiency as determined for example by an average value for the correlation coefficients. A high average value generally represents an efficient infrastructure whereas a low average value represents a less efficient infrastructure. In any event it may be determined as to which of the correlation indexes C exceed the predefined threshold value at step . For those correlation indexes C that exceed the predefined threshold value the associated sensor i may be assigned to the particular CRAC unit k for the VFD setpoints j contained in the function of Equation 3 at step . In addition the correlation indexes C for a particular sensor i may vary with varying thermal management requirements or varying VFD setpoints j . In other words the correlations between any sensor i and any CRAC unit k are functions of the VFD setpoints j . Thus although a sensor i may be strongly correlated with a CRAC unit k for a particular set of VFD setpoints j the same sensor i may not be strongly correlated with the same CRAC unit k at a different set of VFD setpoints j .

The remaining sensors may either be assigned to respective CRAC unit families based upon these criteria. In addition the sensors may belong to multiple families for any given set of VFD setpoints j . The correlating information regarding the CRAC unit families and their associated sensors may be stored for example in a look up table in a map etc.

The sensors may be assigned to respective CRAC units through implementation of the operational modes and thereby commissioning the sensors with respect to the CRAC units . Following either or both of steps and it may be determined as to whether the operational modes and are to continue at step . The determination of whether to continue the operation modes and may be based upon whether it is desired to for example commission the sensors on an ongoing basis. Thus for example the operational modes and may be continued at step to substantially continuously update the CRAC unit families. If a yes condition is reached at step the operational modes and may be repeated beginning at step . If however a no condition is reached at step the operational modes and may end as indicated at step .

With reference now to there is shown a flow diagram of an operational mode for optionally filtering sensors belonging to multiple actuator or CRAC unit families. The operational mode may comprise a filtering algorithm stored in the memory that may be implemented by the controller . The controller may also update the information stored in the data storage module based upon the results of the filtering algorithm.

The operational mode may be initiated at step in response to any of a number of stimuli or conditions. For example the operational mode may be initiated with activation of the components in the data center such as the CRAC units . In addition or alternatively the operational mode may be manually initiated or the controller may be programmed to initiate the operational mode at various times for a set duration of time substantially continuously etc.

At step the CRAC unit families may be determined. More particularly the operational mode or and either of operational or may be performed at step to determine which sensors belong to which CRAC unit families. This information may be stored for example in the memory . In addition the controller may access this information to determine whether any of the sensors belong to multiple families at step . If none of the sensors belongs to multiple CRAC unit families it may be determined as to whether the operational mode is to continue at step . If it is determined that the operational mode is to continue the operational mode may be repeated beginning at step . In this regard the operational mode may run in a substantially continuous manner for example with each control cycle to filter sensors belonging to multiple CRAC unit families. In addition or alternatively the operational mode may be continued for a predetermined period of time a predetermined number of iterations substantially indefinitely etc. If it is determined that the operational mode is to be discontinued at step the operational mode may end as indicated at step . The operational mode may be re initiated under any of the conditions described with respect to step .

However if at least one sensor is determined to belong to multiple CRAC unit families the controller may identify those sensors at step . In addition the controller may compare the correlation levels between the sensors and the CRAC units . More particularly for each of the identified sensors the controller may determine whether a correlation difference CD among the CRAC unit families is significant at step . The correlation difference CD may be considered as being significant if it exceeds a correlation difference threshold. The correlation difference threshold may be based upon infrastructure efficiency as determined by the average magnitude of correlation coefficients. Thus for example the higher the average magnitude of correlation coefficients the greater the correlation difference threshold.

By way of example if the sensor has a correlation index of 0.7 to the CRAC unit and a correlation index of 0.1 to the CRAC unit the correlation difference CD between the CRAC unit and the CRAC unit is 0.6. If the correlation difference threshold is 0.5 then the correlation difference between the CRAC unit and the CRAC unit is considered to be significant and a yes condition is reached at step . However if the correlation difference threshold is 0.7 then the correlation difference between the CRAC unit and the CRAC unit is considered to be insignificant and a no condition is reached at step .

As shown in the example above if the identified sensors are more closely related to a particular CRAC unit the yes condition is reached at step . In this regard the sensor is considered to be significantly affected by that particular CRAC unit . As such at step those sensors that meet the yes condition at step may be filtered out. In other words those sensors may be removed from further filtering operations described in the operational mode .

At step following either or both of the no condition at step and the filtering operation at step the remaining identified sensors may be sorted according to whether they require heating or cooling. More particularly those sensors that require heating may be sorted into one group and those sensors that require cooling may be sorted into another group. Sensors that are considered as requiring heating may be defined as sensors whose temperatures may be raised to reach a predefined operating level. Sensors that are considered as requiring cooling may be defined as sensors whose temperatures may be lowered to reach the predefined operating level. In addition or alternatively the designation of whether sensors require cooling or heating may be based upon a comparison between the temperatures measure by the sensors and a temperature reference matrix.

The sensors may be grouped as indicated at step to substantially prevent sensors assigned to multiple CRAC unit families from causing at least one of the CRAC units to cool and at least another one of the CRAC units to heat. In other words step may be performed to distinguish the sensors and to substantially prevent CRAC units from competing against each other in attempting to maintain the sensors in their families at their desired temperatures.

At step the identity of a control sensor in each CRAC unit family may be determined. In addition the magnitude of a temperature difference detected by the control sensor may be determined at step . The control sensor may be considered as the sensor having the highest difference between the sensed temperature and a reference temperature for each CRAC unit family. The reference temperature for the sensors may comprise a desired temperature for the sensors and may differ for the sensors . In addition the magnitude of the temperature difference is the sign and amount of the difference in sensed and reference temperatures. In situations where a CRAC unit family includes a sensor requiring cooling and a sensor requiring heating the sensor requiring cooling is considered as the control sensor for that CRAC unit family even if the magnitude of the temperature difference is greater for the sensor requiring heating is greater than the magnitude of the temperature difference for the sensor requiring cooling. In addition the control sensors requiring cooling may be designated as requiring cooling and the control sensors requiring heating may be designated as requiring heating at step .

By way of example in the CRAC unit family if the sensor has a sensed temperature of 30 C. and a reference temperature of 25 C. and the sensor has a sensed temperature of 32 C. and a reference temperature of 25 C. the sensor is considered as the control sensor for the CRAC unit family. In addition the magnitude of the temperature difference of the control sensor is 7 C. The sensor is considered the control sensor because the sensor may have the greatest level of control over the CRAC unit since its sensed temperature has the greatest deviation from the reference temperature.

At step it is determined as to whether the control sensors identified at step are the control sensors of multiple CRAC unit families. For those control sensors that are the control sensors of respective single CRAC unit families the heating or cooling designation given to them and the other sensors in their respective CRAC unit families at step may be removed at step . In addition the sensors may be checked at step to determine whether they are all in at least one CRAC unit family. Should it be determined that at least one of the sensors is not in a CRAC unit family the operational mode and either of operational mode and may be performed to determine the at least one CRAC unit family of the at least one sensor . In any regard at step it may be determined as to whether the operational mode is to continue for those control sensors and other sensors in the CRAC unit families of those control sensors. If it is determined that the operational mode is to continue for those control sensors and other sensors the operational mode may be repeated for those control sensors and other sensors beginning at step . If it is determined that the operational mode is to be discontinued at step the operational mode for those control sensors and other sensors may end as indicated at step . The operational mode may also be re initiated under any of the conditions described with respect to step .

For those control sensors identified as the control sensors of multiple CRAC unit families it may be determined whether the CRAC units of the multiple CRAC unit families are at different setpoints at step . In other words for those CRAC units it may be determined whether the differences in supply air temperatures between the CRAC units exceed a CRAC temperature difference threshold. For those multiple CRAC unit families having CRAC units that do not exceed the CRAC temperature difference threshold steps and may be performed as described above. In one regard since the CRAC units are within the CRAC temperature difference threshold multiple CRAC units may both be used to control the control sensor. However if it is determined that the CRAC units are at different setpoints or outside of the CRAC temperature difference threshold it may be determined whether the CRAC units are required to heat or cool the control sensor at step .

In addition at step the control sensor may be assigned to the CRAC unit family having the CRAC unit whose supply air temperature is the farthest away from the temperature of the control sensor. That CRAC unit family may be considered as the primary family for that control sensor. The other CRAC unit families to which the control sensor is assigned may be considered as secondary families for that control sensor. More particularly if the control sensor requires cooling the CRAC unit family having the CRAC unit with the highest supply air temperature is selected as the primary family for that control sensor. Alternatively if the control sensor requires heating the CRAC unit family having the CRAC unit with the lowest supply air temperature is selected as the primary family for that control sensor.

If the control sensor requires cooling all overlapping points having the same sign as the control sensor are removed from the secondary family as indicated at step . More particularly the sensors that are in both the primary and secondary families and that have the same sign for example requiring either heating or cooling as the control sensor are removed from the secondary family. In this regard control over the temperature of the control sensor is given to the CRAC unit that has the highest supply air temperature if that supply air temperature is greater than the temperature of the control sensor. In this regard the CRAC unit having the highest supply air temperature may be able to reduce its supply air temperature. Otherwise if all of the potential control CRAC units have supply air temperatures below the control sensor temperature control is given to the CRAC unit that is closest in temperature to the control sensor temperature. As such the CRAC unit that has the greatest supply temperature may be controlled when the control sensor is in the cooling mode.

If the control sensor requires heating which means that no other sensors in the primary family require cooling all overlapping points having the opposite sign as the control sensor are removed from the primary family as indicated at step . More particularly the sensors that are in both the primary and secondary families and that have the opposite sign as the control sensor are removed from the primary family. In this regard control over the temperature of the control sensor is given to the CRAC unit that has the lowest supply air temperature if that supply air temperature is less than the temperature of the control sensor. In this regard the CRAC unit may be able to increase its supply air temperature. Otherwise if all of the potential control CRAC units have supply temperatures above the control sensor temperature control is given to the CRAC unit that is the closest in temperature to the control sensor. Thus the CRAC unit that has the lowest supply temperature may be controlled when the control sensor is in the heating mode.

Following step the heating or cooling designation given to the sensors at step may be removed at step . In addition the sensors may be checked at step to determine whether they are all in at least one CRAC unit family. Should it be determined that at least one of the sensors is not in a CRAC unit family the operational mode and either of operational mode and may be performed to determine the at least one CRAC unit family of the at least one sensor . In addition or alternatively sensors that are not in any of the CRAC unit families may be removed from consideration from the operational mode or the cooling infrastructure may be re arranged such as by moving vent tiles to bring the sensors within at least one of the CRAC unit families. In any regard steps and may be performed as described above.

The control of the primary actuators based on the commissioning of the sensors as disclosed in a co pending and commonly assigned U.S. patent application as identified from its U.S. Patent Application Publication No. 20060214014 entitled TEMPERATURE CONTROL USING A SENSOR NETWORK is described below with reference to .

The method may be implemented to control the temperature of the airflow supplied to the sensors by the primary actuators . In the method the controller may commission the sensors of a network of sensors at step . The controller may also select one of a plurality of control schemes for operating a primary actuator configured to vary temperatures of the sensors at step . The selection of the control scheme may be based upon energy utilization requirements of the plurality of control schemes. In addition the controller may implement the selected one of the plurality of control schemes to vary the temperatures detected by the sensors at step . A more detailed description of the steps outlined in the method is provided below with respect to the method .

With particular reference now to there is shown a flow diagram of a method for controlling environmental conditions at the sensor locations according to one embodiment. For illustrative purposes only and not to be limiting thereof the operation mode is discussed in the context of the block diagram illustrated in .

The method may be implemented to control primary actuators CRAC units to thereby control environmental conditions at the sensor locations. For example the primary actuators may be controlled as disclosed below to control at least one of temperature humidity and pressure at the sensor locations.

The method may be initiated at step in response to any of a number of stimuli or conditions. For example the method may be initiated with activation of components such as the CRAC units . In addition or alternatively the method may be manually initiated or the controller may be programmed to initiate the method at various times for a set duration of time substantially continuously etc.

Once initiated the controller may implement the sensor commissioning module to commission the sensors at step . More particularly the sensors may be assigned to primary actuator families according to for example the level of influence the primary actuators have over the sensors . In addition a sensor may be considered as being in the family of a primary actuator if the level of influence of that actuator over the sensor exceeds a predefined threshold. In addition if a sensor is assigned to multiple primary actuator families a filtering process may be implemented to assign the sensor to the primary actuator that has the greatest level of influence over the sensor . The filtering process may also be implemented to keep the sensor in multiple primary actuator families if the influence levels of the primary actuators are within predefined thresholds. An examples of a suitable commissioning process and a suitable filtering process is as described earlier.

At step for each primary actuator family the controller may implement the control sensor selection module to choose the control sensor . As described above the control sensor may be defined as the sensor with the largest positive temperature difference from a setpoint temperature in each primary actuator family. If all of the sensors have negative temperature differences from the at least one setpoint then the control sensor may be defined as the sensor with the largest negative difference from the setpoint temperature. The setpoint used to determine the control sensor may also vary between the sensors and is thus not required to be identical for all of the sensors 

In general the temperatures of the control sensors are used to control the primary actuators of the families to which the control sensors belong. More particularly the following steps may be performed to vary the setpoints of the secondary actuators and to thereby bring the temperatures of the control sensors to within desired temperature ranges. The desired temperature ranges in this case may generally represent acceptable levels of error in controlling the temperatures of the sensors . Thus for example the desired temperature ranges may be larger if a higher level of error is acceptable.

At step the controller may receive signals from the control sensors of the primary actuator families. The signals are generally control signals for operating respective primary actuators . The signals are generated according to the levels of error between measured temperatures and predefined temperatures. More particularly if the temperature difference is relatively small the signal sent to the controller is also relatively small. Alternatively if the temperature difference is relatively large the signal sent to the controller is also relatively large. The controller in this case may include a proportional integral PI controller or a proportional integral derivative PID controller and may control operations of the primary actuators to output desired supply air temperature or SAT setpoints based upon the magnitudes of the control signals received from the control sensors as described in greater detail herein below with respect to step . In addition each of the primary actuators may include respective PI PID other suitable controllers.

For each primary actuator family having a control sensor that transmits a control signal indicating an error the controller may implement one of many possible control schemes to manipulate the secondary actuators and as indicated at step . As described above with respect to the control system one of the secondary actuators may comprise a variable frequency drive VFD for controlling an airflow volume varying device such as a blower or fan. The other secondary actuator may comprise a device for controlling the temperature of the cooled air supplied by the primary actuators and may depend upon the type of primary actuator in which the secondary actuator is located. Additionally each primary actuator may include another secondary actuator not shown for humidity control such as a humidifier a de humidifier or the like.

The possible control schemes for manipulating the secondary actuators and involve a linkage of one of the secondary actuators VFD s to the supply air temperature SAT setpoints of the primary actuators throughout a range of control. The range of control may be defined as a predefined range of supply air temperatures and VFD settings within which the primary actuators may operate. In this regard the range of control may be based upon levels that are known to provide adequate levels of cooling airflow at adequate temperatures. In any regard the linkage between the VFD setpoints secondary actuator and the SAT setpoints secondary actuator may be described through the following equation VFD VFD SAT SAT . Equation 5 In this equation VFDis the maximum allowable VFD setpoint SATis the minimum allowable supply air temperature and is VFD VFD SAT SAT . VFDis the minimum allowable VFD setpoint and SATis the maximum allowable supply air temperature.

The control schemes may be varied as a function of the SAT setpoints output by a controller such as a PI or PID controller in the controller as described above. The specific functionality is dependent on the actuator type of the primary actuators as further elaborated in U.S. Patent Application Publication No. 20060214014.

A visualization tool for analyzing and visualizing thermal profiles in a selected environment such as the data center as disclosed in a co pending and commonly assigned U.S. patent application Ser. No. 11 699 402 entitled COMPUTERIZED TOOL FOR ASSESSIGN CONDITIONS IN A ROOM is described below with reference to . This visualization tool provides users with a monitoring tool to instantiate any implemented environmental control for a selected environment. Thus for example a system administrator of the data center may employ this visualization tool to instantiate the aforementioned control schemes based on the commissioning of the sensors and optimize placement of equipment in such a data center for environmental management of the data center.

With respect to there is shown a block diagram of a computerized tool configured to assess and visualize a thermal profile in a room according to an example. It should be understood that the following description of the computerized tool is but one manner of a variety of different manners in which the computerized tool may be configured. In addition it should be understood that the computerized tool may include additional modules and that some of the modules described herein may be removed and or modified without departing from a scope of the computerized tool .

Generally speaking the computerized tool is configured to analyze a thermal profile in a room containing equipment such as racks and electronic devices and fluid moving devices such as heat exchangers air conditioning units chiller units and other environmental actuators e.g. in . In analyzing the thermal profile the computerized tool is configured to compute a relatively high level metric that quantifies a phenomena within the room and to automatically overlay the relatively high level metric on a layout of the room.

According to a first example the relatively high level metric may comprise a supply heat index SHI which is an index of performance that quantifies the amount of re circulation occurring at various locations in the room. A more detailed description of SHI is presented in U.S. Pat. No. 7 051 946 to Cullen Bash et al. the disclosure of which is hereby incorporated by reference in its entirety.

As discussed in U.S. Pat. No. 7 051 946 SHI may be defined as a measure of the infiltration of heated fluid into the cooling fluid supplied by fluid moving devices and may be determined for fluid flow through an object such as a rack according to the following equation 

In Equation 6 Trepresents the temperature at an inlet of the object Trepresents the temperature at an outlet of the object and Trepresents the temperature of fluid flow supplied to the inlet of the object such as by a fluid moving device . As discussed herein below the temperatures used to determine SHI may be calculated through use of numerical modeling.

As another example of a thermal profile the relatively high level metric may comprise a thermal correlation index TCI or correlation coefficient C as described earlier in Equation 1 . As discussed in those documents TCI is a measure of the relative level of influence a fluid moving device has over a particular area in a room. Thus for instance the higher the TCI value at a particular location for a fluid moving device the greater the influence the fluid moving device has over that location.

As a further example of a thermal profile the relatively high level metric may comprise a local workload placement index LWPI which is generally a measure of the efficiency with which cooling resources may be distributed to a device. A more detailed description of LWPI is presented in the Ser. No. 11 590 525 application for patent the entire disclosure of which is hereby incorporated by reference in its entirety.

As discussed in that application for patent the LWPI may be determined through a function in which the LWPI increases with an increase in one or both of the thermal management margin and the fluid moving device margin and a decrease in the recirculation level. In addition the LWPI s for each of a plurality of electronic devices i may be calculated through a function of one or more of T T T T TCI and T T where Tis a setpoint temperature of a fluid moving device corresponding to the variable SAT noted earlier Tis the inlet temperature of the electronic device i Tis the supply fluid temperature and Tis the minimum supply fluid temperature corresponding to the variable SAT . Also TCIcorresponds to Cas noted earlier.

By way of particular example and not of limitation the cooling efficiency or workload placement efficiency LWPI of a particular electronic device i may be calculated from the following equation 

According to an example the computerized tool may visually display the relationships between the thermal profile and the layout for a given room. The visual display of these relationships may be created in a two dimensional or a three dimensional setting and may be provided at various heights with respect to the room. The visual display may be used for instance to optimize the placement of equipment in a data center to investigate cooling system failure scenarios to insure proper cooling redundancies are in place etc.

As shown in the computerized tool includes a number of modules each configured to perform one or more functions. The modules may comprise software configured to be invoked or implemented by a computing device hardware components configured to perform the one or more functions or combinations thereof. By way of example one or more of the modules may comprise computer chips configured and programmed to perform the functions described below.

In another of the examples discussed above the computerized tool comprises a hardware device such as a computing device. In this example the computerized tool may comprise a personal computer a laptop computer a portable digital assistant or other type of device capable of performing computing functions. In addition one or more of the modules may comprise hardware components configured to perform the one or more functions. In addition or alternatively one or more of the modules may comprise software stored on the hardware components.

In addition the computerized tool may be located remotely and may be accessed and implemented over a network such as an intranet the Internet etc.

The operations performed by the modules will be described in accordance with both of these examples and with regard to the flow diagram depicted in . more particularly depicts a flow diagram of a method for analyzing a thermal profile with respect to equipment housed in a room according to an example. It should be understood that the following description of the method is but one manner of a variety of different manners in which such a method may be implemented. In addition it should be understood that the method may include additional steps and that some of the steps described herein may be removed and or modified without departing from a scope of the method .

At step a numerical model of environmental conditions in the room may be developed. The numerical model may be developed based upon information pertaining to the room such as the room layout the equipment housed in the room the locations and output profiles of fluid moving devices e.g. as obtained from the commissioning of the sensors discussed earlier as well as other objects or obstructions in the room. In one example the numerical modeling module may comprise software or algorithms configured to develop the numerical model. In this example the room information may be input into the numerical modeling module and the numerical modeling module may compute the environmental conditions in the room based upon the inputted information.

In another example the numerical modeling module may be configured to interface with an outside numerical modeling program configured to develop the numerical model. An example of a suitable numerical modeling program is a computational fluid dynamics program such as FLOVENT available from Flomerics Inc. located in Marlborough Mass. In this example the numerical modeling module may be configured to provide the outside numerical modeling program with the room information and to receive the numerical model computed by the outside numerical modeling program.

In either example the environmental conditions may include for instance pressure levels temperature levels fluid flow velocity levels humidity levels etc. at various locations or throughout the room. The environmental conditions may also be calculated in two or three dimensions with respect to the room.

At step the data extraction module may extract some or all of the environmental conditions computed from the numerical model developed at step . In various examples the data extraction module may form part of the numerical modeling module and may thus be configured to model the conditions at step . In any regard the layout determination module may employ the environmental condition information to calculate a layout of the room as indicated at step . For instance from the environmental condition information the layout determination module may determine locations in the room having predetermined environmental condition levels and may determine that one or more objects exist at those locations. For instance the layout determination module may consider those locations in the room having zero or nearly zero environmental condition levels such as pressure humidity etc. as including one or more objects.

By way of particular example the environmental condition extracted from the numerical model may comprise the pressure level distribution in the room. In this example for instance the layout determination module may determine the pressure level distribution at a height in the room where objects such as racks fluid moving devices etc. are known to be located. The layout determination module may analyze the pressure level distribution at that selected height to find areas of zero or nearly zero pressure which are considered to correlate with the locations of the objects. The layout determination module may plot the calculated locations of the objects in a chart to thereby depict the layout of the room. Various manners in which the room layout may be constructed from the environmental condition distribution calculation are described in greater detail herein below.

Another of the conditions extracted may comprise the temperature level distribution which the thermal profile determination module employs in determining a thermal profile of the room as indicated at step . The thermal profile determination module may more particularly use the temperatures at various heights in the room resulting from incremental changes in the cooling fluid supplied by the fluid moving devices to determine one or more thermal profiles in the room. In one example the thermal profile determination module may calculate the TCI of each of the fluid moving devices with respect to various areas in the room based upon the temperatures. Alternatively the TCI values are available from the aforementioned commissioning of the sensors. In another example the thermal profile determination module may calculate the SHI at various locations in the room based upon the temperatures. Again various manners in which the thermal profile determination module operates to determine the thermal profile in a room are discussed in greater detail herein below.

At step the overlay module may overlay one or more of the thermal profiles on the physical layout of the room determined at step to develop a combined layout. At steps and the room layout and the thermal profiles may be developed to have the same scale. As such the thermal profiles may be scaled appropriately with the room layout.

Although the thermal profile determined at step has been described as being overlaid on the physical layout of the room determined at step it should be understood that in various instances the thermal profile may be overlaid on other differently obtained room layouts without departing from a scope of the method . In other words the thermal profile may be overlaid on a graphical representation of an existing room layout that is a room layout that has not been determined as indicated at step . However in various other instances it may be desirable to determine the physical layout of the room at step and to overlay the thermal profile on the determined physical layout because they may have the same scaling which may reduce the amount of time a effort required of users in visualizing the thermal profile with respect to the room layout.

In any regard the output module may store the combined layout in a database. In addition or alternatively the output module may display or print the combined layout to thus provide users with a two or three dimensional image of the thermal profiles associated with one or more fluid moving devices in relation to room layout.

The user interface module may provide users with the ability to modify or manipulate the inputs into the numerical modeling module or to the outputs generated by the output module . In one example users may implement the user interface module to determine the thermal profile resulting from various fluid moving device placements various fluid moving device failures various rack placements etc. In another example the user interface module may provide users with the ability to modify the combined layout visualization in various respects.

An example of a combined layout developed by the computerized tool is depicted in . More particularly respectively show examples of how thermal profiles may be depicted in a room containing fluid moving devices and racks where n is an integer equal to or greater than one. Only two thermal profiles and six fluid moving devices and six racks are depicted in for illustrative purposes and should thus not be construed as limiting the combined layout output in any respect. Although not shown the combined layouts may also include labels that identify the various objects contained therein.

With reference first to the combined layout in only the thermal profile such as the thermal correlation index TCI associated with one of the fluid moving devices is shown therein. One purpose of the combined layout in is to clearly show the level of influence over particular areas as denoted by TCI of the fluid moving device . Similar types of figures may be prepared for each of the remaining fluid moving devices to depict their relative levels of influence over particular areas in the room .

In addition the thermal profiles associated with two or more of the fluid moving devices may also be depicted together as shown in . The combined layout in more particularly shows that there may be areas of overlap among two or more TCIs . As such the combined layout may display which of the fluid moving devices provide cooling fluid to which areas in the room . This information may be employed to ensure that there are sufficient redundancies to maintain temperatures within predetermined levels should one or more of the fluid moving devices fail. In one example critical equipment may be placed in areas of overlap to substantially ensure that the critical equipment receives cooling fluid in the event that one of the fluid moving devices fails. This information may also be employed to determine whether any area in the room is receiving excessive amounts of cooling fluid from a plurality of fluid moving devices and may thus be used to determine optimal placement of the fluid moving devices 

As shown in the combined layouts may be configured to display TCI levels that exceed a predetermined threshold level. Thus even though the fluid moving device may have influence over areas other than the TCI only the TCI exceeding the predetermined threshold level is depicted in the combined layouts to thereby provide users with the ability to control the data displayed in the combined layouts . In addition or alternatively the combined layouts may display varying levels of TCI for each of the fluid moving devices . Thus for instance the TCIs may comprise different colors or different shadings of colors that substantially correspond to different TCI levels.

Another example of a combined layout developed by the computerized tool is depicted in . depicts all of the same features as including the room the fluid moving devices and the racks . The combined layout in differs from the combined layouts and because it displays a different type of thermal profile . In the combined layout the computerized tool is configured to depict thermal profiles such as SHI and LWPI levels throughout the room .

The combined layout may be configured to display SHI or LWPI levels that exceed a predetermined threshold level. Thus for instance even though there may be an appreciable amount of SHI in areas other than those illustrated in the layout those areas are not illustrated because they do not exceed the predetermined threshold level. In addition or alternatively the combined layout may display varying levels of SHI or LWPI by displaying the varying levels using different colors or different shadings of colors that substantially correspond to different SHI or LWPI levels.

With reference now to there is collectively shown a flow diagram of a method for analyzing and visualizing a thermal profile of a room such as the room depicted in B and . It should be apparent to those of ordinary skill in the art that the method represents a generalized illustration and that other steps may be added or existing steps may be removed modified or rearranged without departing from a scope of the method .

The description of the method is made with reference to the computerized tool illustrated in and thus makes reference to the elements cited therein. It should however be understood that the method is not limited to the elements set forth in the computerized tool . Instead it should be understood that the method may be practiced by a computerized tool having a different configuration than that set forth in . In addition the method includes some of the steps outlined in the method depicted in . The method differs from the method in that the steps contained in the method describe in greater detail the steps contained in the method . For instance include steps for developing a numerical model step and for extracting computed conditions step include steps for determining the physical layout step and the thermal profile step of the room and includes steps for developing the combined layout step as well as steps for displaying the combined layout.

With reference first to at step the computerized tool may determine a base case model of conditions in the room for a given set of settings for the fluid moving devices . Alternatively the computerized tool may invoke an outside numerical modeling program such as FLOVENT to run the base case model. In either case by way of example the fluid moving devices may be set to an initial setting in the numerical modeling program in determining the base case model. The initial setting may comprise for instance 70 fluid flow capacity and 72 F. supply temperature.

The base case model generally provides information pertaining to the environmental condition levels calculated at a specified height in the room as well as the temperatures calculated at the specified height or the height where the temperature sensors e.g. in are installed. The specified height may be selected to substantially ensure that substantially all of the objects such as fluid moving devices racks etc. contained in the room are located at the specified height. The information may be stored in an environmental condition result table and a temperature result table for the specified height. At step the computerized tool may store the environmental condition result table for the specified height. Alternatively the computerized tool may retrieve and store the environmental condition result table for the specified height from the outside numerical modeling program.

As described in greater detail herein below the information contained in the environmental condition result table may be employed to calculate a physical layout of the room .

At step the computerized tool may store the temperature result table for the specified height. Alternatively the computerized tool may retrieve and store the temperature result table for the specified height from the outside numerical modeling program. In either case the computerized tool may save the temperature result table as a csv file.

At step a determination as to whether a temperature result table for a height different than the specified room height is to be retrieved stored may be made. A decision to retrieve store the temperature result table for an additional height location may be made in situations where the temperatures at additional heights in the room are desired or necessary. If a determination is made to retrieve store the temperature result table at the additional height location the computerized tool may change the height location as indicated at step . The computerized tool may additionally retrieve store the temperature result table for the additional height as indicated at step . Steps may be repeated for any additional height locations as desired or as is necessary.

Following a no condition at step the computerized tool may change the settings for one of the fluid moving devices to a different setting as indicated at step . By way of example the fluid moving device may be set to 100 fluid flow capacity and 60 F. supply temperature. In addition at step the numerical modeling module may determine a model of conditions in the room resulting from the new fluid moving device setting. Alternatively the computerized tool may invoke an outside numerical modeling program to determine the model at the new fluid moving device setting.

At step the computerized tool may store the temperature result table for a specified height. Alternatively the computerized tool may retrieve and store the temperature result table for a specified height from the outside numerical modeling program. In either case the computerized tool may save the temperature result table as a csv file. In addition similarly to steps the temperature result table at additional height locations may be retrieved stored as indicated at steps . Moreover Steps may be repeated for any additional height locations as desired or as is necessary.

Following a no condition at step a determination as to whether the temperature results for additional fluid moving devices are to be determined may be made at step . An election to obtain temperature results for additional fluid moving devices may be made for instance if it is determined that conditions at various settings for each of remaining fluid moving devices has not been determined. In response to a yes condition at step the computerized tool may return the settings for the fluid moving device back to the initial setting step and may change the settings for another one of the fluid moving devices to a different setting as indicated at step . By way of example the fluid moving device may be set to 100 fluid flow capacity and 60 F. supply temperature. In addition steps may be repeated for the remaining fluid moving devices 

As described in greater detail herein below the information contained in the temperature results tables and the various fluid moving devices settings may be used to calculate various thermal profiles in the room . This information may for instance be used to calculate SHIs at various locations throughout the room through implementation of Equation 6 . In addition or alternatively the collected temperature information may be used to calculate the TCIs between the fluid moving devices and various locations throughout the room through implementation of Equation 1 . Moreover the collected temperature information may be used to calculate the LWPIs of one or more electronic devices through implementation of Equation 7 .

With reference now to there are shown steps for determining the physical layout of the room step from the information obtained from the steps outlined in . More particularly at step the computerized tool may utilize the information contained in the environmental condition result table stored at step to create a file such as a spreadsheet file with the environmental condition information. According to an example the computerized tool may communicate with a spreadsheet program such as MS EXCEL available from Microsoft Corporation of Redmond Seattle. In this example the computerized tool may store the environmental condition result table information in the spreadsheet program.

In any regard the computerized tool or the spreadsheet program may plot the environmental condition result table information onto a chart as indicated at step . In situations where the spreadsheet program is implemented the computerized tool may select the environmental condition data contained in the spreadsheet and may invoke or otherwise activate a chart creating program such as a chart wizard to create the chart.

According to an example the chart may comprise a surface type of chart having a two dimensional contour and having color as indicated at step . At step the chart may be formatted to for instance remove tick marks and a legend box on the chart to therefore obtain a similar layout to that of the room depicted in . More particularly the chart may have a fairly rough outline of the room exterior along with outlines of the fluid moving devices and the racks . In one regard the fluid moving devices and the racks would be distinguishable in the chart because those locations have been computed to have zero or very nearly zero condition level. As such the computerized tool may implement the chart to determine the layout of the room as indicated at step .

With reference now to there are shown steps for determining the thermal profile in the room step from the information obtained from the steps outlined in . More particularly at step the computerized tool may utilize the information contained in the temperature results tables stored at step from the base case model determined at step and at the various heights step to create a file such as a spreadsheet file with the temperature information. According to an example the data extraction module may communicate with a spreadsheet program such as MS EXCEL available from Microsoft Corporation of Redmond Seattle. In this example the data extraction module may store the temperature result table information in the spreadsheet program.

At step a second worksheet containing information from the temperature result table stored at step and at the various heights step resulting from a first fluid moving device perturbation at step may be created. The second worksheet may be saved with a name that distinguishes the worksheet from other worksheets for instance the worksheet name may be derived from the first perturbed fluid moving device

At step a third worksheet may be created and information from the worksheet containing the temperature information from the base case model and information from the second worksheet may be inserted into the third worksheet. The third worksheet may include for instance the temperature information from the base case model in one column the temperature information from the second worksheet in another column the difference in temperature between the base case model and the modified temperature at step in a third column and a thermal profile calculation based upon the information contained in the first three columns in a fourth column.

Thus for instance the fourth column in the third worksheet may include a TCI calculation Equation 2 for the first fluid moving device . More particularly for each row in the third column the temperature information from the second column may be subtracted from the temperature information from the first column and the difference may be divided by the difference in temperature between the base case model and the temperature set for the first moving device at step in the third column. A fifth column may include information for instance in a two or three dimensional coordinate system of the locations at which the temperatures were modeled.

At step the computerized tool or the spreadsheet program may plot the thermal profile information from the fourth column and the fifth column onto a chart to thereby depict the TCI information for various areas in the room . In situations where the spreadsheet program is implemented the computerized tool may select the thermal profile information contained in the spreadsheet and may invoke or otherwise activate a chart creating program such as a chart wizard to create the chart.

According to an example the chart may comprise a surface type of chart having a two dimensional contour and having color as indicated at step . At step the chart may be formatted to for instance remove tick marks and a legend box on the chart to therefore obtain the thermal profile depicted in without the room layout.

In addition or alternatively the third worksheet may include additional information with respect to the temperatures obtained in . The additional information may include the temperatures at various inlets and outlets of the racks at various fluid moving device temperatures. In this regard one column in the third worksheet may include the inlet temperatures a second column may include the outlet temperatures and a third column may include the temperatures of the fluid supplied by the fluid supply devices which may be considered as reference temperatures. In this example a fourth column may include a SHI calculation Equation 6 for various locations in the room . More particularly for each row of the third worksheet the fourth column may include an equation to calculate the SHI information in the room. A fifth column may include information for instance in a two or three dimensional coordinate system of the locations at which the inlet outlet and reference temperatures were modeled. In addition steps may be performed to chart the SHI values in the room as depicted in .

In any case at step a determination as to whether thermal profiles for additional fluid moving devices are to be charted may be made. An election to chart thermal profiles for additional fluid moving devices may be made for instance if it is determined that the thermal profiles associated with each of the fluid moving devices have not been previously charted. In response to a yes condition at step steps may be respectively repeated for the remaining fluid moving devices to thereby chart the thermal profiles of the fluid moving devices . In addition the thermal profiles of the fluid moving devices may be stored as respective worksheets.

In response to a no condition at step the computerized tool may create an editable image file with the charts created in as indicated at step . More particularly for instance the computerized tool may import or export the charts into a file where the charts may be manipulated. According to an example the computerized tool may export the charts into an image editing program such as ADOBE PHOTOSHOP available from Adobe Systems Incorporated of San Jose Calif.

In any regard at step the computerized tool or the image editing program may display the chart depicting the room layout created at steps . The room layout chart may be manipulated in various respects to refine the display of the room layout. The room layout chart may be refined to for instance more clearly delineate the locations of the fluid moving devices and the racks from the remaining areas of the room . The room layout chart may also be refined by including labels for each of the components depicted in the room layout . In addition the refined room layout may be saved as a first picture layer as indicated at step .

At step the chart depicting the thermal profile of a first fluid moving device created at steps may be displayed over the first picture layer including the room layout as a second picture layer. The thermal profile depicted in the second picture layer may be refined at step or during the plotting of the thermal profile to depict thermal profiles that exceed a predetermined minimum value. In this regard extraneous thermal profile values may be omitted from the display.

The overlay of the second picture layer on the first picture layer may result in an image similar to the combined layout depicted in or the combined layout depicted in depending on the thermal profile being displayed. In addition at step the chart depicting the thermal profile of a second fluid moving device created at steps may also be displayed over the first and or second picture layers as a third picture layer. The overlay of the third picture layer may result in an image similar to the combined layout depicted in . The charts depicting the thermal profiles of the remaining fluid moving devices may also be respectively overlaid as additional picture layers to thereby enable the thermal profiles of the fluid moving devices to be displayed individually or in combination with each other.

At step the thermal profile charts of the fluid moving devices may be stored as additional picture layers. As such users may access the thermal profile charts to determine for instance the areas of influence for each of the fluid moving devices and may also manipulate the data as desired.

The picture layers containing the room layout and the thermal profiles of the fluid moving devices may be stored according to the heights at which the thermal profiles were determined. As such for instance a number of files pertaining to thermal profiles determined at the various heights may be created and stored to thereby enable analysis and visualization of thermal profiles at different heights in the room .

According to another example a three dimensional layout of the room and thermal profiles associated with the fluid moving devices may be created. In this example the environmental condition result tables for a number of room height locations may be retrieved and or stored at step . The information contained in the environmental condition result tables at the various heights may be plotted together at step to create a three dimensional layout of the room . In addition at step a three dimensional chart may be created. The thermal profiles of the fluid moving devices may also be plotted in three dimensions at step and a three dimensional chart may be created at step .

In one embodiment the controller may be a computing device such as a computer system or an application server operable with software therein to implement the EM architecture for environmental management of the data center . illustrates a block diagram of the controller as an application server operable with software therein to implement an EM architecture for the data center in accordance with one embodiment. The EM architecture includes at least the following layers or modules a communication layer an aggregation layer an application layer and a graphical user interface GUI layer to allow the interaction of the actuators the distributed sensor network and system administrators or users of the data center . These layers reside or operate on top of the operating system OS and network services in a manner understood in the art. Each of the layers or modules are further described below.

Referring to the communication layer is operable to provide data exchange between the EM architecture and the distributed sensor network and actuators in the data center . Thus it is operable to read monitoring information from the distributed sensor network and forward such information to the aggregation layer . The communication layer also relays information from the aggregation layer back to the actuators in the data center . The exchange of messages is achieved by one or more communication drivers in the communication layer that listen or connect to each sensor or actuator device and translates its data for other components in the EM architecture to use.

In one embodiment the communication layer includes a base station driver that enables communication with the distributed sensor network and the sensors therein. The data gathered by the driver is then made accessible to the rest of the EM architecture s components by storing it in a database e.g. the database in the aggregation layer . As referred herein the base stations are autonomous sensor boxes each containing the inlet temperature sensors of a rack. Thus each base station transmits information from a group of sensors of each rack. In one embodiment the base stations use multicasting to send out the temperature information of sensors therein to the EM architecture . Thus the base station driver connects to the multicast group and listens to the temperature updates from all base stations in the data center .

In another embodiment the communication layer includes an object linking and embedding for process control OPC driver that enables communication with field devices such as the sensors in the distributed sensor network and the actuators and in the data center . The OPC driver provides communication via a server client configuration connected through a communication port such as the Ethernet. The OPC driver may be implemented in the communication layer to take advantage of any available building management or automation system BAS for the data center that provides OPC server capabilities. As understood in the art a BAS enables the administration operations and performance of environmental control equipment e.g. heating ventilating and air conditioning or HVAC units CRAC units an alarm systems through purpose built networks and protocols.

As also understood in the art an OPC server in the BAS is operable to provide an OPC interface to allow any client to access its devices regardless of the manufacturer s of such devices. One side of the OPC server is the proprietary side of the hardware providers with their specific logic or protocol to communicate with their proprietary devices. The other side of the OPC server is the application side of the software developers whereby one or more standardized OPC interfaces are provided for the software developers to access the proprietary devices through the specific logic or protocol without the need to fully understand the make up of such specific logic. Accordingly the OPC driver is operable to connect to the OPC server of an existing BAS for the data center and allows the EM architecture to control and configure all BAS devices e.g. the actuators and sensors in the data center whose settings are available via the OPC server. In one embodiment the OPC driver implements the client and connects over TCP IP to the OPC server to get and set information on the actuators and sensors.

In still another embodiment the communication layer includes a Modbus driver for direct communication with the sensors actuators or both in the data center rather than through an OPC server. As understood in the art Modbus is a widely used communication protocol for automation and control. Thus instead of installing an expensive OPC server that otherwise may not be available through a BAS a low cost Modbus connection may suffice.

Accordingly communication drivers with different communication protocols may be used in the communication layer to enable communication between the EM architecture and the actuators and sensors in the data center so long as the chosen communication drivers are operable to communicate with the actuators and sensors with suitable communication protocol s to provide data exchange with other components in the EM architecture .

Referring back to the EM architecture in the aggregation layer therein serves as a repository for the configuration parameters of the EM architecture its current state and the history of previous sensor network data as gathered from the distributed sensor network in the data center and actuator set points as determined by the commissioning of sensors discussed earlier . All data generated from or used by applications and hardware sensors and actuators resides here in the form of a database . Both the application layer and the communication layer access each other and the aggregation layer through a common database Application Programming Interface API . Thus changing from one particular database solution to another in the aggregation layer does not impact the other layers of the EM architecture only the database API . Furthermore usage of the aggregation layer separates the data storage functionality from the application layer and the communication layer . This gives the EM architecture a degree of modularity that allows continuous communication even if an application in the application layer stops or vice versa. Moreover depending on the desired engine for the database the data held in the database of the aggregation layer may be replicated either active passive or active active for both the original and newly replicated databases without modifying the other layers in the EM architecture .

The application layer of the EM architecture includes software implemented application modules responsible for control commissioning visualization data logger and layout monitoring alarms and notifications and any other configuration parameters. All application modules in the application layer interact with the aggregation layer through the database API . Each of the aforementioned application modules is described below.

In the absence of an explicit plant function of the data center for dynamic environmental control thereof there is a desire to determine a relationship or correlation between the actuators and sensors in the data center that may be used in the dynamic control. This correlation is determined by the commissioning module which performs the commissioning process as described earlier with reference to and as disclosed in the aforementioned U.S. Patent Application Publication No. 20060206291 entitled COMMISIONING OF SENSORS. The output of the commissioning module is then fed to the control module which provides control of the actuators based on the commissioning of the sensors as described earlier with reference to and as disclosed in the aforementioned U.S. Patent Publication No. 20060214014 entitled TEMPERATURE CONTROL USING A SENSOR NETWORK. Thus the initial multi input sensors multi output actuator setpoints control problem for the EM architecture is simplified to a series of single input actuator error signals dual output temperature setpoint and airflow controllers.

The application layer also includes a data logger module which provides storage and visualization of historical data. Data collected from the distributed sensor network and actuators in the data center is logged onto the database by the data logger module . The historical data collected may then be used evaluate system s performance and detect cooling problems or other inefficiencies. The data logger module also provides a GUI which may be separate from or a part of the GUI to allow the user to create plots and view trends.

The visualization module implements the visualization tool as described earlier with reference to and as disclosed in the aforementioned U.S. patent application Ser. No. 11 699 402 entitled COMPUTERIZED TOOL FOR ASSESSIGN CONDITIONS IN A ROOM. As described earlier the visualization tool is operable to portray data overlaid on the computer room s floor plan and provide visual representations of equipment such as racks and CRACs in the data center to show sensor information using colors. It is also operable to show or provide a display of data center information such as configuration parameters controller error TCI values or alarm conditions. Thus the visualization module allows user inputs of equipment locations or uploads of images e.g. raster images of the data center as described earlier with reference to . In one embodiment the visualization module through its implemented visualization tool allows users has entered equipment locations by dragging and dropping equipment icons on the floor plan image from which current temperatures or values derived from the sensed data may be visualized according to their physical locations. Through this visualization users are able to instantiate any environmental management or control schemes being applied to the data center .

The alarms and notifications module is operable to monitor a set of system pre defined or user defined conditions. If conditions are found to be true it logs the event and notifies users or other monitoring devices such as the data logger and the database in the aggregation layer used for storing system states and configuration parameters.

Other application modules may be added to the application layer as new functionalities are defined or desired by the users to be included in the EM architecture . For example usage of pressure sensors in the distributed sensor network of the data center allow applications such as real time computational fluid dynamics CFD analysis to run in the application layer .

The GUI layer is operable to provide visual feedback to the data center users through its implementation of the visualization module in the application layer . An example of a GUI provided by the GUI layer is a web browser. Any authorized user with the right credentials may access the GUI for viewing or performing administration related tasks. The GUI layer may further include a simplified or stripped down version of a regular GUI such as the wireless version to enable access to the EM architecture by devices with less graphic capability such as cell phones personal digital assistants PDAs and other mobile devices. Thus the GUI layer allows user viewing of information gathered by the EM architecture . It controls and configures the other layers in the EM architecture particularly the visualization module and the visualization tool therein. The GUI layer employs the application framework the web services or both to access the applications in the application layer and data stored in the aggregation layer . The application framework and web services may be dependent on the OS and implementation infrastructure.

The EM architecture may be implemented as a utility program or subprogram in any desired computer readable medium. For example the EM architecture may be implemented using the .NET framework with a web browser as the GUI. The communication layer may be written in Visual Basic .NET to access an OPC server to connect to the distributed sensor network the actuators or both in the data center . It also listens to the distributed sensor network for multicast packets sent by the sensors. The aggregation layer may include a MSSQL server with a SQL OBDC driver serving as the API . This driver handles all transactions between the application modules in the application layer and the database . The application modules may be written in C which also conforms to the .NET framework.

The computer system includes one or more processors such as processor providing an execution platform for executing software. Thus the computerized system includes one or more single core or multi core processors of any of a number of computer processors such as processors from Intel AMD and Cyrix. As referred herein a computer processor may be a general purpose processor such as a central processing unit CPU or any other multi purpose processor or microprocessor. A computer processor also may be a special purpose processor such as a graphics processing unit GPU an audio processor a digital signal processor or another processor dedicated for one or more processing purposes. Commands and data from the processor are communicated over a communication bus or through point to point links with other components in the computer system .

The computer system also includes a main memory where software is resident during runtime and a secondary memory . The secondary memory may also be a computer readable medium CRM that may be used to store software programs applications or modules for the EM architecture including e.g. the PI or PID controller in the controller as mentioned earlier . The main memory and secondary memory and an optional removable storage unit each includes for example a hard disk drive and or a removable storage drive representing a floppy diskette drive a magnetic tape drive a compact disk drive etc. or a nonvolatile memory where a copy of the software is stored. In one example the secondary memory also includes ROM read only memory EPROM erasable programmable ROM EEPROM electrically erasable programmable ROM or any other electronic optical magnetic or other storage or transmission device capable of providing a processor or processing unit with computer readable instructions. The computer system includes a display connected via a display adapter user interfaces comprising one or more input devices such as a keyboard a mouse a stylus and the like. The display may constitute the GUI layer or be a part of such a GUI layer. A network interface is provided for communicating with other computer systems via for example a network. The network interface may be accessible by the network services in the EM architecture .

What has been described and illustrated herein is an embodiment along with some of its variations. The terms descriptions and figures used herein are set forth by way of illustration only and are not meant as limitations. Those skilled in the art will recognize that many variations are possible within the spirit and scope of the subject matter which is intended to be defined by the following claims and their equivalents in which all terms are meant in their broadest reasonable sense unless otherwise indicated.

