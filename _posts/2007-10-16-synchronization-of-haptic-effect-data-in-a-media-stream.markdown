---

title: Synchronization of haptic effect data in a media stream
abstract: Haptic information in a series of frames of a media file is identified and time stamps corresponding thereto are determined in accordance with information embedded in a tag either preceding or appending the media file. The haptic effect information is automatically synchronized to the media file based on the information in one or more frames of the tag, whereby an actuator outputs the defined haptic effects in the tag in a manner synchronized with corresponding audio and/or video content of the media file.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09019087&OS=09019087&RS=09019087
owner: Immersion Corporation
number: 09019087
owner_city: San Jose
owner_country: US
publication_date: 20071016
---
The subject matter described herein relates to synchronizing haptic effects with audio and or video content data in a media file.

To improve the interface between a user and a machine incorporating haptic effects into the interface along with audio and or video media has become more and more prevalent in recent years. Haptic effects such as vibrations can be felt by a user and may typically be related to an event trigger such as the depressing of a key on a device or the playing of ring tones to announce an incoming call or the receipt of a text message on a cellphone and the like. Generally media playback can be complemented with vibrations. However conventional methods of implementing haptic effects have some problems when playing a haptic signal along with a media signal over a period of time.

One such problem is the need to synchronize playback between haptic signals and other media signals such as video and or audio signals. Typically the audio engine video engine and the haptic engine operate on different clocks. There is usually no built in synchronization mechanism during playback of haptic video and audio signals. Although for example at the beginning of a playback the haptic signal and the media signal may start within a few milliseconds of one another and as such are adequately synchronized these signals can usually drift out of sync in a fairly short period of time.

Another such problem is that it can be difficult to randomly access a point in a media transport stream having both media and haptic signals. In other words it is difficult to synchronize the haptic signals with media signals when a user begins the playback of a portion of the media transport stream at a random point without access to any data that may occur before this point in the media transport stream.

As such what is needed is a solution that synchronizes haptic effects with other media e.g. audio and or video which can operate at or from any point in a media transport stream containing both haptic and media information.

Haptic information in a series of frames of a media file is identified and time stamps corresponding thereto are determined in accordance with information embedded in a tag preceding within or appended to the media file. The haptic effect information is synchronized to the media file based on the information in one or more frames of the tag whereby an actuator outputs the defined haptic effects in the tag in a manner synchronized with corresponding audio and or video content of the media file.

Additional features and benefits will become apparent from the detailed description figures and claims set forth below.

Embodiments are described herein in the context of a method system and apparatus for communicating a media transport stream including haptic information. Those of ordinary skill in the art will realize that the following description is illustrative only and is not intended to be in any way limiting. Other embodiments will readily suggest themselves to such skilled persons having the benefit of this disclosure. Reference will now be made in detail to implementations of the example embodiments as illustrated in the accompanying drawings. The same reference indicators will be used throughout the drawings and the following description to refer to the same or like items.

In the interest of clarity not all of the routine features of the implementations described herein are shown and described. It will of course be appreciated that in the development of any such actual implementation numerous implementation specific decisions must be made in order to achieve the developer s specific goals such as compliance with application and business related constraints and that these specific goals will vary from one implementation to another and from one developer to another. Moreover it will be appreciated that such a development effort might be complex and time consuming but would nevertheless be a routine undertaking of engineering for those of ordinary skill in the art having the benefit of this disclosure.

In accordance with this disclosure the components process steps and or data structures described herein may be implemented using various types of operating systems computing platforms computer programs and or general purpose machines. In addition those of ordinary skill in the art will recognize that devices of a less general purpose nature such as hardwired devices field programmable gate arrays FPGAs application specific integrated circuits ASICs or the like may also be used without departing from the scope and spirit of the inventive concepts disclosed herein. It is understood that the phrase an embodiment encompasses more than one embodiment and is thus not limited to only one embodiment. Where a method comprising a series of process steps is implemented by a computer or a machine and those process steps can be stored as a series of instructions readable by the machine they may be stored on a tangible medium such as a computer memory device e.g. ROM Read Only Memory PROM Programmable Read Only Memory EEPROM Electrically Eraseable Programmable Read Only Memory FLASH Memory Jump Drive and the like magnetic storage medium e.g. tape magnetic disk drive and the like optical storage medium e.g. CD ROM DVD ROM paper card paper tape and the like and other types of program memory.

In an embodiment the system is directed to synchronizing haptic effect tracks with other media tracks contained in a multi track media transport stream to generate synchronized multimedia effects. In an embodiment the system utilizes synchronization data in a header of a media file to ensure that the haptic effects are synchronized with the media content in the file. These embodiments will be described separately to ensure clarity but it should be noted that the system and its components are common to all embodiments and the described details of the specification apply to all embodiments.

In general an embodiment is directed to a system which receives multi track data streams of media data with haptic data at an end unit or device whereby haptic information in a series of frames in the stream is identified. Additionally time stamps corresponding thereto are determined in accordance with a master time code signal embedded in the media transport stream. Each media transport stream frame containing haptic information is assigned a time stamp so that it will be used to activate an actuator at a proper time responsive to the time stamp to generate a haptic effect in accordance with the haptic information. The time stamps allow the haptic frames to be synchronized with the audio and or video data in the media stream so that the haptic effects are felt at the appropriate times with respect to the media data.

The media frames include but are not limited to video audio and or haptic frames. It should be noted as well as that video and or audio frames may be included in the media stream and is not necessarily limited to both types of content being embedded in the media stream. As discussed below in an embodiment the system is able to utilize haptic event data which is written in the tag of an audio file e.g. MP3 whereby the end unit is able to output haptic feedback upon reading the tag of the received audio file. In another embodiment the system is able to utilize haptic event data which is written in the tag of an audio and video file e.g. MP4 whereby the end unit is able to output haptic feedback upon reading the tag of the received file.

In the embodiment shown in the audio video and haptic data are streamed individually from the transmitter to the receiver . As shown in the transmitter in an embodiment includes an encoder a video block an audio block and a haptic block . In an embodiment the transmitter does not include a video block but only an audio block and the haptic block . Video block sources a series of video frames and audio block sources a series of audio frames. Haptic block sources a series of haptic frames. In an embodiment the video and or audio blocks are sourced from one location whereas the haptic frames are sourced from another location. In another embodiment all the audio video as well as haptic frames are sourced from one location.

In an embodiment the encoder for an example is capable of encoding or generating video frames from video block audio frames from audio block and haptic frames from haptic block and integrating them into a media transport stream in accordance with for example a commercially available media transport protocol such as Moving Picture Experts Group Compression Standard Version 4 MPEG 4 MP3 audio only or the like. In other words video frames and or audio frames as well as haptic frames are encoded or packaged into a media transport stream and that media transport stream is subsequently transmitted to a user designated destination or end unit over a communications medium . Although one encoder is shown for all the blocks it is contemplated that each block or one or more blocks is coupled to a respective encoder. It should be noted that integrating timed haptic information into various frames can apply to any media transport stream format and is not limited to a particular file type protocol software environment or media player hardware environment.

The media transport stream is series of data packets which are transmitted from the transmitter and are received serially by the receiver whereby the data packets are not necessarily stored in the receiving end. An example of this is typical internet streaming of video and or audio from a remote server. In another embodiment the haptic signal transported by the media transport stream is compressed or encrypted to enhance the data security.

Communications medium can be a line or wire communications medium a wireless communications medium or a hybrid wire and wireless communications medium. The video frames from video block and audio frames from audio block form respectively a video component and an audio component or collectively a media component of the media transport stream. The haptic frames form a haptic component of the media transport stream.

Receiver is capable of receiving the media transport stream over the communications medium . The receiver or end unit in an example is a mobile phone personal digital assistant PDA personal computer PC server microphone home entertainment center or any other digital processing device that is capable of receiving media files over a wired or wireless network and outputting haptic feedback. Receiver includes one or more decoders a video block an audio block and a haptic block in an embodiment. Video block audio block and haptic block in an embodiment are used to store video frames audio frames and haptic frames respectively. Again in an embodiment the receiver does not include a video block but only an audio block and the haptic block .

Upon receipt of the media transport stream receiver parses video frames audio frames and haptic frames from the media transport stream and sends video frames to video block audio frames to audio block and haptic frames to haptic block . It should be noted that video frames in video block audio frames in audio block and haptic frames in haptic block contain substantially similar information to video frames in video block audio frames in audio block and haptic frames in haptic block respectively. It should be further noted that video frames in video block audio frames in audio block and haptic frames in haptic block may have where appropriate different data formats from corresponding video frames in video block audio frames in audio block and haptic frames in haptic block although they may contain similar information. It should be noted that although one decoder is shown in it is contemplated that each block may be coupled to its own respective decoder or share a decoder with another block. It should be noted that integrating timed haptic information into various frames can apply to any media transport stream format and is not limited to a particular file type protocol software environment or media player hardware environment. It should also be noted that transmitter and receiver may be similar devices that both contain similar capabilities for transmitting and receiving.

In an embodiment a set of frames including the video and or audio as well as haptic information and master time code for the entire timeline is transmitted to the system whereby the data stream is at least temporarily stored or buffered in memory . The media player receives the stored data from the memory and extracts the audio and or video data and haptic data or frames which were transmitted in the media transport stream. The media player can be programmed to handle a specific media transport stream format or multiple predefined streams and extensions such as MP3 MP4 AAC Ogg Vorbis asx etc.

Upon the media data and haptic data being extracted by the media layer the media sync layer receives the content and synchronizes the extracted media content by delivering frames of each media type to the appropriate codec at a time specified by a master time code or a timing table received in the media transport stream. Media sync layer reads time stamps or the initial time to each haptic frame. These time stamps are compared with the master time code and used to send haptic effect timing and definitions to the haptic unit to activate an actuator or multiple actuators at the proper time. Each haptic frame is assigned with an initial time or a time stamp at which associated haptic effect s should be played at a proper time according to a master time code by the media player. In an embodiment time stamps are not assigned to frames that do not contain the haptic information. For example the data base omits a frame if it does not contain haptic information. In an embodiment time stamps associated with the haptic information are generated in accordance with predefined algorithms based on the other media components. In another embodiment time stamps associated with the haptic information can be generated according to a combination inputs from a user and predefined algorithms in view of other media components.

The API communicates with the kernel low level commands which eventually serve to operate the actuator in a manner consistent with the haptic information defined in the frames. In an embodiment HPE schedules in the haptic events in accordance with data received from the haptic unit via API via bus . The VG synthesizes the haptic effects according to the haptic information received from API and provides control signals to the haptic circuit which are used to operate the actuator . Kernel is further coupled to haptic circuit via connection . Haptic circuit in an example is an amplifier configured to drive actuator via connection . The haptic circuit may be an analog or digital electrical circuit and or may be software based.

A function of API is to initiate haptic effects at the correct time with regard to the corresponding audio and or video data. This is due to each haptic frame being a self contained haptic effect which does not rely on other haptic frames which precede or succeed it. An advantage of having a self contained haptic frame is that it permits a user to randomly access a haptic frame or a media frame when using the device and ensure that the system will still be able to generate a synchronized multimedia output including image sound and haptic effects. This is discussed in more detail below.

Video component in includes a plurality of sequential video frames such as frames V . . . nV. Audio component includes a plurality of sequential audio frames such as frames A A . . . nA. Haptic component also includes a plurality of sequential haptic frames such as frames H H H H . . . nH. It should be noted that the n is an integer value. As shown in the video component the audio component and the haptic component are all synchronized with the master time code . In particular video frame of V spans from time tto t. In comparison audio frames A and A are present in the stream from time stamps tto t. Additionally the haptic frames H H H and H are present in the stream from time stamps tto t.

While the frame formats may be different between the video audio and haptic frames the frames within the component will be configured in accordance with a common protocol. In an embodiment the haptic frame H is substantially the same size in data as the haptic frame H. In another embodiment the time span covered by H and H are for example 200 ms each but their physical memory footprints may be different. It is contemplated that other time spans besides 200 ms are contemplated. It should be noted that the haptic frame sizes in an embodiment are determined by the length of time as opposed to physical data capacity. It should be noted that although the audio frames are shown to have equal lengths the audio frames may have differing lengths. The same is also applicable to video and the haptic frames.

Referring back to at time stamp to haptic frame H audio frame A and video frame V begin playback at substantially the same time. Although haptic frame H finishes playing at time stamp t the haptic effects defined in haptic frame H may be configured to continue playing beyond time t. For example the haptic effect in frame H may be a vibration which is longer in time than the length than the time between tand t. If this occurs one or more actuators continue to output the earlier haptic effect while outputting the following haptic effect in an overlapping manner.

At time stamp t haptic frame H begins to be output. It should be noted that the initial time or time stamp at which haptic frame H is played corresponds to a time determined from the master time code. Assigning a time stamp to the haptic frame allows the haptic frame e.g. frame H to begin playback independent from the time at which the preceding haptic frame such as frame H is finished playing. Thus if haptic frame H has finished playing prior to time stamp t no haptic effects will be played until haptic frame H is played at time stamp t. At time stamp t haptic frame H and audio frame A will be played. At time stamp t haptic frame H will be output although the video frame V and audio frame A will be playing.

Encoding time stamps to the content data enables the user to access a particular piece of the content at any point in the time line and still experience the synchronized haptic effect that is associated with the selected content. Thus upon the user selecting the audio frame nA the system would automatically play the associate haptic effect nH which corresponds to the audio frame nA. This would be advantageous in situations where the user forwards the file to hear a particular audio note e.g. bass drum or see a particular video image e.g. explosion whereby the system plays the haptic effect e.g. a jolt that is assigned to that particular content frame.

In an embodiment if the user were to fast forward to time tin the system would wait until time tbefore playing the next haptic frame nH. Prior to that no haptic effects would be played in that embodiment. Similarly the player would wait until twhich in this instance is equivalent to t before playing the next audio frame nA. Similarly the player would wait until tto play the next video frame nV.

In an embodiment the device allows the media sync layer to specify playback to begin at exactly time t in which case media sync layer transmits haptic frame n 1 H and specifies a time offset of tn t 1 H to Haptic Unit . Haptic Unit then communicates this time offset to API when attempting to playback the frame n 1 H. It is contemplated that the system could be configured to play one or more immediately preceding haptic frames or a portion thereof to the selected frame by storing a set number of frames in a buffer whereby the user is able to experience the haptic effect or a portion of the haptic effect at the exact point of playback.

In an embodiment a haptic frame is configured to contain one or more haptic effects defined therein. The parameters that define and schedule these haptic effects are provided in the haptic frame whereby the system interprets the haptic parameters and instructs the actuator to play the haptic effect from the defined parameters. For example the defined parameter are capable of causing the player to offset more than one haptic effect to be played back within a frame. In other words the time offset between the haptic effects is relative to the start of the particular frame that their parameters are defined in and not the start of the file or media transport stream. Scheduling individual effects within a frame is the responsibility of the device playing the sounds images and haptic effects. For instance the type of media player network connection type of actuator and or size of device may dictate how the haptic effect should be scheduled based on the particulars of the end device. Since the sync layer of the device schedules playback of video audio and haptic frames any drift between the different media can be corrected at the start of each frame instead of at the beginning of the entire file or stream.

In an embodiment the master time code is used by the device to coordinate the reception and playback of all frames or data packets it receives for a file. In an embodiment the frame length in time can be selected and fixed during normal operation by the user. In an embodiment a range of frame length between 100 to 300 ms milliseconds is used depending on the nature of the data and user s preferences. In some special operations a 1 ms frame length may be used to meet some extremely tight synchronization requirements. It should be noted that the cost associated with an 1 ms frame length can be high because it requires a significantly increased bandwidth usage. In an embodiment the frame lengths of the master time code is set and embedded in the file and thus is not able to be changed by the user or the device . It should be noted that frame lengths are contemplated and are not limited to those values described above.

Generally a longer frame length means less frames need to be synchronized with media effects which implies a greater chance to cause the haptic effects to be out of synchronization with the audio and or video. On the other hand although a shorter frame length provides a better and tighter synchronization with the audio and or video it requires more processing power and higher network bandwidth to handle the increased sync process between the haptic and media effects.

The size of a haptic frame in an embodiment can be 8 16 25 32 64 128 or 256 bytes depending on the complexity of the haptic effect. For example some haptic frames include vibration sound and or vibration video data correlated to specific sounds and or video frames respectively. In an embodiment a haptic frame contains information required to render at least one haptic effect and a time stamp indicating the starting time of the haptic effect. It should be noted that a haptic frame may be omitted if haptic information is not present in a frame.

Haptic frame shown in is an exemplary layout of a haptic frame which contains a haptic effect definitions portion and a series of call haptic effect instructions . In an embodiment haptic effect definition includes controlling information such as the duration parameters stop time start time and the start delay parameters. Each call haptic effect may contain information about magnitude attack intensity fade intensity and specific type of haptic effect which will be played. Thus each haptic frame provides the start and stop times which correspond with the assigned time stamps and also holds information as to what type of haptic effect s are to be output by the actuator. It should be noted that the haptic frame is capable of initiating one or more haptic effects at the same time. It should be further noted that the haptic effect may continue playing beyond the frame length or time span of the haptic frame. In an embodiment the haptic effect definition portion may specify that the haptic effect is to be played a time offset by indicating an offset parameter that controls how far into the frame the haptic effect commences e.g. start vibration 5 ms after time stamp .

A frequency period or periodic type can be constant force square wave triangle wave sine wave saw tooth wave inverted saw tooth wave or any combination of the above stated waveforms. It should be noted that a different frequency period provides different haptic feedback. For example waveform could be in a range from 0.1 Hertz to 1000 Hertz wherein different frequencies provide different haptic sensations.

In operation the haptic effect caused by waveform is defined in terms of its attack level attack time fade level and fade time . When it is time to execute waveform the execution process specifies the base intensity or magnitude of the haptic effect its duration whether it is to be played periodically and if so how often it is to be re started. The information defining the haptic effects is present in every haptic frame and is serially downloaded to the playing device when the haptic and content data are separately stream as in the embodiment in . In another embodiment discussed below the haptic effects are stored in a frame in the file header of the content file. It should be noted that waveform is only an example and those of ordinary skill in the art will readily understand that such haptic effects may be defined in any number of ways.

For the embodiment described in the system utilizes various processing steps to synchronize incoming streams of haptic frames with the content frames. The steps described herein may be embodied in machine or computer executable instructions. These instructions in turn may be used to cause a general purpose or special purpose system which is programmed with these instructions to perform the steps described herein. Alternatively the steps described herein may be performed by specific hardware components that contain hard wired logic for performing the steps or by any combination of programmed computer components and custom hardware components. While embodiments will be described with reference to a wireless communications network the method and apparatus described herein is equally applicable to other network infrastructures or other data communications environments including wired.

At block the system determines the time stamps to assign to the frames according to a master time code. As stated above the master time code may be embedded in the media transport stream in an embodiment. In an embodiment the time codes associated with the video and or audio streams may be used as the master time code. As stated above time stamps are points of time which the system uses to trigger execution of the haptic effects defined in the haptic frames.

At block the system assigns time stamps to the haptic frames wherein the time stamps indicate when to activate one or more actuators to generate haptic effects according to the haptic information stored in the haptic frames. It is preferred that the time stamps assigned to the haptic frames are synchronized and aligned with the corresponding audio and or video frame. Also the system is capable of assigning sub time stamps that are an offset of the time stamp within a single haptic frame as discussed above. In an embodiment blocks are performed at the time of design the haptic effects into the media file.

At block the process interprets the haptic effect information stored in each haptic frame to determine the type of haptic effect to be output for the particular frame. In an embodiment the system encodes the haptic effect information in response to the video and or audio signals. In another embodiment the process encodes the haptic effect information in response to one of several predefined algorithms. It should be noted that each haptic frame can contain multiple haptic effects starting at different times within the particular haptic frame. It should be further noted that the system is capable of activating the one or more actuators according to the haptic effect information and also maintaining the haptic effect according to its associated time stamp.

As stated above the system is configured to receive multiple streams of media data and haptic data whereby of the system assigns time stamps to the haptic frames to and synchronize the haptic frames to the immediate data streams to produce a cohesive haptic experience. In another embodiment the system is able to output haptic effects from haptic information that is embedded in header tags in the media transport file whereby the haptic effects are synchronized with the audio and or video in the file. In particular the system can be configured to take advantage of existing tagging schemes one example being the ID3V2 tagging scheme which are embedded in the media transport file. The system is able to interpret stored haptic information as well as synchronize the haptic information with the other media information in the file from reading the header tags which preferably precede the data in the file. The specification uses the ID3V2 tagging scheme to describe the inventive embodiments but it should be noted that other tagging schemes and solutions e.g. ID3V1 Lyrics3 are contemplated.

In general the tagging scheme uses a tag which is a chunk of data that is prepended to the media file whereby the tag holds one or more smaller chunks of frames. As shown in the tag can include any type of information such as title album performer website lyric equalizer presets pictures etc. In an embodiment each frame can be 16 MB and the entire tag can be 256 MB although the frame sizes are not limited to these values. In an embodiment the tag is in a container format e.g. IFF PNG extensions which allow new frames to be added. In addition the placement of the tag in front of or before the content data allows the system to utilize the tag and its embedded information when the file is streamed to the end unit. In an embodiment the tag is located after the content data whereby the system is able to effectively render synchronized haptic effects from the tag data.

In an embodiment the tag is embedded with the haptic information directly therein by a programmer or administrator using a software program. The embedded tag along with the corresponding media file is sent to the receiving end unit or a server or other storage means for later downloading to the receiving end unit . In an embodiment the relevant portions of the tag or the tag itself which includes the haptic information and synchronization information is stored on a remote database similar to Gracenote s Compact Disc DataBase CDDB which is then delivered to the receiving end device upon request from the end device . In an embodiment the end device may combine the information from the received header frame with the content data stored on the end device whereby the combination is processed and output by the end device to produce haptic effects which are synchronized with the media data.

The private frame is stored in binary format whereby the private frame may be programmed to inform the media player in the end unit that haptic effects are to be output for the corresponding appended media file . In an embodiment the private frame may be programmed to include synchronization information directly therein as well as the haptic information for each haptic frame. The synchronization information may include time stamp information whereby the media player reads the data in the private frame and outputs the corresponding haptic effects which are synchronized with the audio and or video data. In an embodiment the synchronization information for each frame is stored in metadata whereby each frame contains time offsets for each parameterized vibration definition stored in the frame. For example a particular frame e.g. Frame A may have a timestamp set at 600 ms. The synchronization information could instruct that the offset of the haptic effect would begin at 50 ms and 185 ms relative to the beginning of the timestamp for Frame A. Therefore when Frame A is played the actuator would be instructed to output the haptic effect or a predefined characteristics of the haptic effect at 650 ms and 785 ms respectively.

In addition the private frame would include identifying information therein to alert the end device that the private frame includes haptic information therein. Thus the end unit is configured to search all the private frames for data which identifies the owner of the frame. In an embodiment the private frame includes an owner identifier field such as a null terminated string with a URL containing an email address of the organization responsible for the frame. Additionally and or alternatively the owner identifier field includes a link which refers to the identity of the responsible organization. Upon the end unit positively identifying a private frame belonging to its owner e.g. Immersion Corporation the system will further process the frame and use it to haptic processing of the synchronization frame. It should be noted that the private frame may include other means for supplying information which allows the system to identify the tag and is thus not limited to the configurations described above.

The header tag also includes a synchronization frame which carries the haptic information as well as the time stamp information described above. The synchronization frame includes several fields which are used to program the frame. In an embodiment a field used in the synchronization frame is whether the encoding character set comprises Unicode ISO 8859 1 or other encoding characters. The synchronization frame can be any of the shown frames in such as the Lyrics frame . Further the synchronization frame includes a time format field which allows the time stamp unit to be in milliseconds MPEG frames or the like.

In an example the synchronization frame can be set to be in the Unicode format have the haptic event data be placed in the events frame and the time stamp format be set to milliseconds. In the example the first entry in the data field is the entry count given as a string followed by a newline character. Since the null character is used as the sync identifier the entry count and the data sizes are represented as strings. For each sample the frame includes a haptic definition frame as well as the call haptic effect frames as discussed above in . In addition the frame includes the synchronization identifier information and time stamp information if needed .

As shown in the media file is loaded into a software program interface wherein the media file is embedded with haptic information as well as identifier and synchronization information within the header tag as discussed above. The embedding of this information can be done on Immersion s proprietary VibeTonz Studio software or by other appropriate software program. Once the media file is embedded with the synchronizing and haptic information data the modified media file can be sent directly to the device or can be stored in a memory or server for later retrieval. In an embodiment the modified media file can be stored on a streaming server for streaming to the end device .

Upon being downloaded to the end device the modified media file is received by the media player whereby the media player identifies whether the file includes haptic identifier data. In another embodiment the media file is streamed to the end device whereby the header information is retrieved at the beginning of the stream and stored. The stored header information is then processed along with the later received steaming media file to ensure the haptic effects are synchronized with the streamed media. If the file does not include haptic identifier data no haptic effect information is relayed to the API . However if the file does include haptic identifier data in the private frame the synchronization layer reads the synchronization frame and provides the necessary extracted information to the API . The API initiates haptic effects at the correct time since each haptic frame is a self contained haptic effect which does not rely on other frames in the synchronization frame. The API instructs the kernel to provide the low level commands to the haptic playback engine whereby the haptic playback engine instructs the vibe generator to activate the drive circuit to control and or amplify the control signal output to the actuator . The actuator then automatically outputs the instructed haptic effects at the instructed time stamps with the specific haptic effects defined in the synchronization layer. It should be noted that the above steps may be done in any appropriate order and are not limited to the order presented. It should also be noted that additional alternative steps may be used without departing from the inventive concepts herein.

While embodiments and applications have been shown and described it would be apparent to those skilled in the art having the benefit of this disclosure that many more modifications than mentioned above are possible without departing from the inventive concepts herein.

