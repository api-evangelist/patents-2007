---

title: Method and system for modem protocol discrimination
abstract: The invention provides a method of selecting a modem carrier type for data transmission over a wireless communication system. An incoming call is received from a mobile vehicle and then an initial carrier tone is sent to a mobile vehicle in response to the incoming call. A modem response signal is received from a vehicle modem in response to the initial carrier tone. The modem response signal is determined to be either an analog modem response signal or a digital modem response signal, and then the call is connected to either the analog modem or digital modem based on the modem response signal determination.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=07684825&OS=07684825&RS=07684825
owner: General Motors LLC
number: 07684825
owner_city: Detroit
owner_country: US
publication_date: 20070504
---
This application is a continuation of U.S. patent application Ser. No. 10 061 406 filed on Jan. 31 2002 now U.S. Pat. No. 7 224 998 which is incorporated herein by reference in its entirety.

This invention relates generally to data transmission over a wireless communication system. More specifically the invention relates to a method and system for detecting and determining a modem type.

Wireless modems may send and receive data streams or data packets through an air interface. Wireless modems may be an analog type such as a Bell 103 modem operating in accordance with the Bell 103 standard or other standards suitable for data communications over analog cellular voice channels. A wireless modem may be a digital type operating in accordance with emerging standards suitable for data communications over digital cellular or PCS voice channels. Data transmissions may occur over wireless links by modulating a radio center frequency or band of frequencies in a prescribed fashion using one of a variety of modulation and encoding techniques such as frequency modulation frequency shift keying phase shift modulation or frequency spreading methods to accurately transmit and receive data through the airwaves. Once a radio communication channel is established an incoming signal from a wireless modem may be received amplified demodulated and then reconstructed into data packets. An outgoing data packet may be formatted appropriately and an outgoing transmission sent.

Transmissions of data between modems may occur over a wireless link a wired link a fiber link or a combination thereof. An analog modem may operate for example using an analog mobile phone system such as the advanced mobile phone system AMPS over a band of frequencies nominally at 800 MHz. A digital modem may operate for example over a digital cellular or digital PCS personal communication services band nominally at 800 MHz 900 MHz or 1900 MHz. An analog modem or a digital modem may operate for example over any suitable band of frequencies. Transmission of data over a digital wireless link using an analog modem may not work adequately due to circuitry and encoding algorithms in the mobile phone network that are optimized for voice transmissions. Data rates achievable with a digital wireless modem may be appreciably higher and more desirable than that of an analog wireless modem. Transmission of data from a digital or analog modem may occur in part over land based communication lines which may be part of a public switched telephone system.

The protocol required to transmit data streams or data packets between modems requires each modem to be operating in either an analog or digital mode. For a large number of phone calls coming into a call center for example it may be unknown whether an incoming data call is from an analog modem or a digital modem. Thus the receiving end is required to determine whether an analog or a digital modem is initiating communication and to set up the call accordingly.

A call may be initiated from a mobile vehicle for example to request and receive from a call center a variety of services such as navigation instructions directory assistance road condition information roadside assistance Internet access short messages text messages audio streams or video information. Many mobile vehicles are currently equipped with analog modems and switches that allow a sequence of data and voice sessions to occur. Newer vehicles may be equipped with digital modems which offer higher speed and higher reliability in data transmissions. A call center may need for example to make a determination whether an incoming data call is being originated from a vehicle with an analog or a digital modem and furthermore to establish a connection with the mobile vehicle using the correct modem type such that the correct protocols may be used for accurate and reliable data transmission.

It is an object of this invention therefore to provide a method for modem protocol discrimination and to overcome the deficiencies and obstacles described above.

One aspect of the invention provides a method of selecting a modem carrier type for data transmission over a wireless communication system. An incoming call may be received from a mobile vehicle. An initial carrier tone may be sent to a mobile vehicle in response to the incoming call. A modem response signal may be received from a vehicle modem in response to the initial carrier tone. The modem response signal may be determined to be either an analog modem response signal or a digital modem response signal and then the call may be connected to either an analog modem or digital modem based on the modem response signal determination.

The initial carrier tone may be a nominally 2225 Hz tone. The modem response signal may be a nominally 1270 Hz tone indicating an analog vehicle modem. The modem response signal may be a connect request signal indicating a digital vehicle modem.

A call routing number associated with the incoming call may be compared to a database of call routing numbers and the initial carrier tone may be sent when the call routing number does not match one of the call routing numbers in the database.

The initial carrier tone may be disabled upon detecting a modem response signal. The incoming call may be terminated when no modem response signal is received in response to the initial carrier tone.

Another aspect of the invention provides a wireless modem system for selecting a modem carrier type. The system may include a means for receiving an incoming call from a mobile vehicle. The system may include a means for sending an initial carrier tone to the mobile vehicle in response to the incoming call and a means for receiving a modem response signal from a vehicle modem in response to the initial carrier tone. The system may include a means for determining whether the modem response signal is an analog modem response signal or a digital modem response signal and a means for connecting the call to one of an analog modem or a digital modem based on the modem response signal determination.

The system may further include a means for comparing a call routing number associated with the incoming call to a database of call routing numbers and a means for sending the initial carrier tone when the call routing number does not match with one of the call routing numbers in the database.

The system may further include a means for disabling the initial carrier tone upon detecting a modem response signal and a means for terminating the incoming call when no modem response signal is received in response to the initial carrier tone.

Another aspect of the present invention provides a computer usable medium including a program for selecting a modem carrier type.

The program may include computer program code for receiving an incoming call from a mobile vehicle. The program may include computer program code for sending an initial carrier tone to the mobile vehicle in response to the incoming call. The program may include computer program code for receiving a modem response signal from a vehicle modem in response to the initial carrier tone. The program may include computer program code for determining whether the modem response signal is an analog modem response signal or a digital modem response signal. The program may include computer program code for connecting the call to an analog modem or a digital modem based on the modem response signal determination.

The program may include program code wherein the initial carrier tone is a nominally 2225 Hz tone. The program may include program code wherein the modem response signal is a nominally 1270 Hz tone indicating an analog vehicle modem. The program may include program code wherein the modem response signal is a connect request signal indicating a digital vehicle modem.

The computer usable medium may further include computer program code for comparing a call routing number associated with the incoming call to a database of call routing numbers and computer program code for sending the initial carrier tone when the call routing number does not match with one of the call routing numbers in the database.

The program may further include computer program code for disabling the initial carrier tone upon detecting a modem response signal. The program may include program code for terminating the incoming call when no modem response signal is received in response to the initial carrier tone.

The aforementioned and other features and advantages of the invention will become further apparent from the following detailed description of the presently preferred embodiments read in conjunction with the accompanying drawings. The detailed description and drawings are merely illustrative of the invention rather than limiting the scope of the invention being defined by the appended claims and equivalents thereof.

Wireless modem protocol discrimination system may include one or more mobile communication devices one or more carrier systems one or more wireless networks one or more land networks and one or more communication nodes. A communication node may contain one or more data and voice switches one or more communication node modems one or more advisors one or more vehicle communication services managers and one or more bus systems . A communication node may be a call center where many calls may be received and serviced at a time. Alternatively a communication node may be a modem card in a wireless modem bank or a computer with a modem integrated circuit or a digital signal processor with modem capability or a stand alone modem or a portable wireless communication device or another mobile communication device .

Mobile communication device may be a portable wireless communication device or a mobile vehicle equipped with suitable hardware and software for transmitting and receiving voice and data communications. Mobile communication device may contain a wireless modem for transmitting and receiving data. The wireless modem may be an analog modem or a digital modem. The wireless modem may reside in a digital signal processor located in the wireless communication device a host processor a cellular phone or a mobile phone residing in a mobile vehicle. Mobile communication device may be carried by a user or mounted in a mobile vehicle. Mobile communication device may contain suitable hardware and software for transmitting and receiving voice and data communications. Mobile communication device may send to and receive radio transmissions from carrier system .

Carrier system may be a wireless communications carrier. Carrier system may be for example a mobile telephone system. The mobile telephone system may be an analog mobile telephone system operating over a prescribed band nominally at 800 MHz. The mobile telephone system may be a digital mobile telephone system operating over a prescribed band nominally at 800 MHz 900 MHz 1900 MHz or any suitable band capable of carrying mobile communications. Carrier system may transmit to and receive signals from mobile communication device . Carrier system may transmit to and receive signals from a second mobile communication device . Carrier system may be connected with wireless network .

Wireless network may comprise a mobile telephone switching office. Wireless network may comprise services from one or more wireless communications companies. Wireless network may be any system connecting carrier system to a second mobile communication device . Wireless network may be any system connecting carrier system to land network .

Land network may be a public switched telephone network. Land network may be comprised of a wired network an optical network a fiber network another wireless network or any combination thereof. Land network may connect wireless network with a second carrier system . Land network may connect wireless network to a communication node.

The communication node may contain a switch . Switch may be connected to the land network and may receive a modem carrier from an analog modem or from a digital modem. Switch may transmit voice or data transmission from the communication node. Switch may also receive voice or data transmissions from mobile vehicle through carrier system wireless network and land network . Switch may receive or send data transmissions with communication node modem unit or receive or send voice transmissions with advisor .

Communication node modem unit may send data to or receive data from switch . Communication node modem unit may be an analog modem a digital modem or include both an analog modem and a digital modem. Communication node modem unit may include the ability to detect the type of modem protocol of a received modem signal and to establish connectivity in accordance with the modem protocol. Communication node modem unit may include the ability to send a carrier tone upon receiving an incoming call and to determine the modem type in response to a received modem signal. Communication node modem unit may include the ability to determine whether the modem response signal is from an analog modem or from a digital modem. A modem may be for example any suitable hardware and software operating in accordance with standards Bell 103 Bell 212A V.21 V.22 V.23 V.29 V.32 V.32bis V.34 V.90 V.92 or any other modem standard. A wireless analog modem may be for example any suitable hardware and software operating in accordance with analog wireless communication standards. A wireless digital modem may be for example any suitable hardware and software operating in accordance with digital wireless communication standards. Communication node modem unit may be a modem card. Multiple modem cards may be located for example in a modem bank at a call center. Communication node modem unit may transfer data to or from advisor vehicle communication services manager or any other device connected to bus system . Communication node modem unit may be able to distinguish between an analog modem and a digital modem used in data transmissions from mobile vehicle and operate accordingly. Communication node modem unit may be a located in a second mobile communication device .

Advisor may be a real advisor or a virtual advisor. A real advisor may be a human being in verbal communication with mobile communication device . A virtual advisor may be a synthesized voice interface responding to requests from mobile communication device . Advisor may provide services to mobile communication device . Services provided by advisor may include navigation assistance directory assistance roadside assistance business or residential assistance information assistance and emergency assistance. Advisor may communicate with mobile communication device using voice or data transmissions. Advisor may communicate with vehicle communication services manager or any other device connected to bus system . In cases where no data transmissions occur advisor may be connected to an incoming call through switch .

Vehicle communication services manager may be connected to switch modem and advisor through bus system . Vehicle communication services manager may determine whether voice or data transmissions are to occur with mobile communication device . Vehicle communication services manager may provide instructions to switch whether a communication segment is a voice segment or a data segment. Vehicle communication services manager may provide instructions to modem regarding timing protocols and signal management. Signal management may include for example a determination on whether the data that is being sent or received from mobile carrier should be set to an analog protocol or a digital protocol or whether an incoming call should be transferred to advisor . Signal management may also include establishing connectivity and terminating calls.

Modem carrier type selection system may be comprised of one or more modem units . Modem unit may contain a connectivity module one or more digital modems and one or more analog modems . Modem carrier type selection system may comprise transport layer module application programming interface API and vehicle communication services module .

An inbound call may be connected to modem unit . Modem unit may be a printed circuit board with suitable electronic circuitry and software for determining the modem carrier type of the incoming call and connecting the call to either digital modem or analog modem . Modem unit may be a digital signal processor with the ability to determine the modem carrier type of the incoming call. Modem unit may be a digital signal processor with the ability to determine the modem carrier type as well as provide the functions and signals of a digital modem and an analog modem. Modem unit may comprise for example a single chip integrated circuit encompassing connectivity module digital modem and analog modem .

Connectivity module may contain suitable hardware and software for generating and sending an initial carrier tone in response to receiving an incoming call from a mobile vehicle or from a wireless modem not located in a mobile vehicle. Connectivity module may contain suitable hardware and software for determining whether a modem response signal from the mobile vehicle is from an analog modem or a digital modem and connecting the call to either digital modem or analog modem in modem unit based on the determination.

Digital modem may receive data transmissions from an appropriately connected inbound call. Digital modem may send data transmissions by an appropriately connected outbound call for example to a digital modem in the mobile vehicle. Digital modem may send and receive data transmissions on a physical layer in correspondence with layer one of the OSI open systems interconnection network model. Digital modem may send and receive physical layer data with transport layer module .

Analog modem may receive data transmissions from an appropriately connected inbound call. Analog modem may send data transmissions by an appropriately connected outbound call for example to an analog modem in the mobile vehicle. Analog modem may send and receive data transmissions on a physical layer in correspondence with layer one of the OSI network model. Analog modem may send and receive data with application programming interface .

Transport layer module may contain suitable hardware and software to change physical layer data from digital modem to transport layer four of the OSI network model. Transport layer module may transfer data for example in data packets or blocks of data to application programming interface .

Application programming interface may receive blocks of data or data packets from digital modem via transport layer module . Application programming interface may send blocks of data or data packets to digital modem via transport layer module . Application programming interface may send or receive streams of data blocks of data or data packets with analog modem . Application programming interface may send control signals to digital modem or to analog modem for the coordination of data flow and timing. Control signals generated by application programming interface may include for example the sending of an initial carrier tone or the disabling of the initial carrier tone when a modem response signal is received. If no modem response signal is received in response to the initial carrier tone application programming interface may connect for example the call to advisor or terminate the incoming call. Application programming interface may send data to or receive data from vehicle communication services module .

Vehicle communication services module may provide a variety of services to mobile communication device . Mobile communication device may be mounted for example in a mobile vehicle. The user of the mobile vehicle may request for example various services to be provided such as navigation instructions directory assistance road condition information roadside assistance Internet access short messages text messages audio streams or video information. Vehicle communication services module may acquire and manage the information requested by the mobile vehicle. Vehicle communication services module may access for example one or more databases or connect with other service and information modules to provide the desired information and services.

An incoming call may be received Block . The incoming call may be initiated for example by a user in a mobile vehicle desiring services such as roadside assistance emergency services or any of a number of information and communication services. The incoming call may be received for example by a call center where large numbers of incoming calls from various sources may be received. Upon reception of the incoming call a comparison may be made of a call routing number associated with the incoming call to call routing numbers in a database. The call routing number associated with the incoming call may be the dialed number of the call center. The call routing number associated with the incoming call may be the phone number associated with the mobile vehicle. The call routing number may be obtained for example by use of an inbound dialed number information service DNIS . The call routing number may be obtained for example from an automatic number identification ANI service such as caller ID. The database of call routing numbers may contain information on whether the modem associated with the incoming call is an analog modem or a digital modem and then connect the call to an analog modem or a digital modem accordingly.

If the comparison of the call routing number associated with the incoming call to a database of call routing numbers does not result in a match or if no call routing number is available a carrier tone may be generated Block . The carrier tone may be for example a signal at a frequency of 2225 Hz. The carrier tone may be sent for example to the mobile vehicle. A modem located at the mobile vehicle may recognize the tone and send a modem response signal. If the modem in the mobile vehicle is an analog modem the modem may respond with a 1270 Hz tone for example in accordance with Bell 103 standards. If the modem in the mobile vehicle is a digital modem the modem may respond to the carrier tone for example with a connect request signal. Upon detecting a modem response signal the initial carrier tone may be disabled.

A modem response signal may be received Block . If no modem response signal is received the incoming call may be terminated for example after a specified number of seconds Block .

If a modem response signal is received Block a determination may be made as to whether the response is being received from an analog modem or a digital modem. If the response corresponds to a digital modem the carrier tone may be dropped and the call may be connected for example to a digital modem at the call center Block . Data may then be transferred Block and the data transfer session terminated when data transfers are completed Block . Additional voice sessions and data sessions may follow until the call is finally terminated.

If a modem response signal is received indicating an analog modem the call may be connected to an analog modem at the call center for example Block . Data may then be transferred Block . The data transfer session may be terminated when data transfers are complete Block or additional voice sessions and data sessions may follow until the call is finally terminated.

While the embodiments of the invention disclosed herein are presently considered to be preferred various changes and modifications can be made without departing from the spirit and scope of the invention. The scope of the invention is indicated in the appended claims and all changes that come within the meaning and range of equivalents are intended to be embraced therein.

