---

title: Generation of fingerprints for multimedia content based on vectors and histograms
abstract: Surrogate heuristic identification is described, including receiving data associated with content, evaluating the content to identify one or more data structures associated with the content, processing the one or more data structures to generate a fingerprint, wherein the fingerprint is hashed to provide a reference identifier, and sending the reference identifier to a client file and a service file.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09020964&OS=09020964&RS=09020964
owner: Pinehill Technology, LLC
number: 09020964
owner_city: Wilmington
owner_country: US
publication_date: 20070702
---
This application is related to co pending U.S. patent application Ser. No. 11 408 199 filed Apr. 20 2006 and entitled Surrogate Hashing U.S. patent application Ser. No. 11 824 983 filed Jul. 2 2007 and entitled Surrogate Heuristic Identification U.S. patent application Ser. No. 11 824 973 filed Jul. 2 2007 and entitled Surrogate Heuristic Identification U.S. patent application Ser. No. 11 824 815 filed Jul. 2 2007 and entitled Surrogate Heuristic Identification U.S. patent application Ser. No. 11 824 982 filed Jul. 2 2007 and entitled Surrogate Heuristic Identification U.S. patent application Ser. No. 11 824 996 filed Jul. 2 2007 and entitled Surrogate Heuristic Identification U.S. patent application Ser. No. 11 824 924 filed Jul. 2 2007 and entitled Surrogate Heuristic Identification U.S. patent application Ser. No. 11 824 789 filed Jul. 2 2007 and entitled Surrogate Heuristic Identification U.S. patent application Ser. No. 11 824 995 filed Jul. 2 2007 and entitled Surrogate Heuristic Identification U.S. patent application Ser. No. 11 825 001 filed Jul. 2 2007 and entitled Surrogate Heuristic Identification U.S. patent application Ser. No. 11 824 963 filed Jul. 2 2007 and entitled Surrogate Heuristic Identification U.S. patent application Ser. No. 11 824 957 filed Jul. 2 2007 and entitled Surrogate Heuristic Identification U.S. patent application Ser. No. 11 824 846 filed Jul. 2 2007 and entitled Surrogate Heuristic Identification all of which are herein incorporated by reference for all purposes.

The present invention relates generally to searching using processing systems. More specifically surrogate heuristic identification is described.

Information on the Internet and World Wide Web is available in various forms formats types and amounts. The Internet has been a valuable medium for enabling the proliferation of information. However locating copies of information or data is a difficult task using various types of conventional techniques.

Some conventional techniques rely upon the use of locating or identifying keywords or text associated with a given image document photo picture song or other digital data file file . Keywords or text e.g. metadata may be associated with a given file to enable search engines crawlers bots and other search applications to find files based on the keywords or data. However keywords or text do not necessarily indicate the actual content of a given file. For example a keyword tree may be assigned and used to identify the picture of a river. As another example metadata using keywords describing a public personality may be used to describe a web page associated with a completely different personality. In other words conventional techniques that use keywords and metadata to locate files are typically inaccurate and inefficient.

Other conventional solutions may rely upon the use of identifying objects within certain types of files. However object data within a file may be obscured or modified such that conventional techniques are unable to locate and identify copies of a given file that may be slightly different from each other because of artifacts that are located within the image video audio or other data.

Thus what is needed is a solution for identifying data without the limitations of conventional techniques.

Various examples or embodiments examples may be implemented in numerous ways including as a system a process an apparatus or a series of program instructions on a computer readable medium such as a computer readable storage medium or a computer network where the program instructions are sent over optical or electronic communication links. In general operations of disclosed processes may be performed in an arbitrary order unless otherwise provided in the claims.

A detailed description of one or more examples is provided below along with accompanying figures. The detailed description is provided in connection with such examples but is not limited to any particular example. The scope is limited only by the claims and numerous alternatives modifications and equivalents are encompassed. Numerous specific details are set forth in the following description in order to provide a thorough understanding. These details are provided for the purpose of example and the described techniques may be practiced according to the claims without some or all of these specific details. For the purpose of clarity technical material that is known in the technical fields related to the examples has not been described in detail to avoid unnecessarily obscuring the description.

In some examples the described techniques may be implemented as a computer program or application application . The described techniques may also be implemented as a module or sub component of another application. Here the described techniques may be implemented as software hardware firmware circuitry or a combination thereof. If implemented as software the described techniques may be implemented using various types of programming development scripting or formatting languages frameworks syntax applications protocols objects or techniques including C Objective C C C Flex Java Javascript Ajax COBOL Fortran ADA XML HTML DHTML XHTML HTTP XMPP and others. Design publishing and other types of applications such as Dreamweaver Shockwave and Fireworks may also be used to implement the described techniques. The described techniques may be varied and are not limited to the examples or descriptions provided.

Techniques for surrogate heuristic identification are described. In some examples identifying content within files or data streams i.e. collections or logical groupings of data that when instantiated rendered or otherwise processed result in an image video audio multimedia content picture or other type of content from various locations on a network e.g. the Internet . In some examples surrogate heuristic identification may be used to identify content such as a portion of an image or video or an image or video. Content content describes information that may be experienced and that may be substantially similar in appearance i.e. when displayed on a screen or monitor but may also be different at a data level. In some examples data level may refer to a level or layer of for example the Open Systems Interconnection OSI Internet or other types of data representations and models used to describe interoperability of data communication systems. As an example a clip from a movie may be content even though a data representation may be substantially different than another file due to for example encoding schemes or other content provided with the clip. In other examples surrogate heuristic identification may be used to identify portions of a file or data stream. Likewise an entire file or data stream may be identified if image video or audio i.e. sound data is provided that may be rendered into image video or audio i.e. sound form. In some examples file or content identification may be performed using a histogram or other type of data representation i.e. graphical or otherwise for a characteristic of an image. In other examples data used to plot a histogram may be used for file or content identification without plotting i.e. generating the histogram or other data representation e.g. bar graph pie chart and others . Histogram values may be used for comparison or stored for future comparison. Other attributes may be used in conjunction with histogram values for content identification. In other examples histogram values may be used to generate a series of vectors used to identify the content. These vector values may be used for comparison or stored for future comparison. Other attributes may be used in conjunction with vector values for content identification. In yet other examples histogram values vector values a combination thereof or other data types and values without limitation may be used with or without other attributes to generate one or more signatures or fingerprints fingerprint . Fingerprints may represent a file data stream portion of a file portion of a data stream a segment of content such as an image piece video clip sound byte etc. or the whole content. Fingerprints may be encoded histogram values vector values vector data heuristic data a combination thereof or other types of data. Other data may be included in fingerprints. Fingerprints may also be hashed e.g. MD5 hash and others to generate values from histogram data. Hashed values derived from vector data hashed values derived from other data such as binary data or any combination there of may be used. These fingerprints may be used for comparison or stored for future comparison. Other attributes may be used in conjunction with fingerprints for content or file identification. For example another image may have one or more histograms generated and the vectors of those histograms may be used to generate a fingerprint for a given file or data stream which may be further used to generate a hash value using the vectors. Hashing algorithms and techniques may be used to generate hash values such as those described in U.S. patent application Ser. No. 11 408 199 filed on Apr. 20 2006 entitled Surrogate Hashing which is incorporated herein by reference for all purposes. In other words vectors may be used to index store and compare histogram values. Fingerprinting is a way to index store and compare vectors or histograms. Vectors histograms or a combination thereof may be used to perform content identification using the techniques described herein. In other examples identification may be performed for other types of files or content such as audio by using various characteristics e.g. frequencies high or low tones volumes and others to generate histogram data that may be used with the techniques described. A characteristic may be any quantifiable property of an image or a portion of an image that may be resolved into a given value. For example a characteristic may be the brightness color tone hue luminance red green blue value volume frequency tone pixel density pixel count and others for various types of files and data streams. A characteristic may also be the rate or degree of change in an attribute. A histogram may be a graph that records counts of a characteristic at various levels. For example a histogram may be generated to indicate a number of pixels having a brightness value of 50 or a number of pixels having a green value of 75. In other examples a histogram may also be generated to represent change in a characteristic e.g. brightness contrast and others from for example surrounding pixels or between pixels. A pixel may describe a picture element as an abstract sample and is not necessarily the smallest possible sample i.e. a dot or square . In other words a pixel may represent an abstract sample of a file or content e.g. image video audio and others but does not necessarily refer to the smallest picture element in for example an image. Pixel may be calculated from smaller parts by methods that may include for example average value maximum value minimum value or other. Multiple images may be normalized so that each image includes the same number of pixels. In some examples histogram values may be discrete or may be grouped in ranges. In other examples histograms axes may be adjusted e.g. logarithmic axis or normalized for given types of content. In still other examples histogram values on modified axis may be adjusted to reflect relative distances. Further histogram and vector values may be calculated at various significant figures i.e. 10.0121 10.012 10.01 10.0 10 0 and others . As another example fingerprints may be stored in a repository e.g. database data mart data warehouse storage area network and the like and may be later retrieved for use in identifying content files or data streams. In other examples the described techniques may be varied and are not limited those provided.

As an example image or video content may be identified using the above described processes. For example images may be identified by creating a fingerprint for each image found on a network e.g. Internet world wide web private or corporate LAN and others data base e.g. repository FIG. and others. A fingerprint may be generated for an image video audio picture photo multimedia or other type of content. Once generated a fingerprint may be compared to previously stored fingerprints. If a match is found with a stored fingerprint the location or address of the file or data stream associated with the generated fingerprint may be returned.

A file or data stream may be used to for example render an image. In some examples a source file may be used to generate multiple instantiations objects or renderings of the image using an encoder decoder codec to encode decode data that for example may be used to generate a bitmap image. For example an image may be stored in the joint picture experts group JPEG format which may be decoded using a JPEG decoder. Various types of codecs may be used and are not limited to any particular type. In some examples a decoded file or data stream intended for display on a screen or user interface for example may be fingerprinted using the above described process. Images may include any file or data stream that may be rendered on a display including documents portable documents spreadsheets slideshows videos photos i.e. digital photographs collections of pixel data and others. In other examples the above described process may be performed on other types of files e.g. audio video multimedia multi frame and others . Regardless of file or data stream type surrogate heuristic identification may be performed by selecting a standardized portion of an image file or data stream i.e. encoded heuristic data or heuristic data . For example a number of images may be used to generate fingerprints for each image using a portion selected from a consistent location area or part of content i.e. standardized . In other words a standardized set of data i.e. data set may be selected from each image and used to create a fingerprint. In some examples by retrieving portions of content bandwidth and processor requirements may be reduced allowing faster processing times and increasing the amount of content the number of files or data streams that may be fingerprinted.

Here a histogram may be used to determine vectors and subsequently fingerprints for content. In other examples content such as an entire file image video audio movie clip or the like may be selected as a standardized portion. Here a threshold size for a portion may be established. If a file or data stream has an amount of content that is less than or equal to the threshold file size the entire e.g. complete set file group or other collection of content may be used as a portion to plot a histogram from which to derive vectors that are used to generate a fingerprint. In other examples multiple portions may be selected. Here each portion may be used to generate fingerprints for a piece of content. A characteristic or attribute of a given type of file or data stream may be used as inputs for plotting points using a coordinate system for a histogram. In other examples counting the number of occurrences of a given characteristic or attribute may be used to construct graphical or other types of data representations and models e.g. pie charts bar charts and others other than a histogram. In other words different techniques may be used to analyze events occurrences incidences and other characteristics or attributes. For example stochastic techniques may be used to analyze seemingly random occurrences of a given characteristic or attribute of an audio file but when plotted using a histogram a pattern may emerge or vectors may be plotted. In some examples these may be used to generate a fingerprint. A histogram may be generated by using measurements of the same characteristic for every portion of a file or data stream.

In some examples vectors generated using a histogram may be used to create a fingerprint for content i.e. a portion . In other examples vectors may be determined using a small amount of data selected from a file or data stream as a standardized portion. In other words the amount of data in a selected portion may be varied to include a set of data i.e. dataset chosen from some or all data associated with a file or data stream. Fingerprints may include all data associated with a histogram or a portion of a histogram. For example a histogram may be plotted with ten discrete levels for example that represent brightness levels 1 10 for pixels in an image. By counting the number of pixels within the various brightness levels the number or counts of pixels may be used to plot a histogram. In other examples different characteristics other than brightness may be used. For example in an audio file frequencies and amplitudes associated with a sound wave may be plotted and used to generate a histogram.

In some examples histogram may be used to develop a fingerprint for a portion of content. Fingerprints from one or more selected portions may be used to identify an image video audio multimedia or other type of content. Further fingerprints may be compared against other stored fingerprints to determine whether the content undergoing surrogate heuristic identification is substantially similar to other content. In some examples vectors may be used to derive values associated with a given item of content. Vectors troughs and peaks may be used to perform vector analysis using various types of techniques to derive one or more fingerprints for a given segment of content. In other examples the above described techniques may be varied and are not limited to those shown and described. Further different data representations other than histograms may be used and are not limited to the examples shown and described.

In still other examples axes may be implemented differently. For example minimum e.g. 0 and maximum e.g. 255 values may be chosen differently and are not limited to the examples shown. In some examples the axis of the histogram may be normalized or other scales may be used e.g. logarithmic scales . Point values used in a histogram may be adjusted to accurately represent a position against a standard axis. If groupings of measurements are used normalization techniques may be used to reduce or eliminate distortion along axes . In other words data associated with vectors may be normalized to allow groupings as well as individual measurements to be used without distorting histogram . As another example brightness channel i.e. intensity values may be increased or decreased. Yet another example may include shifting values left or right i.e. for intensity values or up and down. In other examples data may be evaluated using techniques other than vector analysis and using histogram . Further histogram may be implemented differently and is not limited to the examples provided.

If there are no more extremes vectors may be determined . In some examples vectors may be determined by finding a distance and angle between each adjacent point each adjacent extreme or each adjacent global extreme. For example vector may be determined by finding the distance and angle between maximum and minimum . Maximum may represent 50 counts at 30 units of intensity and minimum may represent 20 counts at 100 units intensity. Vector may be determined for example as arctan 30 70 23.2 from axis . The magnitude of vector may be determined for example as square root over 70 30 76.2 using for example the Pythagorean Theorem.

In some examples angles and magnitudes of vectors may be stored and used for example as fingerprints of selected content or segment of content . For example a fingerprint for vector may be 232762 indicating that vector is 23.2 from the vertical and has a magnitude of 76.2 units. In other examples vectors may be hashed using techniques such as those described above. Further hashing vectors may be useful where many vectors for a single image file data stream or other content are stored.

In some examples more or fewer significant figures of the fingerprint may be stored to increase or reduce the tolerance of surrogate heuristic identification. In other words a fingerprint of vector may be reduced to a single significant figure and stored as 2080 indicating 20 from the vertical and 80 units of length. When searching for an image using the fingerprints a reference image with fewer significant figures may increase the tolerance of the image identification. In other examples the techniques described above may be applied to other histograms without limitation e.g. . In other examples the above described identification process may be varied and is not limited to the descriptions provided.

Alternatively other multiple frame files or data streams may be identified using the techniques described. For example a slideshow word processing document multimedia application webpage and others may be represented as images. Portions may be selected from a multiple frame file or data stream using various characteristics to determine which frames are selected. Further after generating fingerprints for selected portions i.e. files or data streams undergoing surrogate heuristic identification stored fingerprints may be used i.e. compared to determine whether a match exists. If a match is found then the location of the duplicate image video or other file or data stream may be determined returned stored processed or otherwise used.

In the example shown logic module can optionally include standardized sample selector an audio detector and a sample analyzer . Standardized sample selector can be configured to select triggers points at which a standardized sample can be obtained. A trigger point at least in some embodiments can refer generally to a value for one or more characteristics and or attributes that causes application to capture audio data as a standardized sample. A trigger point can be a high valued characteristic a low valued characteristic or a range of values that when detected will cause application to sample audio data. Examples of characteristics include frequencies volumes and other aural attributes that can be present in the audio. As such a trigger point can be a frequency of an audio signal that meets or exceeds for example a specific frequency e.g. a high frequency . In one embodiment a trigger point can be the start of the audio file e.g. zero minutes and zero seconds of playback . depicts one example in which standardized sample selector selects different trigger points.

Sample analyzer is configured to analyze a standardized sample to associate one or more quantities for one or more characteristics of the standardized sample. In particular sample analyzer can operate to describe audio data in a manner that facilitates for example the determination of patterns with which to distinguish unique standardized samples from each other. In one embodiment sample analyzer can decompose audio signals into any number of ranges such as frequency ranges for characterizing those ranges. depicts one example of an analysis performed by a sample analyzer to quantify the features of a characteristic with which audio data can be identified.

Audio detector is configured to detect whether data in a file or streaming over a network is audio. In one case audio detector can detect audio data as a function in whole or in part of a file extension that indicates an audio or video file e.g. .wmv .mp3 etc. indicate files . In another case audio detector can detect audio data as a function in whole or in part of a MIME type e.g. type Audio such as audio mpeg associated with the data and or file. Further logic module may guide the operation of application and the various elements e.g. input module crawler interface I F database system I F sample representation compression module and pattern generator module shown. In some examples input module receives input via input module . Data may be sent or received between application and crawlers using crawler I F . In other examples application and the above described elements may be varied and are not limited to the descriptions provided.

In some examples input may be received by interface module . Input e.g. fingerprints files data streams portions of files or data streams and others may be used to construct a search by query generator . Once constructed a SQL query may be run against fingerprints stored in repository . Here fingerprint evaluator loader module may be used to compare fingerprints input by for example a user via a user interface. In other examples fingerprint evaluator loader module may be used to compare fingerprints provided by a system or other automatic or semi automatic input. Further fingerprint evaluator loader module may be used to compare fingerprints against stored fingerprints in fingerprint tables . When a fingerprint is used to identify a file using the techniques described above a location address web page URL or other identifying data may be returned via API . In still other examples application and the above described elements may be varied in function structure and implementation and are not limited to the descriptions provided.

In some examples panel may be configured to display files which may be associated with a given website. A website may be in some examples a logical grouping of locations files or other content found on a website which may be targeted for the purpose of identifying content using the described techniques. Each of files may be selected or deselected by for example checking or unchecking a box next to each file name. File names may be listed on a line next to each box. File names may be selected or deselected using different techniques and are not limited to the examples provided.

Panel in some examples may be configured to display a graphical representation e.g. a chart an object model or other data representation that shows relationships i.e. links between objects with each relationship being based on files or content located on websites associated with objects . For example files or other content listed in panel may be selected or deselected. As files or other content shown in panel are selected or deselected the network of objects and links may change i.e. appear disappear move and the like . In some examples files or content may be shown as a network. In other examples the network representation shown in panel may be modified by selecting or deselecting files or content listed in panel . In some examples selection of hosts i.e. objects may be varied by selecting a different object in panels or . Further relationships i.e. links may also be selected in panel . When an item e.g. links objects are selected the display shown in panel may re center shift move or otherwise be displayed differently. Panel may be configured to persistently display selected or unselected files by checking or unchecking respectively boxes provided next to each file name associated with files or content . When files or content in panel are selected the display in panel may change i.e. objects may appear or disappear links may vary in configuration between objects links may change in numbers and the like . Alternatively when the display in panel is modified e.g. re centered shifted moved or otherwise modified by selecting for example one or more of objects or links the list of files or content in panel may change. Likewise the list of files or content shown in panel may also remain unchanged. Still further panel may also be configured to display updates of files or content based on selections made to items displayed in panel e.g. objects links . In other examples the above described panels and may be varied and are not limited to the descriptions provided.

Fingerprints may in some examples be displayed in panel which may appear in various forms. Further searches for files data streams or content may be performed by entering a fingerprint into panel or another panel which is configured to use a fingerprint as an input for performing surrogate hashing or surrogate heuristic identification to determine a value associated with the files or data streams. Any type of search algorithm or technique may be used to compare a data e.g. a stored histogram fingerprint combination thereof or others provided in panel to other stored data for example in repository and is not limited to any particular implementation. Panel may be used to upload files for analysis or comparison using surrogate hashing or surrogate heuristic identification. Further surrogate hashing data or surrogate heuristic identification may be entered i.e. input into any of panels that may be configured to search for other files data streams or content having substantially similar identifying data or content. For example a fingerprint may be an identifier in hexadecimal binary ternary or other types of formats and is not limited to any type or format. Interface window and panels may be varied in size shape function input output and layout none of which are limited to the examples shown and described above.

Here address bars may be configured to allow the input of an address location of a file or domain. In some examples address bars may be used to enter a web Internet address or other location where a file or data stream is stored. A domain e.g. a World Wide Web address hypertext transfer protocol HTTP address or other type of address may also be used as an input to one or more of address bars . Further address bars may also be configured to receive a fingerprint encoded histogram data encoded vector data a combination thereof or a combination thereof used with other data that for example is entered i.e. using techniques such as cut and paste copy and paste and others . Once entered a fingerprint encoded histogram data encoded vector data a combination thereof or a combination thereof used with other data may be used to search for other substantially similar files data streams or other content and if found a file data stream or other content may be retrieved and presented using one or more of panels . For example if a domain for a website is entered into address bar the home page of the website may be shown in panel . Further the domain may also be used to show whether a file sought for comparison based on a fingerprint is located at the domain. If found a copy of a file may also be presented along with an address location or other identifying information that allows a user to determine whether the file data stream content or portion of content is a copy of another file data stream content or portion of content associated with the input data e.g. fingerprint encoded histogram data encoded vector data a combinations thereof or a combination thereof used with other data and others . As an example if a rights management agency for an artist is searching for illegally copied versions of a given artist s work a fingerprint associated with the artist s file may be entered into panel and used to search for other files data streams or content having the same or substantially similar fingerprint. Files data streams or content with the same or substantially similar fingerprint may be shown in for example panel along with links to other pages within the website or to another website that may have copies of the illegally i.e. unauthorized copied file. In other examples address bars may be configured to input a local address of a file stored for example on the same system as for example that used to implement application .

Interface and the described techniques may be used to search find and otherwise identify files data streams or other content. In some examples content may be identifiable data found in files or data streams. In other examples content may have different file or data types formats encapsulations designs layouts and the like. For example content may include images graphics photos music video audio and other information. A song digital recreation of a painting editorial article web log i.e. blog photograph and others may be content. Numerous other types of content may be sought and identified using the described techniques. Further as described herein content may be information or data that can be discretely sought found retrieved copied and otherwise identified using for example surrogate hashing surrogate heuristic identification and other techniques for identification. Interface or elements of interface such as frames may be used to provide inputs into a reporting system not shown . In some examples reporting systems of various types versions implementations configurations or platforms may be used and are not limited to any specific type of reporting system. Interface may be used as a front end user interface to application and other computer programs software or applications that implement the logic processes and techniques described herein. Further interface and the above described elements may be varied and are not limited to the examples provided.

According to some examples computer system performs specific operations by processor executing one or more sequences of one or more instructions stored in system memory . Such instructions may be read into system memory from another computer readable medium such as static storage device or disk drive . In some examples hard wired circuitry may be used in place of or in combination with software instructions for implementation.

The term computer readable medium refers to any medium that participates in providing instructions to processor for execution. Such a medium may take many forms including but not limited to non volatile media volatile media and transmission media. Non volatile media includes for example optical or magnetic disks such as disk drive . Volatile media includes dynamic memory such as system memory . Transmission media includes coaxial cables copper wire and fiber optics including wires that comprise bus . Transmission media can also take the form of acoustic or light waves such as those generated during radio wave and infrared data communications.

Common forms of computer readable media includes for example floppy disk flexible disk hard disk magnetic tape any other magnetic medium CD ROM any other optical medium punch cards paper tape any other physical medium with patterns of holes RAM PROM EPROM FLASH EPROM any other memory chip or cartridge carrier wave or any other medium from which a computer can read.

In some examples execution of the sequences of instructions may be performed by a single computer system . According to some examples two or more computer systems coupled by communication link e.g. LAN PSTN or wireless network may perform the sequence of instructions in coordination with one another. Computer system may transmit and receive messages data and instructions including program i.e. application code through communication link and communication interface . Received program code may be executed by processor as it is received and or stored in disk drive or other non volatile storage for later execution.

The foregoing examples have been described in some detail for purposes of clarity of understanding but are not limited to the details provided. There are many alternative ways and techniques for implementation. The disclosed examples are illustrative and not restrictive.

