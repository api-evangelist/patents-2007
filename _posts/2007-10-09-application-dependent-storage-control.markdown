---

title: Application dependent storage control
abstract: A system for enforcing a storage allocation usage right(s) for an application may include a controllable storage and a storage manager to control the access of the application to the storage according to an associated storage allocation usage right. A SIM card for enforcing a storage allocation usage right for an application may include an application register to store an access rule of the storage allocation usage right(s) and an APREC module to identify the application and thereby an access rule to enable controlling of the access of the application to storage according to the storage allocation usage right. A high-capacity SIM card for enforcing a storage allocation usage right for an application may include a storage; a storage manager to control the access of an application to the storage according to an associated access rule of the storage allocation usage right; and an APREC module.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=07996638&OS=07996638&RS=07996638
owner: SanDisk IL Ltd.
number: 07996638
owner_city: Kfar Saba
owner_country: IL
publication_date: 20071009
---
This patent application claims the benefit of U.S. Provisional Patent Application No. 60 828 661 filed Oct. 09 2006 the content of which is herein incorporated by reference in its entirety.

Computer storage devices are essential resources in computer systems as they store instruction codes application programs and various types of data. The use of mobile devices such as mobile phones and personal digital assistance PDA devices and distribution of various types of applications and applications related data continues to become more prevalent and in general applications which are continually being developed require more storage resources. Storage is generally considered to be an expensive computer resource.

The larger the storage capacity of a storage device the lower is its cost per gigabyte. The term gigabyte GB references a unit of information or a computer storage equal to one billion 10 bytes where byte which often is a group of eight binary bits is commonly used as a basic unit of storage measurement in computers regardless of the type of data being stored. For example a one gigabyte storage device is usually more expensive than one gigabyte in a ten gigabyte storage device.

Sometimes a host residing for example in a mobile phone is required to simultaneously execute several applications and each application may have a different storage requirement that may dynamically change while the application is executed. For example an application program that plays multimedia content typically requires storage of several megabytes. Such applications will not be able to run properly on a host device if the available storage in the host device is not as large. Because storage resources are limited applications requesting access to storage are traditionally allocated storage on a first to request basis.

From commercial and technical points of view competition between applications publishers for storage for example in a mobile device is of interest. The term publisher references application s provider that provides end users with application programs such as media players and or with digital content such as a multimedia content and or other types of data or information. Instead of competing for storage availability with other publishers publishers may want to guarantee in advance that whenever an end user launches their application the application will be allocated a sufficiently large storage space regardless of its type and any of its inherent characteristic and under some circumstances the allocated storage will be reserved for the application for future usage. Therefore it would be reasonable to use a single high capacity storage device and to guarantee to applications running on a host sufficient storage in that storage device. Today however usage of storage resources is not prioritized in that respect. U.S. Pat. No. 6 801 992 to Gajjar et al. discloses system and method for policy based storage provisioning and management that allow uniform deployment of storage provisioning policies in a heterogeneous storage environment. US app. No. 2005 0160428 to Ayachitula et al. discloses an application aware system that provides consistent quality of service for similar types of applications.

Thus there is a need for an application dependent storage control system that will implement an application dependent storage allocation methodology based on storage usage rights. Regarding mobile phones there is a need for a storage prioritization method for enabling publishers and network operators such as Mobile Network Operators MNOs to agree in advance to which applications storage will be allocated for example in mobile phones. There is also a need for a method that will enable a network operator to remotely set and enforce a storage allocation usage right s on an application running on a host of a mobile device such as a mobile phone based on agreed upon usage rights.

The following embodiments and aspects thereof are described and illustrated in conjunction with systems tools and methods which are meant to be exemplary and illustrative but not limiting in scope.

According to the present invention a system for remotely enforcing a storage allocation usage right s for an application running on a host is provided the storage allocation being based on agreed upon usage right s the system including a controllable storage and a storage manager configured to control the access of the application to the storage according to an associated access rule of the storage allocation usage right s . Remotely enforcing a storage allocation usage right s may include any combination of the following reaching an agreement as to the usage right s particulars setting the usage right s forwarding the usage right s from the originator of the usage right s e.g. mobile network operator to intended device s causing the intended device s to implement the storage allocation usage right s . By controllable storage is meant any type of storage device which has one storage area or more storage areas having the same size or different sizes to which access can be controlled. Controlling storage includes the ability to partition the storage space to any desired number of storage areas and controlling the access of an application to any of one or more storage areas individually or collectively. Depending on the context accessing a storage area means accessing one storage area or more than one storage area within the storage device 

The system may further include an application register that is configured to store one access rule or multiple access rules of the storage allocation usage right s . The system may further include an application recognition APREC module also referred to herein as application recognizer . As part of the present invention the APREC may be configured to uniquely identify the application by obtaining a unique identifier of the application and to use the unique identifier to identify in the stored access rules and to send to the storage manager an associated access rule. The APREC may also use the unique identifier to authenticate the involved application for example to make sure it is an eligible and not an imposter application. The storage manager may control the access of the application to the storage space by enforcing the access rule on the application. As used herein an application is unique or it can be uniquely identified if it has includes has been assigned or it has associated with it a unique identifier. In that respect the type of application and inherent characteristics thereof are irrelevant because identical and similar applications can have different unique identifiers. Put otherwise depending what whether an application is licensed or not licensing an application is discussed in connection with the figures the application can be allocated a storage area for its exclusive use or be deprived of such usage right.

The host may be a mobile device which may be a mobile phone. The controllable storage may be part of a storage device which may be a memory card High Capacity SIM HCS card and the like. The storage manager may reside in the storage device for example HCS card or memory card or in the host of the storage device.

The system may further include a storage access mediator residing in the host. The storage access mediator may enable the transfer of a unique application identifier from a launched or running application to the APREC and the transfer of one or more access rules from the APREC to the storage manager the one or more access rules being associated with the transferred unique application identifier.

According to an embodiment of the present invention the HCS card is embodied as separate subscriber identifier card and controllable storage space and the APREC and the application register reside in the subscriber identifier card and the storage manager resides in or it is operationally adjacent the controllable storage space. Subscriber identifier card references herein a memory device that securely stores service subscriber key code or information for identifying a mobile phone or a mobile phone subscriber or both and network specific information to authenticate and identify subscribers on the network. SIM card is an exemplary subscriber identifier.

According to an embodiment of the present invention the subscriber identifier card enables the enforcement of a storage allocation usage right s for an application running on a host and its application register is configured to store an access rule of the storage allocation usage right s the access rule being associated with the application. An application recognition APREC module in the subscriber identifier card may be configured to receive from an application the application s unique identifier use the identifier to retrieve and to send the access rule to the storage manager to enable it or to instruct it how to control the access of the application to a controllable storage according to the storage allocation usage right s set for that application.

According to another embodiment the subscriber identifier card and the controllable storage constitute one device referred to herein as subscriber identifier card with controllable storage space or interchangeably controllable storage space with subscriber identification capability . High Capacity SIM HCS card is an exemplary controllable storage space with subscriber identification capability. The term HCS will be used hereinafter for the sake of simplicity but it is to be construed as referring in general to any device that can function both as subscriber identifier card and controllable storage space .

According to the present invention a HCS card for enforcing a storage allocation usage right s for an application running on a host is provided. The HCS card may include a controllable storage space a storage manager configured to control the access of an application to the controllable storage space according to an associated access rule of a storage allocation usage right s application register configured to store an access rule of the storage allocation usage right s the access rule being associated with the application and an application recognition APREC module configured to receive from the application a unique identifier use the unique identifier to retrieve the stored access rule and to send it to the storage manager to enable it or to instruct it how to control the access of the application to the controllable storage space according to the storage allocation usage right s .

Also provided is a method for enforcing a storage allocation usage right s for an application running on a host that interfaces with a subscriber identifier card and with a controllable storage space. The method may include storing an access rule of the storage allocation usage right s the access rule being associated with the application or with the application type and allocating based on the access rule the storage space for utilization by the application. Enforcement of the storage allocation usage right s on the application may be executed by the storage manager enforcing the access rule on the application.

The access rule and the associated application may be identified by an APREC module in the subscriber identifier card based on a unique identifier of the application which the APREC may use to identify and to transfer the appropriate access rule to the storage manager for enforcement on the application. Optionally the APREC may use the application s unique identifier to authenticate the application. If the authentication fails the APREC may send to the storage manager an authentication failure message. Responsive to this massage the storage manager will allow the application to access only available public or free portion s of the storage space.

Allocation of storage space for the application may include reserving the storage space for the application even for when the application is not running or only for when the application is running in which case the content of the allocated storage space may be discarded before the storage space is allocated to another application.

Also provided is a method of preparing an application for running in a remote device in compliance with a storage allocation usage right s the method may include receiving a unique identifier ID of the application for associating the application with an access rule of the storage allocation usage right s the access rule indicating how to allocate storage space in the remote device to the application and appending said identifier to the application. The unique identifier may be part of a name of an identifier transferring IDT file enabling obtaining the unique ID.

Also provided is a method for remotely allocating storage space in a remote device to an application the method may include sending to the publisher of the application a unique identifier of the application that associates the application with an access rule of a storage allocation usage right s the access rule indicating how to allocate storage space in the remote device to the application based on storage allocation usage right s and sending the access rule and the unique identifier to the remote device. The identifier may as well be used to authenticate the application in the remote device prior to the association of the application with an access rule.

In addition to the exemplary aspects and embodiments described above further aspects and embodiments will become apparent by reference to the figures and by study of the following detailed description.

It will be appreciated that for simplicity and clarity of illustration elements shown in the figures are not necessarily drawn to scale. Further where considered appropriate reference numerals may be repeated among the figures to indicate like corresponding or analogous elements

The invention summarized above and defined by the claims below will be better understood by referring to the present detailed description of embodiments of the invention. This description is not intended to limit the scope of claims but instead to provide examples of the invention.

U.S. Provisional Patent Application No. 60 746 369 hereinafter 369 by Jose Carlos Santos Garcia which is entitled SIM Storage Control filed May 4 2006 discloses a storage partitioning method by which a remote control message causes a storage space in a mobile device to be partitioned and a partition profile to be linked to each partition to enable a user of the mobile device to control the usage of the storage partition s .

The present invention may utilize a storage control method similar to the method of 369. However in the present invention controllable storage spaces are allocated to applications running on a host and the access of the applications to the storage spaces allocated to them is managed as discussed herein. The present invention further includes identifying the application requesting a storage access and enforcing access rules as discussed herein. Allocation of storage spaces to applications is carried out according to a storage allocation usage right s that can be set in advance for example during manufacturing of the storage device or mobile device or remotely for example by a network operator. Other aspects of the present invention include system and devices that use the storage allocation and control method.

User is a subscriber of MNO and MNO renders to user telecommunication and telecommunication related services through mobile phone . Publisher may retail to user one or more applications and application related data or information. After user and publisher reach an agreement to send to mobile phone one or more applications publisher publishes uploads to mobile phone these application s . Before publisher publishes an application to mobile phone publisher has to prepare the application for running on the mobile phone an exemplary host. The implications involved in such preparations are described below in connection with the figures discussed below.

To render a storage space to application in HCS publisher makes a deal with MNO shown at step Publisher makes a deal with the MNO . As part of the process involved in allocating the storage space to application publisher communicates to MNO a storage request to allocate a storage space in HCS to the application before or after publisher publishes application to mobile phone .

At step MNO assigns a unique identifier not shown in to the application and provides it to publisher shown at and to mobile phone shown at . Publisher utilizes the application s ID to license the storage licensed application that is to prepare the application for running on mobile phone as elaborated in connection with step discussed below. Mobile phone utilizes the application s ID to identify the application as a storage licensed application as elaborated in connection with step discussed below and to find and enforce on the storage access rule s associated with a storage allocation usage right s applicable to the application. Storage allocation usage rights are assigned per application which means that each application is assigned a unique storage allocation usage right.

At step MNO issues a storage allocation usage right for the application which is based on the storage allocation agreement. The storage allocation usage right may include attributes related to the required size of the storage space to be allocated to application and to access rules governing the application s access to storage space allocated in HCS to the application. The storage allocation usage right may include other alternative or additional types of storage related and or application related attributes. Application identifiers are exemplary application related attributes. Storage access rules are exemplary storage related attributes. Mobile phone includes a storage manager not shown in for enforcing a storage allocation usage right on an application. For the sake of brevity only one publisher shown as publisher is shown in . Mobile phone includes an application register not shown in for registering or storing access rules of storage allocation policies so that every time a storage licensed application issues a request to access HCS the storage manager will control the application s access to the storage space according to access rule s of a storage allocation usage right that is applicable to this application. The application register may also register or store unique application identifiers to enable retrieval of applicable stored access rules. The process involved in the identification of the applicable access rule s is discussed below.

It is noted that a storage space can be allocated to an application exclusively which means that no other application can access that storage space with the following exception. Under some circumstances which are to be specified in the involved storage allocation usage right a storage space can be used by the application so long as the application runs but another application can use that storage space at other times that is whenever the first application is terminated or at periods during which the first application idles. If several storage licensed applications require substantially the same storage space at substantially the same time a prioritization mechanism may be employed Such a mechanism may be specified in or provided by the involved storage allocation policies or it may be embodied as a background application running on the host or the involved storage manager may also be configured to manage that aspect.

At step MNO remotely releases the storage space allocated for application in HCS by sending the associated access rules of the storage allocation usage right to mobile phone and by causing the storage manager not shown in in mobile device to reserve the allocated storage space for the intended application. By releasing a storage space is meant herein excluding an allocated storage space from a public storage space. HCS may include a public storage space which may be used by non licensed or ordinary applications and released storage spaces which are storage spaces allocated to and intended to be used only by licensed applications that is by applications that were prepared by a publisher such as publisher for running on a host such as mobile phone .

Application is rendered an access to its allocated storage space every time application is required to read data from or to write data into the storage space. Depending on the involved storage allocation usage right the storage space allocated to application may be reserved for application at other times for example when application is inactive or when it idles.

MNO may communicate the storage allocation usage right associated with application only to mobile phone or to a plurality of mobile devices. For example MNO may communicate the storage allocation usage right associated with application to pre selected subscribers or to subscribers that meet a certain criterion. Such a criterion may be subscribers having mobile phones of the same type or the mobile phones including a certain type of application or the subscribers being associated with a specific group of subscribers. The basis for grouping subscribers may be geographic or a common field of interest. Other criteria may likewise be used.

Depending on the involved storage allocation usage right s the content of an allocated storage space may be discarded after the associated application is terminated and the storage space may be allocated to another application. In this respect it may be said that several applications or several publishers share a common storage space on a short term basis. However an allocated storage space may be reserved for an application and its content be retained between subsequent executions of the application and after the application is terminated. This way the storage space remains available to the licensed application substantially at any time. It may be said that under such circumstances a storage space is permanently reserved to the licensed application.

At step Publisher creates a storage licensed application publisher uses the application identifier provided by MNO at step to prepare the application for running on mobile phone . By licensing storage to an application or interchangeably by preparing an application for running on a host is meant herein appending such as by affiliating incorporating or embedding an application identifier to an application before the application is published sent to one or more hosts. The term storage licensed application references herein an application for which its publisher obtained from the MNO a license or usage right to reserve or to use a certain amount of reserved storage area in a mobile device. Such an application contains a unique identifier to associate it with one or more access rules. The one or more access rules can be agreed upon between the MNO and the application s publisher. Licensing storage to an application may include another step which is discussed below.

After publisher licenses at step the storage licensed application user purchases and downloads from publisher the storage licensed application into mobile phone at step . In application is a storage licensed application downloaded by user from publisher .

At step user launches an application and at step it is checked in mobile phone whether the launched application is a storage licensed application or not in order to determine whether or not a storage space has been allocated to the application in HCS . If the launched application is a licensed application shown as Yes at step this means that a storage space has been allocated to and is to be reserved for or used by the application. Regarding application which is said above to be a storage licensed application it can access the storage space allocated and reserved for it as shown at step in accordance with the access rules which have been specified in the involved storage allocation usage right as communicated to mobile phone by MNO at step .

If however it is decided at step that the launched application is unlicensed shown as No at step the unlicensed application will be able to utilize only the public storage space in HCS as shown at step . If the size of the available free public storage space in HCS is inadequate the unlicensed application may abort for lacking storage space or it may not be able to run at all.

Publisher may communicate to mobile phone applications and applications related data such as multimedia content by using direct communication path or via MNO by using indirect communication path . Publisher may however use both communication paths and to communicate applications and related data to mobile phone .

By setting and communicating access rules of storage allocation policies to mobile phones such as mobile phone MNO remotely controls the access of applications such as application to storage spaces in HCS . As implied above mobile devices utilize application identifiers IDs to check whether launched applications are storage licensed applications and to respectively associate storage licensed applications with access rules. By way of example two mechanisms for obtaining application identifiers in a mobile device are discussed below in connection with . In general one mechanism involves using storage access requests to transfer applications unique identifiers from launched or running applications to an APREC. The second mechanism involves using a fictive or dummy file which is referred to herein as the identifier transferring file or IDT file for short.

If the allocated storage space should be reserved for application which is shown as Yes at step the access rights of application to access the allocated storage space is reserved for application as shown at step Enable access . . . and the content of the allocated storage area is retained also shown at step . . . and retain storage content . If however the allocated storage space is not to be reserved anymore for application which is shown as No at step the content of the storage space is erased and the storage space is deallocated from application . A deallocated storage space may either be managed as part of the general or public storage space or it may be allocated to another application. An allocated storage space may first be deallocated from application and thereafter its content may be erased before or concurrently with its allocation to another application. Allocation and deallocation of a storage space and the circumstances under which the storage space is reserved and its content is retained or erased are part oft or they are defined in the storage allocation usage right associated with that application and optionally they may also be part of other storage allocation policies which are associated with other applications.

Attributes define which application or applications depending on the involved storage allocation policies can access a given storage space within controllable storage space and also the usage or access rules applicable to these applications. Attributes also may define the first address and size of the related storage space within storage space . Attributes may also include one or more application identifiers to which the identifier of a launched or running application is compared to enable the association of the application to its storage allocation usage right that is to the correct storage space within the controllable storage space and to the correct access rules. As storage allocation policies may occasionally be updated or new storage allocation policies may be added or currently used policies may be invalidated the number of allocated storage spaces and their bit wise size can change over time.

In general whenever an application needs to write data into or to read data from a storage space it issues a storage access request. According to one embodiment of the present invention each storage access request originating from an application includes an application s identifier field that holds the application identifier as provided by the MNO to the publisher of the application and the APREC obtains the application s identifier ID by reading the content of the identifier field of storage access requests. Storage access requests originating from unlicensed applications may also have an ID field but in this case the ID field may be empty or it may hold data that marks the application to APREC as an unlicensed application. Storage access requests are known in the field of computers as storage commands a storage related service supported by operating systems of computerized systems.

In reference to when a licensed application not shown in requests an access to the controllable storage space it issues a storage access request shown at which storage manager obtains through host interface . APREC a service routine of or associated with storage manager reads the content of the ID field in the storage access request to obtain the application s unique identifier that is if there is one. If APREC finds a unique identifier in the ID field then APREC searches in attributes not shown in which are associated with the currently stored storage allocation policies for a matching identifier. If APREC finds a matching identifier in attributes this means that the involved application is licensed and that one or more access rules of an associated storage allocation usage right have been stored for that application.

Then APREC utilizes the application s identifier to identify and to communicate to storage manager shown at the identified one or more access rules to show to storage manager how to control the access of the application to the allocated the intended storage space. In other words APREC communicates to storage manager one or more access rules that if used by storage manager govern the access of the application to its allocated storage space in storage space which may also be specified in the corresponding attribute group in attributes . Storage manager then controls the access of the application to a storage space allocated for it in controllable storage space for example storage space by applying or enforcing on the application the one or more access rules of the storage allocation usage right identified by APREC .

According to another embodiment of the present invention launched or running applications transfer their identifiers to APREC by using an identifier transfer IDT method as described in connection with and discussed below.

In general two phases are involved in the allocation of a storage space to an application within controllable storage space and in the usage of that storage space. Regarding licensed application the first phase generally includes remotely updating HCS via MNO interface of the storage allocation usage right applicable to application . The update data which includes one or more access rules and the identifier of application is forwarded by MNO of to application register through MNO interface for storage in HCS . The second phase generally involves employment of procedures during and responsive to the launching and execution of storage licensed application . These procedures are based at least partially on the associated storage allocation usage right s particulars stored in HCS . When application is launched and during its execution it utilizes the storage Application Programming Interface API tool of operating system OS to communicate a storage access request to storage manager via host interface . The term API references an inter application communication mechanism used by a computer system s operating system OS such as OS and more specifically the term API references commands that the OS of a computer system exchange with a computer program such as application . A request for accessing a storage space in storage space is an exemplary command.

In a similar way as described in connection with APREC obtains the identifier of application and searches symbolically shown at in the currently stored applications identifiers for a matching application identifier and returns to storage manager symbolically shown at one or more access rules of a storage allocation usage right that is associated with the involved application.

Based on the returned one or more access rules storage manager controls the access of application to and in general the usage of the storage space allocated to application in storage space . For simplicity APREC and storage manager are distinctly shown in . However like APREC and storage manager of APREC may be an integral part of storage manager .

It is noted that each time an application issues a storage access request the application inserts its unique identifier into the storage access request s ID field to thereby transfer its ID to the APREC. However conventional storage access requests do not have such a field. Therefore utilizing storage access requests to transfer applications identifiers to a storage manager requires modifications in the host s operating system. To eschew that limitation other methods which do not require such modifications may be used to transfer identifiers from licensed applications to a storage manager. A method that utilizes an identifier transferring IDT file to transfer identifiers from licensed applications to a storage manager is such a method.

According to an embodiment of the present invention an identifier transferring IDT file is manipulated by a licensed application such as application to transfer the application s identifier to the APREC. Manipulation of an IDT file includes using standard open read and write file commands. Using an IDT file enables using conventional operating systems as is that is without modifying or upgrading them. A host such as host may have an identifier transferring IDT file installed thereon as one of the system files or the involved network operator not shown in may download the identifier transferring file into the host prior to or along with the first storage allocation usage right it sends to HCS .

In this embodiment application utilizes the file related API service to manipulate the identifier transferring file to forward the identifier of application to APREC via host interface . In order to distinguish the identifier transferring file from other files the identifier transferring file may be assigned a special name or its name may include a special string of characters or a special prefix for example abc or ID transfer etc.

Regarding the method illustrated in if an IDT file is used to obtain application identifiers rig. and the description thereof should be modified as follows. Step MMNO provides an application identifier ID for the application should be modified to so as to include the provision of the IDT file s name to the application s publisher along with the application s identifier. Also step of Publisher creates a storage licensed application may be modified to include usage of a procedure in the application for manipulating the IDT file in the host. Preparing the application for running on a host includes appending such as by embedding incorporating or affiliating the application s unique ID to the application along with the identifier transferring file s name and optionally with a corresponding procedure to handle the IDT file at run time.

The procedure may include instructions for the application to open the IDT file and to write the application s ID into a known or dedicated memory area not shown in in controllable storage space and APREC may read the application s identifier from that memory area. Storage manager may allocate or dedicate an area in storage space for temporarily holding identifiers . . . An IDT file may remain open so long as the application which opened the IDT file runs or as specified in the storage allocation usage right applicable to the application. It is noted that an IDT file can be used by or it may be associated with or it may serve one publisher. An IDT file however may serve multiple applications and multiple application publishers provided that the IDT file is not manipulated by more than one application at a time to prevent interference between two or more applications running on the host. After obtaining the application s identifier APREC links symbolically shown at the application s identifier with the applicable allocation usage right i.e. access rule or access rules and notifies storage manager of the access rule s of the storage allocation usage right applicable to the application.

The identifier transferring file mechanism can be protected from malicious attacks by using known security mechanisms such as secure channel or electronic signatures. Secure channel a commonly used method in computer systems supports security registration and authentication services. In other words secure channel is a technique by which data can be transferred from one place or user to another with reduced risk of interception or tampering. The basic idea of the secure channel mechanism is that after executing a certain protocol both parties have the same key which is presumed to be unknown to anyone else which is later used for encrypting decrypting the data sent received over that channel.

Protecting the identifier transferring file mechanism with a security mechanism has several benefits. For example a storage licensed application such as licensed application and an APREC such as APREC can authenticate each other with a high level of trust. Also confidentiality of the data exchanged between storage licensed application and storage manager is maintained which means that the exchanged data is not accessible to other applications. Confidentiality of data exchanged between a storage licensed application and a storage manager is also maintained because storage licensed applications are registered with the associated application s publisher s identification details and spyware sniffing data tapping applications and the like which are not intended by nature to be noticed by hosts and by users will not be able to use false license. As stated above unlicensed applications regardless of whether they are malicious or unmalicious cannot access data contained in an allocated storage area so long as the storage area is reserved for one or more licensed applications. As stated herein if two or more licensed applications are permitted to share a common storage area the content of that storage area may be erased before the storage area is rendered to another licensed application.

Whenever application requests an access to storage space it forwards its application s identifier ID to APREC through host interface . Application may transfer its identifier ID to APREC by using storage access requests or by manipulating an identifier transferring IDT file as discussed above or by using a different mechanism. Based on the application s unique ID forwarded to it by application APREC searches in identifiers stored by application register for a matching identifier and upon finding a matching identifier forwards to storage manager one or more access rules of a storage allocation usage right that is associated with the application. That is APREC notifies storage manager of access rule s according to which storage manager should control the access of application to its allocated storage space within storage space .

In the embodiment shown in the storage manager has direct access to the APREC and as proclaimed before in connection with that embodiment the APREC can be an integral part of the storage manager. However in the embodiment shown in storage manager cannot not directly access APREC . In part this is due to the fact that APREC and storage manager reside in disparate platforms. More specifically this is because practically it is preferred that storage manager resides in the same device as the storage space to facilitate the control of storage manager over access of applications to storage space . Accordingly storage manager resides in one platform that is in memory card in direct connection with storage space . Likewise SIM card is directly controlled by a network operator not shown in for which reason the network operator can communicate storage allocation policies to SIM card where they are stored by application register but not to memory card .

Consequently storage manager and APREC cannot communicate directly and storage access mediator bridges that gap with the logical bridge shown at . Storage access mediator enables interoperability and messaging between the two disparate platforms. Practically storage manager and storage access mediator communicate through interface and storage access mediator and APREC communicate through host interface . After storage manager obtains through storage access mediator the usage and access rules relating to application storage manager enables application to access its allocated storage area not shown in in storage space in accordance with these rules. In one embodiment first memory device and second memory device are the same device or they reside on a common platform as exemplified in in which the same device or the common platform is HCS .

The storage space regardless of whether it is a memory card HCS or another type card may be owned by or belong to a network operator or to an application publisher. The network operator and publisher may be the same entity.

It may be predetermined that a trailing group of characters following a leading group of characters in the IDT file s name is the application s identifier. In the example shown in the predetermined leading group of characters is abc shown for example at . Regarding Application the trailing group of characters 1100 shown at is the identifier of Application . Likewise the trailing group of characters 1350 shown at is the identifier of Application 2 and the trailing group of characters 5096 shown at is the identifier of Application . 

Whenever Application for example requests an access to a storage space it forwards symbolically shown at its identifier to APREC in the following way. Application issues an open file command to open IDT file by using the IDT file name abc1100.xyz shown at as appended to the application by the application s publisher. As part of its job as a mediator between applications and storage spaces the storage manager associated with APREC monitors file commands originating from applications. This way APREC reads symbolically shown at the name of IDT file every time Application opens IDT file or if the file is already open it reads or extracts the application s identifier portion from the IDT file s name.

The leading group of characters abc shown for example at which is commonly used by Application to Application n may indicate to APREC that the trailing group of characters 1100 shown at is the identifier of Application the trailing group of characters 1350 is the identifier of Application and so on.

Whenever one of Application to Application n requests an access to a storage space not shown in the application opens IDT file by using the IDT file s name name shown at and requests the storage manager associated with APREC to write its identifier into storage . According to one aspect of this embodiment storage is fictive and whenever the storage manager associated with APREC is asked to write data into storage APREC interprets that data as an application identifier. According to another aspect of this embodiment storage actually exists and every time the storage manager associated with APREC is asked to write data into storage APREC interprets that data as an application identifier.

If an IDT file is to be exclusively used by an application as illustrated in the IDT file s name may be solely transmitted from the network operator to the application s publisher and to the involved mobile device s or in addition to an explicit application identifier. If however an IDT file is commonly used by several applications both the IDT file s name and the application s identifier are communicated to the application publisher and to the involved mobile device.

The present invention may of course be carried out in different ways than those herein set forth without departing from the spirit and characteristics of the invention. The embodiments shown and described herein are therefore to be considered in all respects as illustrative and not restrictive and all changes coming within the meaning and equivalency range of the appended claims are intended to be embraced therein.

