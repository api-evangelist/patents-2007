---

title: Fast acquisition of a pilot signal in a wireless communication device
abstract: In a remote unit of a wireless communication system, the speed of acquisition, or reacquisition, of a pilot signal by a search engine is increased. PN space is divided into segments and a coarse search of each segment is performed using a set of “fast” search parameters. A set of peak signal strengths, along with their corresponding PN offsets, is saved for each segment of PN space. Following the search of all segments of PN space, the peak signal strengths which were saved during the coarse acquisition are evaluated. Coarse acquisition search results are used by the remote unit to determine fine search window parameters for subsequent searches performed by the remote unit search engine. The fine search parameters concentrate searching efforts on portions of PN space most likely to contain a viable base station pilot signal.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=07684470&OS=07684470&RS=07684470
owner: QUALCOMM Incorporated
number: 07684470
owner_city: San Diego
owner_country: US
publication_date: 20070529
---
The present Application for Patent is a Continuation of patent application No. 09 540 128 entitled FAST ACQUISITION OF A PILOT SIGNAL IN A WIRELESS COMMUNICATION DEVICE filed Mar. 31 2000 pending and assigned to the assignee hereof and hereby expressly incorporated by reference herein in its entirety.

The invention relates to wireless communications systems. In particular the invention relates to acquisition of a pilot signal in a wireless communication system.

A wireless communication system may comprise multiple remote units and multiple base stations. exemplifies an embodiment of a terrestrial wireless communication system with three remote units A B and C and two base stations . In the three remote units are shown as a mobile telephone unit installed in a car A a portable computer remote B and a fixed location unit C such as might be found in a wireless local loop or meter reading system. Remote units may be any type of communication unit such as for example hand held personal communication system units portable data units such as a personal data assistant or fixed location data units such as meter reading equipment. shows a forward link from the base station to the remote units and a reverse link from the remote units to the base stations .

Communication between remote units and base stations over the wireless channel can be accomplished using one of a variety of multiple access techniques which facilitate a large number of users in a limited frequency spectrum. These multiple access techniques include time division multiple access TDMA frequency division multiple access FDMA and code division multiple access CDMA . An industry standard for CDMA is set forth in the TIA EIA Interim Standard entitled Mobile Station Base Station Compatibility Standard for Dual Mode Wideband Spread Spectrum Cellular System TIA EIA IS 95 and its progeny collectively referred to here as IS 95 the contents of which are incorporated by reference herein in their entirety. Additional information concerning a CDMA communication system is disclosed in U.S. Pat. No. 4 901 307 entitled SPREAD SPECTRUM MULTIPLE ACCESS COMMUNICATION SYSTEM USING SATELLITE OR TERRESTRIAL REPEATERS the 307 patent assigned to the assignee of the present invention and incorporated in its entirety herein by reference.

In the 307 patent a multiple access technique is disclosed where a large number of mobile telephone system users each having a transceiver communicate through base stations using CDMA spread spectrum communication signals. The CDMA modulation techniques disclosed in the 307 patent offer many advantages over other modulation techniques used in wireless communication systems such as TDMA and FDMA. For example CDMA permits the frequency spectrum to be reused multiple times thereby permitting an increase in system user capacity. Additionally use of CDMA techniques permits the special problems of the terrestrial channel to be overcome by mitigation of the adverse effects of multipath e.g. fading while also exploiting the advantages thereof.

In a wireless communication system a signal may travel several distinct propagation paths as it propagates between base stations and remote units. The multipath signal generated by the characteristics of the wireless channel presents a challenge to the communication system. One characteristic of a multipath channel is the time spread introduced in a signal that is transmitted through the channel. For example if an ideal impulse is transmitted over a multipath channel the received signal appears as a stream of pulses. Another characteristic of the multipath channel is that each path through the channel may cause a different attenuation factor. For example if an ideal impulse is transmitted over a multipath channel each pulse of the received stream of pulses generally has a different signal strength than other received pulses. Yet another characteristic of the multipath channel is that each path through the channel may cause a different phase on the signal. For example if an ideal impulse is transmitted over a multipath channel each pulse of the received stream of pulses generally has a different phase than other received pulses.

In the wireless channel the multipath is created by reflection of the signal from obstacles in the environment such as for example buildings trees cars and people. Accordingly the wireless channel is generally a time varying multipath channel due to the relative motion of the structures that create the multipath. For example if an ideal impulse is transmitted over the time varying multipath channel the received stream of pulses changes in time delay attenuation and phase as a function of the time that the ideal impulse is transmitted.

The multipath characteristics of a channel can affect the signal received by the remote unit and result in among other things fading of the signal. Fading is the result of the phasing characteristics of the multipath channel. A fade occurs when multipath vectors add destructively yielding a received signal that is smaller in amplitude than either individual vector. For example if a sine wave is transmitted through a multipath channel having two paths where the first path has an attenuation factor of X dB a time delay of with a phase shift of radians and the second path has an attenuation factor of X dB a time delay of with a phase shift of radians no signal is received at the output of the channel because the two signals being equal amplitude and opposite phase cancel each other. Thus fading may have a severe negative effect on the performance of a wireless communication system.

A CDMA communication system is optimized for operation in a multipath environment. For example the forward link and reverse link signals are modulated with a high frequency pseudonoise PN sequence. The PN modulation allows the many different multipath instances of the same signal to be separately received through the use of a rake receiver design. In a rake receiver each element within a set of demodulation elements can be assigned to an individual multipath instance of a signal. The demodulated outputs of the demodulation elements are then combined to generate a combined signal. Thus all of the multipath signal instances must fade together before the combined signal experiences a deep fade.

In a communication system based on the industry standard for CDMA IS 95 each of the multiple base stations transmits a pilot signal having a common PN sequence. Each base station transmits the pilot signal offset in time from neighboring base stations so that the signals can be distinguished from one another at the remote unit. At any given time the remote unit may receive a variety of pilot signals from multiple base stations. Using a copy of the PN sequence produced by a local PN generator the entire PN space can be searched by the remote unit. Using the search results the controller distinguishes pilot signals from multiple base stations based on the time offset.

In the remote unit a controller is used to assign demodulation elements to the available multipath signal instances. A search engine is used to provide data to the controller concerning the multipath components of the received signal. The search engine measures the arrival time and amplitude of the multipath components of a pilot signal transmitted by the base stations. The effect of the multipath environment on the pilot signal and the data signal transmitted by a common base station is very similar because the signals travel through the same channel at the same time. Therefore determining the multipath environment s effect on the pilot signal allows the controller to assign demodulation elements to the data channel multipath signal instances.

The search engine determines the multipath components of the pilot signals of base stations in the proximity of the remote unit by searching through a sequence of potential PN offsets and measuring the energy of the pilot signal received at each of the potential PN offsets. The controller evaluates the energy associated with a potential offset and if it exceeds a threshold assigns a signal demodulation element to that offset. A method and apparatus of demodulation element assignment based on searcher energy levels is disclosed in U.S. Pat. No. 5 490 165 entitled DEMODULATION ELEMENT ASSIGNMENT IN A SYSTEM CAPABLE OF RECEIVING MULTIPLE SIGNALS the 165 patent assigned to the assignee of the present invention.

Note as shown in each of the multipath peaks varies in amplitude as a function of time as shown by the uneven ridge of each multipath peak. In the limited time shown there are no major changes in the multipath peaks. Over a more extended time range multipath peaks disappear and new paths are created as time progresses. Multipath peaks are likely to merge together or blur into a wide peak over time.

Typically the operation of the search engine is overseen by a controller. The controller commands the search engine to step through a set of offsets called a search window that is likely to contain one or more multipath signal peaks suitable for assignment to a demodulation element. For each offset the search engine reports the energy it found offset back to the controller. Demodulation elements may then be assigned by the controller to the paths identified by the search engine i.e. the timing reference of their PN generators is aligned with the timing of the identified path . Once a demodulation element has locked onto the signal it then tracks that path on its own without controller supervision until the path fades away or until the demodulation element is assigned to another path by the controller.

As noted above each base station in a given geographical area is assigned a sequence offset of a common PN pilot sequence. For example according to IS 95 a PN sequence having 215 chips and repeating every 26.66 milliseconds ms is transmitted by each base station in the system at one of 512 PN sequence offsets as a pilot signal. According to IS 95 operation the base stations continually transmit the pilot signal which can be used by the remote unit to identify the base station as well as other functions such as for example determining the multipath environment the remote unit is operating in and synchronization of remote unit timing to the base station timing.

During initial power on or any other situation when the remote unit has lost a pilot signal such as when performing a hard hand off to a different operating frequency the remote unit evaluates all possible PN offsets of the pilot PN sequence. Typically a search engine measures the pilot signal strength at all possible PN offsets proceeding at a measurement rate that produces an accurate measure of the pilot signal present at the corresponding offset. Proceeding in this manner the search engine determines the PN offset of base stations which are geographically near the remote unit. Searching each PN offset in this manner can take anywhere from hundreds of milliseconds to a few seconds depending on the channel conditions during acquisition. This amount of time for the remote unit to reacquire a pilot signal is detrimental to the remote unit operation and may be annoying to the user of the remote unit.

One purpose of the search engine as described above is to aid in maintaining the wireless link between the remote unit and a base station. Because the wireless channel is constantly changing multi path searching must be performed on a virtually continuous basis otherwise the wireless link may be lost due to for example fading. If the wireless link is lost communications between the remote unit and the base station are terminated and the remote unit performs a search of the entire PN space to reacquire an appropriate base station. Searching the entire PN space consumes an excessive amount of time.

Therefore there is a need in the art for a method of and apparatus to minimize the amount of time required for a remote unit in a wireless communication system to acquire or reacquire a pilot signal.

The invention increases the speed of acquisition or reacquisition of a pilot signal in a wireless communication system. The wireless communication system comprises a plurality of base stations each configured to transmit a PN encoded pilot signal at a different time offset than the other base stations. In addition there is at least one remote unit that is configured to perform a search of the PN space.

In one embodiment PN space is divided into segments. During a fast acquisition of a pilot signal each of the segments of PN space is searched with coarse fast search engine parameters adjusted to increase the search rate. A set of peak signal strengths along with their corresponding PN offsets are saved for each segment of PN space. Following the search of segments of PN space the peak signal strengths which were saved during the coarse acquisition are evaluated. The results of the coarse search are used to select fine search parameters for use in a second search of selected portions of the PN space. The fine search parameters concentrate searching efforts on portions of PN space most likely to contain a viable base station pilot signal such as for example portions of the PN space with the highest measured signal strength during the coarse search.

Coarse search parameters may comprise a number of non coherent passes that is less than the number of passes in the set of fine search parameters. In addition the coarse search parameters may comprise an integration interval that is less than that in the set of fine search parameters.

Use of coarse search parameters by the remote unit can reduce the duration of the coarse search. In contrast use of fine search parameters produces more accurate and reliable results. However fine search parameters result in a longer search period for a given portion of PN space than coarse search parameters. Therefore using coarse search parameters to search the PN space and then concentrating on selected portions of the PN space using fine search parameters results in a shorter overall search duration while still achieving satisfactory search results.

In many wireless communication systems such as for example IS 95 CDMA systems a pilot signal is used to coordinate communication between a base station and a remote unit. The pilot signal is used for example to determine the multipath environment the remote unit is operating in to synchronize timing between the base station and remote unit and to monitor the signal strength from multiple base stations. According to IS 95 each base station transmits a pilot signal encoded with a common PN sequence and a unique offset. The common PN sequence is 215 chips 32 768 chips in length. The set of all possible PN offsets make up the PN space.

In the embodiment of the RF receiver receives a transmission on the input port from a base station not shown . The output of the RF receiver is passed via the output port to the search engine and the demodulator respectively. The operations of the search engine and demodulator are controlled by the controller . In particular controller passes search parameters via output port to input port of the search engine . In addition controller passes control parameters via output port to demodulator input port for assignment of demodulator elements within the demodulator in the manner disclosed in the 165 patent. The controller may be a microprocessor application specific integrated circuit ASIC discrete logic an analog controller or other control circuitry. The search engine searches PN space according to the search parameters and places the search results in memory . The controller evaluates the search results stored in memory for assignment of elements of the demodulator and for determination of future search parameters.

When the remote unit is initially powered on the controller creates a set of fast search parameters. The search parameters comprise a search window an integration interval and a number of non coherent passes as described in U.S. patent application Ser. No. 09 346 369 entitled DYNAMIC ALLOCATION OF MICROPROCESSOR RESOURCES IN A WIRELESS COMMUNICATION DEVICE the 369 application filed Jul. 1 1999 now U.S. Pat. No. 6 718 170 issued Apr. 6 2004 assigned to the assignee of the present invention and incorporated in its entirety herein by reference. The values of these parameters can affect the duration of a search.

In one embodiment of the invention the controller divides PN space into segments. A segment of PN space is a set of PN offsets. After dividing the entire PN space into segments each segment is searched using coarse search parameters. PN offsets corresponding to portions of segments which have sufficient pilot signal strength are stored for evaluation and possible further searching. Using coarse search parameters decreases the time required to perform a search allowing the entire PN space to be searched quickly identifying PN offsets of viable pilot signals. Following coarse searching the PN offsets containing viable pilot signals are searched using fine search parameters. PN space may be divided into any desired number of segments such as for example 8 segments. In addition the segments may be of equal or unequal size.

In one embodiment of the invention the controller transfers the coarse search parameters to the search engine for each segment sequentially. The search engine then performs a search of a PN segment and analyzes the results. If the signal strength at a PN offset exceeds a threshold the measured signal strength value and corresponding PN offset are stored in memory for later evaluation by the controller . In one embodiment of the invention the threshold is a set value resulting in a variable number of PN offsets being stored by the search engine for later evaluation. In another embodiment the threshold is adjusted during the search process resulting in a fixed number of values being stored such as for example the four strongest signal levels discovered in a PN segment. After the entire PN space has been searched the controller evaluates the search results stored in memory . Evaluation of the search results determines which portions of the PN space have the highest probability of containing a viable pilot signal such as for example those portions of the PN space with the highest measured signal level. The controller then adjusts the search parameters such as for example selecting search windows corresponding to the portions of the PN space identified above.

Continuing to increase PN offset continues rotation around the circle as described above. In one embodiment as the search engine scans the segments of PN space a set of maximum signal levels and the corresponding PN offsets are recorded. The number of values stored can be of any desired size such as for example four values per segment.

During the search the search engine uses a set of coarse search parameters passed to the search engine by the controller . The coarse search parameters are selected to achieve a desired search duration for a given segment of PN space. Search parameters may be selected in accordance with the invention described in the above referenced 369 application. For example the number of non coherent passes may be set to 1 and the integration interval may be set to 0.1 msec. As the search engine steps through the PN segment using the coarse search parameters at each offset the signal level of the pilot signal is measured. In one embodiment where the threshold is adjusted the four strongest signal levels of a PN segment are recorded. As shown in in the first segment the four strongest signal levels are represented by points and . The search engine records the signal level and PN offset for each point and . This set of values is passed to memory for later evaluation by the controller .

The search engine then scans the second segment PN offset from 4096 to 8191 by increasing the PN offset and stepping through the PN segment. At each offset the signal level of the pilot signal is measured. In the second segment the four strongest signal levels are represented by points and . The search engine records the pilot signal level and PN offset for each point and . The search engine repeats this process for the remaining segments until the entire PN space has been scanned.

Decreasing the search duration may result in a decrease in the accuracy of the measurement of the pilot signal by the search engine. Search parameters selected by the controller for use by the search engine are based on a tradeoff between search accuracy and search speed. Therefore different coarse search parameters may be selected depending on for example the multipath environment the remote unit is operating in.

As discussed above in a set of coarse search parameters the number of non coherent passes and the integration interval are typically decreased in order to decrease the amount of time required to complete a search. Because the search parameters are selected to decrease the search duration the search engine may occasionally miss a multipath signal peak due to for example a local fade as exemplified in . Thus for example if the search engine only takes one non coherent pass of the PN space and the integration period is set to 0.1 msec an ill timed local fade as shown in can result in obtaining an inaccurate measure of the average pilot signal level at that offset. In some situations for example if all the multipath instances of a pilot signal fade at the same time a viable pilot signal may not be detected by the coarse search. However in a typical situation not all multipath instances will fade together. Therefore some multipath instances of all viable pilot signals should be identified for subsequent searching using fine search parameters.

In one embodiment following completion of searching all segments memory has stored a set of peak signal levels comprising four peaks in each of the eight segments and the corresponding PN offsets. The controller evaluates the set of peak entries to determine the most likely location of pilot signals in the PN space. For example the controller may determine that the PN offset between peaks and is small enough and the signal strength is strong enough that these peaks are two instances of the same pilot signal that have undergone different delays due to the multipath environment. For example in one embodiment the controller may only evaluate peaks which exceed 15 dB signal strength. In another embodiment the controller may evaluate a set number of peaks for example the 32 strongest peaks found during searches.

In yet another embodiment the controller selects a fine search to include the entire region of possible reception offsets corresponding to a base station which would produce a peak at an offset found during the coarse search. For example if a coarse peak is discovered which has an offset corresponding to a particular base station a fine search is conducted over the entire range of PN offsets over which it is likely to detect that particular base station signal.

Evaluating the data from segments one and two in it can be determined that all four points in segment one and points and in segment two are relatively low signal levels compared to points and in segment two. Thus the controller may determine that there is a higher probability that a pilot signal is present in segment two at the PN offset corresponding to points and than at other locations in segments one and two. Although one of the multipath signal peaks of group was missed during the fast search two of the remaining peaks and were detected. Thus unless all the multipath signals of a base station are at a low power level simultaneously such as for example due to fading the likelihood is that at least one of the multipath components of the pilot signal will be detected.

After determining the portions of PN space with a higher probability of containing a viable pilot signal the controller selects search windows where fine searching will be performed. In one embodiment the controller may select a search window for performing a fine search centered about the PN offset of peak wide enough to encompass peak . In another embodiment the controller may select a search window that begins chips before the PN offset for peak and includes increasing PN offsets of chips.

Evaluation by the controller is performed on the data from all eight segments. Following evaluation of the search results the controller is able to select search windows as described above. In addition because the pilot signal power level has been measured other search parameters such as for example integration interval and number of noncoherent passes may be sent to the search engine in accordance with the invention described in the above referenced 369 application.

In accordance with the 369 application the controller selects search parameters for the search engine to use in a fine search. In one embodiment the fine search may be focused on the portions of PN space identified during evaluation of the coarse search results as having a high probability of containing a pilot signal. In another embodiment the portions of PN space which are searched using the fine search parameters are identified by a preferred base station and communicated to the remote unit.

As described above the controller may select a search window based upon the region of the PN space identified during the coarse search as having the highest probability of containing a pilot signal. The controller may also select a number of non coherent passes and an integration interval based in part on the power level of the pilot signal measured during the coarse search and the number of portions of PN space that are to be searched. For example the controller may select an integration interval in the range of 0.1 msec and 2 non coherent passes if the pilot signal power level was measured at 13 dB during the coarse search. In another example if the pilot signal power level was measured at 15 dB during the coarse search the controller may select an integration interval of 0.06 msec and 8 non coherent passes. Further details on selecting search parameters may be found in the above identified 369 application.

In block it is determined if the entire PN space has been searched. If the entire PN space has not been searched flow continues to block and search parameters for the next PN segment are downloaded to the search engine . If in block it is determined that the entire PN space has been searched flow continues to block . In block the controller evaluates the search results transferred from the search engine to memory during search of the PN space. Following evaluation flow continues to block where the results from the evaluation of the coarse scan results are used by the controller and in accordance with the above referenced 369 application the controller then selects appropriate parameters for use by the search engine during fine search operations.

More information concerning the searching process demodulating element assignment and search engines can be found in 

 1 U.S. Pat. No. 5 644 591 entitled METHOD AND APPARATUS FOR PERFORMING SEARCH ACQUISITION IN A CDMA COMMUNICATIONS SYSTEM 

 2 U.S. Pat. No. 5 805 648 entitled METHOD AND APPARATUS FOR PERFORMING SEARCH ACQUISITION IN A CDMA COMMUNICATIONS SYSTEM 

 4 U.S. Pat. No. 5 764 687 entitled MOBILE DEMODULATOR ARCHITECTURE FOR A SPREAD SPECTRUM MULTIPLE ACCESS COMMUNICATION SYSTEM 

 5 U.S. Pat. No. 5 577 022 entitled PILOT SIGNAL SEARCHING TECHNIQUE FOR A CELLULAR COMMUNICATIONS SYSTEM 

 6 U.S. Pat. No. 5 577 022 entitled CELL SITE DEMODULATION ARCHITECTURE FOR A SPREAD SPECTRUM MULTIPLE ACCESS COMMUNICATION SYSTEMS 

each of which is assigned to the assignee hereof and incorporated herein by reference in its entirety.

Thus the invention overcomes the longstanding problems in the art of quickly acquiring an appropriate base station if the wireless link is lost by performing a coarse fast search of the entire PN space and then concentrating searches on selected portions of PN space having a higher probability of containing a viable pilot signal.

The foregoing description details certain embodiments of the invention. It will be appreciated however that no matter how detailed the foregoing appears the invention may be embodied in other specific forms without departing from its spirit or essential characteristics. The described embodiment is to be considered in all respects only as illustrative and not restrictive and the scope of the invention is therefore indicated by the appended claims rather than by the foregoing description. All changes which come within the meaning and range of equivalency of the claims are to be embraced within their scope.

