---

title: Generating servo control pulses at a receiver
abstract: Systems and methods are provided for controlling one or more servos coupled to a model vehicle. An input signal having a series of input pulses encoded at an input pulse repetition frequency is received at a receiver coupled to a model vehicle having one or more servos. The input signal is decoded at the receiver. A servo control pulse is generated using at least one of the input pulses at the receiver. The servo control pulse is outputted to at least one of the servos at an output pulse repetition frequency that is different from the input pulse repetition frequency.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08049601&OS=08049601&RS=08049601
owner: Castle Creations, Inc.
number: 08049601
owner_city: Olathe
owner_country: US
publication_date: 20070427
---
In general receivers mounted on model vehicles in the hobby market are simple analog devices. Typically the receivers receive a series of modulated analog input pulses from a transmitter. This transmission may be made in a number of formats. One format known in the art is to encode the analog input pulses as a series of modulated pulses bearing an analog pulse width on a number of adjacent channels. Another format known in the art is to encode the analog input pulses as a Pulse Code Modulated encoding of the information at a frame frequency. Another format known in the art is to encode the analog input pulses as a spread spectrum signal encoding the information at a frame frequency. Average frame frequency represents an average number of frames that are repeated in one second. Once the encoded input pulses are received at a receiver they are split into servo control pulses and the servo control pulses are output to servos that are coupled to a model vehicle. Consequently the average frame frequency of the input pulses is mirrored in the repetition frequency of the output servo control pulses. More sophisticated receivers may include additional capacity to filter the input pulses using a microprocessor and or to provide a fail safe feature e.g. outputting predetermined servo control pulses in the event the input pulses are unrecognizable . However the average frame frequency of the input pulses is still mirrored in the repetition frequency of the output servo control pulses.

Typically the average frame frequency is 50 Hz however some low channel count transmitters may transmit the input pulses at a higher repetition frequency but the higher average frame frequency is still mirrored in the pulse repetition frequency of the output servo control pulses.

The present invention is defined by the claims below not this summary. Embodiments of the present invention provide a system method and product for among other things generating servo control pulses at a programmable output pulse repetition frequency that is different from an average input frame frequency. The present invention provides several practical advantages including improved servo response time to the servo control pulses and increased output torque that result when the output pulse repetition frequency is increased.

In a first aspect an exemplary embodiment of the present invention relates to a method for controlling one or more servos coupled to a model vehicle. A receiver coupled to a model vehicle having one or more servos receives an input signal having a series of input pulses encoded at a first average frame frequency. The receiver decodes the input signal. The receiver generates a servo control pulse using at least one of the input pulses. The servo control pulse is outputted to at least one of the servos at a second pulse repetition frequency.

In another aspect an exemplary embodiment of the present invention relates to a receiver for generating servo control pulses for a model vehicle having one or more servos at a programmable output pulse repetition frequency that is different from an average input frame frequency. The receiver includes a communication module and a processing module. The communication module is configured to receive an input signal having a series of input pulses encoded at an average input frame frequency. The processing module is configured to output a servo control pulse generated using at least one of the input pulses to at least one of the servos at the programmed output pulse repetition frequency.

In yet another aspect an exemplary embodiment of the present invention relates to a system for controlling one or more servos coupled to a model vehicle. The system includes a model vehicle a transmitter and a receiver. The model vehicle has one or more servos coupled thereto. The transmitter is configured to transmit a signal encoded with a series of control input pulses at an average input frame frequency. The receiver is mounted on the model vehicle and is configured to output a servo control pulse as a function of at least one of the control input pulses to at least one of the servos at an output pulse repetition frequency wherein the receiver is further configured to receive the signal.

Embodiments of the present invention provide systems and methods for generating servo control pulses at a programmable pulse repetition frequency that is different from an average input frame frequency.

While the type of vehicle described in detail herein is a model vehicle one skilled in the art will appreciate that the present invention may be implemented with other types of remotely controllable vehicles. Likewise one skilled in the art will appreciate that while a general purpose computer e.g. personal computer is described herein as an example for programming an output pulse repetition frequency the present invention may be implemented with other types of computing devices.

Throughout the description of the present invention several acronyms and shorthand notations are used to aid the understanding of certain concepts pertaining to the associated system and services. These acronyms and shorthand notations are solely intended for the purpose of providing an easy methodology of communicating the ideas expressed herein and are in no way meant to limit the scope of the present invention. The following is a list of these acronyms 

As one skilled in the art will appreciate embodiments of the present invention may be embodied as among other things a method system or computer readable medium. Accordingly the embodiments may take the form of a hardware embodiment a software embodiment or an embodiment combining software and hardware. In one embodiment the present invention takes the form of one or more computer readable media that include computer useable instructions embodied thereon.

Computer readable media include both volatile and nonvolatile media removable and nonremovable media and also include media readable by a database a computer and various other computing devices. By way of example and not limitation computer readable media comprise computer storage media and communications media.

Computer storage media or machine readable media include media implemented in any method or technology for storing information. Examples of stored information include computer useable instructions data structures program modules and other data representations. Computer storage media include but are not limited to RAM ROM EEPROM flash memory or other memory technology CD ROM digital versatile discs DVD holographic media or other optical disc storage magnetic cassettes magnetic tape magnetic disk storage and other magnetic storage devices. These memory components can store data momentarily temporarily or permanently.

Communications media typically store computer useable instructions including data structures and program modules in a modulated data signal. The term modulated data signal refers to a propagated signal that has one or more of its characteristics set or changed to encode information in the signal. An exemplary modulated data signal includes a carrier wave or other transport mechanism. Communications media include any information delivery media. By way of example but not limitation communications media include wired media such as a wired network or direct wired connection and wireless media such as acoustic infrared radio microwave spread spectrum and other wireless media technologies. Combinations of the above are included within the scope of computer readable media.

The subject matter of the present invention is described with specificity herein to meet statutory requirements. However the description itself is not intended to limit the scope of this patent. Rather the inventors have contemplated that the claimed subject matter might also be embodied in other ways to include steps or combinations of steps similar to the ones described in this document in conjunction with other present or future technologies. Moreover although the terms step and or block may be used herein to connote different elements of methods employed the terms should not be interpreted as implying any particular order among or between various steps herein disclosed.

Turning now to an exemplary system environment suitable for use in implementing embodiments of the present invention is provided and referenced generally by the numeral . As with all of the figures herein is illustrative in nature and should not be construed as limiting the present invention. It should be understood that this and other arrangements described herein are set forth only as examples. Other arrangements and elements e.g. machines interfaces functions orders and groupings of functions etc. can be used in addition to or instead of those shown and some elements may be omitted altogether. Further many of the elements described herein are functional entities that may be implemented with other components and in any suitable combination and location. Various functions described herein as being performed by one or more entities may be carried out by hardware firmware and or software. For instance some functions may be carried out by a processor executing instructions stored in memory.

As shown in system environment may include among other components a transmitter a set of control components on the transmitter A B C a model vehicle a receiver a control module a set of servos communication ports A B a computing device a display component an input control component and software application .

The transmitter may be any of a wide variety of digital or analog transmitters and more specifically radio control transmitters that are known in the art. For example the transmitter may be a simple inexpensive transmitter or it may be a more sophisticated transmitter having multiple vehicle memories. The transmitter typically has a power source that provides power for transmission of signals. The transmitter may also support a varying number of channels for transmitting control input pulses.

The transmitter typically has a set of control elements comprising one or more of a control stick A a trigger a switch B and a dial knob C. In general the transmitter generates control input pulses based on the control elements A B C modulates the control input pulses and transmits a signal encoded with the control input pulses to the receiver . The transmitter may use any of the modulation techniques known in the art. Typically however either pulse code modulation PCM or pulse period modulation PPM is employed for radio controlled model vehicles.

The model vehicle may be any model vehicle having the receiver and the servos . Although remote controlled model vehicles are used to illustrate an exemplary system environment and methods the model vehicle may be any vehicle that is equipped to receive control input pulse and operates in accordance with the control input pulses. The model vehicle may be a car a truck a helicopter a sailboat a motor boat a ship an airplane a robot a submarine etc.

The receiver may be any of a wide variety of digital or analog receivers and more specifically radio control receivers that are known in the art. The receiver is typically mounted on the model vehicle . In general the receiver receives a signal encoded with control input pulses from the transmitter demodulates the signal to recover the control input pulses maps the control input pulses to a vehicle specific set of servo control pulses and communicates the vehicle specific servo control pulses to the servos . The receiver may use any of the demodulation techniques known in the art.

The receiver may include the communication port A that can be used to connect to the computing device . The receiver may also have a set of servo control signal output ports connected to the servos . The receiver may also include the control module . In general the control module is communicatively coupled to the receiver. Alternatively the control module may be integrated with the receiver .

In one embodiment the control module receives control inputs from the receiver and maps the control inputs to a set of servo control signals. The control module may output the servo control signals directly to the servos . It may also pass the servo control signals to the receiver for transmission thereof to the servos . In some embodiments the control module may have a communication port such as the communication port A to communicate with the computing device . In some other embodiments the receiver may have the communication port and the control module may communicate with the computing device through the communication port A on the receiver . The control module may also send the control inputs to the computing device through the communication port A.

The control module may comprise a special circuitry running a specially designed firmware. It may comprise a general signal processing circuitry running a proprietary software module. It may also comprise a software module designed to perform a set of complex mathematical operations on data passed from the receiver .

Typically the servos are electric motors that use electrical energy to create mechanical force. In general the servos provide angular output although linear output is not uncommon. For example the servos may be connected to a reduction gearbox to drive various mechanical parts. The servos are driven until a position and or speed commanded by one or more servo control pulses generated at the receiver or the control module are attained. Even though only two servos i.e. the servos are shown in any number of servos may be coupled to the model vehicle . For example a sophisticated model vehicle may have many tens of servos and a less sophisticated model vehicle may only have one or two servos.

Applications for the servos abound. By way of example and not limitation the servos may be used to control main rotor cyclic controls pitch and roll and tail rotor yaw of model helicopters. The servos may be used to control ailerons elevators main propeller rudder landing gears and flaps of model airplanes. The servos may be used to control motor speed and steering gear or rudder of a land vehicle or a boat respectively.

Typically the communication ports A B are universal serial bus USB ports. However they may also be serial ports parallel ports IEEE 1394 ports and the like. In general the communication ports A B are located on the receiver and the computing device respectively. Alternatively however the communication port A may be located on the control module .

Typically the computing device is a general purpose computer e.g. personal computer running a common operating system e.g. Microsoft Windows Mac OS or a Linux operating system that provides a graphical user interface and a network interface e.g. TCP IP interface for communication through a network e.g. the Internet . The computing device may run the software application through which a user can program an output pulse repetition frequency at the receiver or the control module . In general no distinction is made herein between such categories as workstation server or laptop. 

The computing device may be however other types of computing devices that can communicate with the receiver or the control module . Such other types of computing devices may be a PDA a Smart Phone a Blackberry a mobile phone and any other device that may include a bus that directly or indirectly couples memory one or more processors input output ports input output components and a power supply.

The computing device may also support peripheral devices such as the display component and the input control component and a communication port such as the communication port B. The display component and the input control component may be communicatively coupled to the computing device . For instance the display component may be a computer monitor or any other display device. The input control component may be a keyboard a mouse or any other input devices. The connection between the input control component and the computing device may be wireless such as an infrared or directly by a cable or other physical connection such as a USB connector. Alternatively the display component and the input control component may be integrated with the computing device as in a laptop computer.

In general the software application is a proprietary software program that establishes communication with the receiver or the control module through the communication ports A B and provides users a user interface for programming the receiver or the control module . For example a dialog window can be provided for users to program an output pulse repetition frequency.

The software application may also take the form of a class or function library e.g. a dynamic link library a Java package or a set of application programming interfaces APIs e.g. Unix system call library . Users can build a small program module or a script that links to the function library and invokes the functions provided by such library to program the receiver .

Turning to a flow diagram is used to show an exemplary method for outputting servo control pulses at a programmable output pulse repetition frequency that is different from an average input frame frequency in accordance with an embodiment of the present invention. At block the receiver receives from the transmitter a signal having a series of input pulses encoded at an average input frame frequency. In some embodiments for example the transmitter transmits the input pulses at a repetition frequency of 50 Hz. Typically the input pulses reflect at least one of the control elements A B C on the transmitter .

In general the transmitter may encode the input pulses using a wide variety of the digital and analog modulation techniques that are known in the art such as amplitude modulation AM frequency modulation FM phase modulation PM phase shift keying modulation PSK frequency shift keying modulation FSK pulse width modulation PWM pulse period modulation PPM pulse code modulation PCM spread spectrum etc. Typically however either pulse code modulation PCM or pulse period modulation PPM is employed for the model vehicles .

At block the signal is decoded to recover the input pulses encoded therein. In some embodiments a timer is used to time the input pulses as the pulses come in. In some embodiments the receiver also caches the recovered input pulses. In such embodiments the receiver typically caches the input pulses in a buffer memory or a cache memory. The input pulses are cached for example to be mapped to servo control pulses. For instance one or more servo control pulses may be functions of one or more of the input pulses.

At block one or more servo control pulses are generated using at least one of the input pulses. For example the servo control pulses may be functions of the input pulses. In some embodiments the receiver uses the input pulses to generate the servo control pulses by mapping the input pulses to the servo control pulses in accordance with a preprogrammed setting saved therein. For instance the receiver may map the same input pulse to more than one output servo control pulse.

At block the receiver outputs each of the servo control pulses generated at block to at least one of the servos at an output pulse repetition frequency. In some embodiments the output pulse repetition frequency can be adjusted. In some other embodiments the output pulse repetition frequency is predetermined and cannot be adjusted subsequently. For example the output pulse repetition frequency of some receivers may be set at a receiver manufacturing factory for maximum performance of a particular type of servos that are specially designed to work with those receivers.

In some embodiments the receiver generates additional servo control pulses if the output pulse repetition frequency is higher than the average input frame frequency. In some embodiments the receiver discards some of the received input pulses if the output pulse repetition frequency is lower than the average input frame frequency. For example if an input pulse is received at the average input frame frequency of 50 Hz and the receiver generates and outputs a servo control pulse at an output pulse repetition frequency of 100 Hz the receiver would have to generate 50 additional servo control pulses per second whereas if the average input frame frequency of 50 Hz and an output pulse repetition frequency of 10 Hz are used the receiver would have to discard servo control pulses per second.

Turning to a flow diagram is used to show an exemplary method for adjusting an output pulse repetition frequency in accordance with an embodiment of the present invention. At block the receiver receives a value for an output pulse repetition frequency. In general the received value is used to adjust the current output pulse repetition frequency by adding or subtracting the received value thereto from. In some embodiments however the received value may replace the current output pulse repetition frequency.

In some embodiments the output pulse repetition frequency may be adjusted from an interface element on the receiver while the receiver is tested at rest. For example an increase or decrease button on the receiver of the model airplane may be used to adjust the output pulse repetition frequency thereof. In some embodiments the output pulse repetition frequency may be adjusted from the computing device while the receiver is fully engaged in normal operations.

For example a user flying a model airplane in a field realizes that the output pulse repetition frequency of the model airplane which was programmed into the model airplane receiver the night before need to be readjusted. The transmitter that he uses however malfunctions preventing him from adjust the output pulse repetition frequency. Luckily the user quickly realizes that he downloaded and installed a software such as the software application on his mobile phone. The user adjusts the output pulse repetition frequency using the mobile phone by communicating an adjustment value to the receiver .

At block it is determined whether the received value e.g. replacement value or the adjusted output pulse repetition frequency resulting from the received value e.g. adjustment value exceeds a preset maximum or falls below a preset minimum. Typically the maximum is set to avoid poor performance or possible damages to the servos from operating beyond their capacity. If the replacement or adjustment value exceeds the preset maximum or falls below the preset minimum it is rejected at block . In some embodiments a user is given an indication that the replacement or adjustment value exceeds the preset maximum.

If on the other hand the replacement or adjustment value is equivalent to or less than the preset maximum the receiver begins outputting servo control pulses at the replaced or adjusted new output pulse repetition frequency at block . In some embodiments a counter is used to implement the output pulse repetition frequency. For example the counter counts down for a time period that corresponds to the output pulse repetition frequency and signals the receiver to output a servo control pulse when the count reaches zero. Then the counter repeats the counting process again. In some embodiments a separate counter is employed in the receiver for each output servo control pulse. In such embodiments different repetition frequency can be programmed for each servo control pulse. In some other embodiments a single master counter is employed in the receiver for all of the output servo control pulses. In yet some other embodiments a frame of input pulses is stored in a memory location in the receiver in the smallest increment of time controllable for the output servo control pulses. In such embodiments an update process running in the receiver updates the input pulses saved in the memory location each time a frame of input pulses containing at least one new input pulse is received.

Turning to a flow diagram is used to show an exemplary method for programming an output pulse repetition frequency in accordance with an embodiment of the present invention. At block the computing device is connected to the receiver . In general the computing device may be physically connected through the communication ports A B. In some embodiments however the computing device such as a wireless mobile device can wirelessly communicate with the receiver . At block the software application is started.

At block an adjustment or a replacement value a new value for the output pulse repetition frequency is received. In some embodiments the receiver is configured to output each of servo control pulses at the same output pulse repetition frequency. In some other embodiments the receiver is configured to output each of the servo output pulses at a different output pulse repetition frequency. In such embodiments new values for a set of output pulse repetition frequencies are received.

At block each replaced output pulse repetition frequency or adjusted output pulse repetition frequency new output pulse repetition frequency resulting from an adjustment value received at block or is examined to determine whether the new output pulse repetition frequency exceeds a preset maximum or falls below a preset minimum. If it is determined that the new output pulse repetition frequency exceeds the preset maximum or falls below a preset minimum the new output pulse repetition frequency is rejected at block and a user is prompted to enter a different adjustment or replacement value again at block . In some embodiments an error message is displayed for the user.

If on the other hand it is determined that the new output pulse repetition frequency is equivalent to or lower than the preset maximum and equivalent to or larger than the preset minimum the new repetition frequency is saved at block . In the embodiments in which the receiver is configured to output different servo control pulses at different output pulse repetition frequencies all of output pulse repetition frequencies can be reprogrammed or only some of the output pulse repetition frequencies may be reprogrammed.

Turning to a block diagram is used to show an exemplary receiver for controlling one or more servos coupled in a model vehicle in accordance with an embodiment of the present invention. The receiver includes a processing module a communication module and an interface module which has a set of interface elements A B. The communication module is configured to receive an input signal having a series of input pulses encoded at an input pulse repetition frequency from the transmitter . In some embodiments the communication module is also configured to decode the input signal to recover the input pulses.

The processing module is configured to generate a servo control pulse using at least one of the input pulses and to output the servo control pulse to at least one of the servos at an output pulse repetition frequency. For example the servo control pulse may be a function of the input pulses. In some embodiments the processing module can generate more than one servo control pulse using one or more of the input pulses at varying output pulse repetition frequencies. For example the processing module can generate two servo control pulses using the input pulses at different output pulse repetition frequencies.

In some embodiments the processing module is also configured to cache the input pulses. In some other embodiments the communication module is configured to cache the input pulses. The input pulses are cached for example to be mapped to servo control pulses. For instance a servo control pulse may be a function of one or more of the input pulses. In some embodiments the processing module includes the communication port A. In such embodiments the computing device can connect to the processing module through the communication port B to program one or more output pulse repetition frequencies. In some embodiments the processing module can also communicate with a wireless mobile device to receive one or more adjustment or replacement values for one or more output pulse repetition frequencies.

The interface module is configured to receive an adjustment or a replacement value a new value for one or more second repetition frequencies. Typically the new value is received manually through the interface elements A B such as in an increase or decrease button a dial knob a sidebar a keypad and the like. In some embodiments the interface module generates one or more new values in response to an activation of the interface elements A B and communicates the new values to the processing module . The processing module uses the new values to adjust or replace one or more output pulse repetition frequencies.

Turning to a diagram shows an exemplary set of servo control pulses generated at a programmable pulse repetition frequency using a number of programmable counters in accordance with an embodiment of the present invention. A plurality of output servo control pulses and are generated at an eight channel receiver with pulse widths of 1.3 milliseconds ms 1.9 ms 1.4 ms 1.8 ms 1.1 ms 2.0 ms 1.2 ms and 1.0 ms respectively. The pulse widths of the output servo control pulses typically vary between a maximum value and a minimum value. In a particular embodiment the maximum pulse width is 2 ms and the minimum pulse width is 1 ms. The receiver is programmed to output servo control pulses at a pulse repetition frequency of 111 Hz resulting in a pulse repetition period of about 9 ms for eight output servo control pulses. Another embodiment uses a maximum pulse width of 2.2 ms and a minimum pulse width of 0.8 ms.

The receiver is programmed to output each of the eight servo control pulses beginning on adjacent 1 ms intervals. At the guard time from the prior frame expires and so a microprocessor in the receiver is interrupted to output the first of the eight servo control pulses . An interrupt handler then toggles channel from low to high reads the first servo control pulse width of 1.3 ms and set a first timer to expire after 1.3 ms.

At the microprocessor is interrupted to output the second servo control pulse . The interrupt handler then toggles channel from low to high reads the second servo control pulse width of 1.9 ms and sets a second timer to expire after 1.9 ms. At the microprocessor is interrupted again to toggle channel back to low when the first timer expires.

At the microprocessor is interrupted to output the third servo control pulse . The interrupt handler then toggles channel from low to high reads the third servo control pulse width of 1.4 ms and sets a third timer to expire after 1.9 ms. At the microprocessor is interrupted again to toggle channel back to low when the second timer expires.

The remaining servo control pulses are outputted using similar processes within the output pulse repetition period of 9 ms. In the present embodiment no more than two pulses are being generated at a given time the first three timers may therefore be re used. A guard time is used to separate each repetition period to avoid pulse overlapping between two adjacent periods. Typically the guard time is set to be equivalent to the maximum pulse width. At the conclusion of the guard time shown one frame that began with 618 is complete and so the cycle repeats in subsequent frames. In some embodiments the rise times for adjacent channels are evenly spaced. For example an input frequency of F Hz a guard time of G seconds and N output channels may be used with evenly spaced rise times separated by R seconds. The rise time separation is then given by the equation 1 1 .

Again with regard to another embodiment of the present invention makes use of a single timer. As those skilled in the art will appreciate a single byte of information may be used to define the state of all ports at a given time. For example if Channel is the most significant bit of the upper nibble channel is the least significant bit of the upper nibble channel is the most significant bit of the lower nibble and channel is the least significant bit of the lower nibble then the output value may be controlled with a single timer as follows. Prior to the start of the output pulse repetition control period before 618 the control byte output is 00 hexadecimal. A preprocessing algorithm defines how the state of the control byte is determined at each point within the pulse repetition control period. An interrupt service routine then is called to determine the next port values and to assign them and to set a timer to expire at the correct time. At the interrupt service routine determines that the control byte should be 01 hexadecimal. This value is then assigned and the timer is set to expire in 1 ms. At the interrupt service routine is called again and determines that the control byte should be 03 hexadecimal. This value is then assigned and the timer is set to expire in 0.3 ms. This type of processing is repeated until the output pulse repetition control period completes at which is 9 ms from the beginning of the control period. The processing period is then repeated implementing a common output pulse repetition frequency for all channels.

As can be seen the present invention and its equivalents are well adapted to provide a new and useful method for generating servo control pulses for a model vehicle at a programmable output pulse repetition frequency that is different from an average input frame frequency.

Many different arrangements of the various components depicted as well as components not shown are possible without departing from the spirit and scope of the present invention. Embodiments of the present invention have been described with the intent to be illustrative rather than restrictive. Alternative embodiments will become apparent to those skilled in the art that do not depart from its scope. A skilled artisan may develop alternative means of implementing the aforementioned improvements without departing from the scope of the present invention.

It will be understood that certain features and subcombinations are of utility and may be employed without reference to other features and subcombinations and are contemplated within the scope of the claims. Not all steps listed in the various figures need be carried out or carried out at all in some instances in the specific order described.

