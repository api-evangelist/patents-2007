---

title: Method and apparatus for providing access to information systems via e-mail
abstract: Invention provides a method for an e-mail based interface to function as a single common access point for requesting, receiving, publishing, accessing and sharing various data from multiple, remote information systems. The invention becomes akin to a human relay operator in the loop which is transparent to the user. By relaying the e-mail chain, the invention performs multiple functions based on the originating request, and reply as a human would.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=07707222&OS=07707222&RS=07707222
owner: The United States of America as represented by the Secretary of the Air Force
number: 07707222
owner_city: Washington
owner_country: US
publication_date: 20070626
---
This patent application claims the priority benefit of the filing date of a provisional application Ser. No. 60 832 008 filed in the United States Patent and Trademark Office on Jul. 6 2006.

The invention described herein may be manufactured and used by or for the Government for governmental purposes without the payment of any royalty thereon.

Electronic mail or E mail is a store and forward method of sending and receiving messages over an electronic communication system and is typically perceived as an infrastructure connecting people through a human interface means at both ends. E mail messages may contain text files and even images. But what if an e mail user desired to pull rather than push information from another computer 

The existing e mail infrastructure provides a foundation to expand upon beyond the traditional uses of e mail systems. Applying automation and intelligence that would allow e mail messages to contain data opposed to just message text is an open and challenging problem in support of data sharing and information collection needs which the prior art has not adequately addressed.

Referring to before the widespread use of the internet there were attempts to use e mail to access the internet. These methods provided a text only representation of a webpage that was delivered in an e mail message see . To enter data back into any form fields the user had to find where to enter the information send the request back to the webpage to retrieve the results and then view the results. That required to do an internet search or get a weather forecast the user would first have to have the page e mailed to them then determine how to enter the data in the returned page send the message back and decipher the results.

Still referring to one problem with this prior art method of accessing the internet over e mail is that the process becomes confusing to the user who is requesting information. A second problem is that the domains are not data specific. That means if a particular piece of information is needed from a particular source that is known it is desirable to retrieve the data directly from that source. A third lies in the fact that the results are formatted based on the provider not the requestor. Therefore when sending a request the results are returned in a format that may not format well in an e mail message.

In light of the aforementioned deficiencies in the prior art it would therefore be desirable to transform the data into a format that would appear legible in an e mail message. Lastly there are no specific ways to upload or submit information directly into specific sources. It would be desirable to not only request information from a particular source but to contribute as well. To date the prior art has not addressed this need in this manner.

One object of the present invention is to provide a method and apparatus for an e mail based interface which provides a single common access point using e mail to request receive publish share and access data from a plurality of information system types.

Another object of the present invention is to provide a method and apparatus for small devices such as cell phones to publish or subscribe to various information systems without the need to install complex systems.

Yet another object of the present invention is to provide a method and apparatus for providing access to multiple information systems employing a means that can be delivered installed or run independently of an e mail application itself.

The invention disclosed herein provides a method and apparatus for delivering data using e mail. In particular this invention becomes an operator in an e mail loop whereas the messages are sent from human to machine then machine back to human. By relaying the e mail chain the system can perform multiple functions based on the originating request and reply as a human would. An e mail can be sent asking for a particular piece of information for example weather. The invention receives this request makes the necessary connections and retrieves the requested information. The invention will then respond to the e mail from the machine back to the human with in this example the weather forecast. From the human perspective the message in reply appears as if it had come from another human.

According to an embodiment of the present invention an independent e mail server is installed on a machine. This machine also connects to other machines using Application Programmers Interfaces or API s comprised from the following steps An e mail is sent to the mail server. The message is then passed to another program which identifies the message headers. Based on the request the program makes the corresponding connections where the data is located retrieves the information and wraps the results into an outgoing e mail message. The message is then sent back to the originating requestor.

According to a feature of the present invention a method is provided to access multiple information systems using electronic forms. Typical e mail transfers contain standard headers such as To From Subject etc. When custom forms are introduced the field names or header fields on the form are necessarily generated by the programmer. Since most e mail systems will not understand information beyond the standard header information there is no way to guarantee the additional data will be delivered with the e mail. Moreover outside the native e mail environment most scripting languages used in the forms are stripped. This results in any variable or calculations will be lost. Therefore to uniquely guarantee the additional fields are delivered with the e mail the present invention provides for additional fields that are created and are modulated with the standard headers. When the message is received the headers are again parsed and formatted back into an understandable message body. This modulation and demodulation provided by the present invention is completely transparent to the user.

In contrast to the way information has been accessed and delivered in the past the present invention becomes the equivalent of an operator in the loop. In other words the translation that takes place is also a transformation of the data. Employing the present invention s operator in the loop method allows a user to perform a search without first returning the webpage or search engine. For example if a user wanted to perform an internet search but did not have access to the internet an e mail can be sent directly to the present invention with the desired search terms contained in the message body. The present invention takes the message body and passes search terms in accordance with the specified request as defined in the subject line of the e mail in this case an internet search. The results are then formatted and returned within an understandable message body as opposed to just a text representation of the webpage.

The advantage of this relay proxy method of accessing the internet is that the request does not go out directly to the source. Instead the request is sent to another machine which makes the actual request and replies back. The advantage of such a process allows the users of the system to configure how where the data will be searched and how the results will be displayed.

For example suppose that deployed troops during wartime required access to the right information at the right time. Concurrently this information would need to be shared and stored. Deploying troops each with a laptop computer with the sole purpose of being able to access and publish data is not feasible due to the high cost weight shortened battery life and the size of these devices. However cellular phone technology supports internet and e mail access. These devices are much smaller less expensive and are already established in the wartime environment. In this fashion the present invention would be capable of assisting the accessing and publishing information in a way that would provide a large benefit for our military.

This invention allows simple e mail devices to retrieve compile and publish data from multiple remote information systems.

Referring to depicts the interaction of the present invention with multiple remote information sources or databases and e mail servers . Requests for information are made through the mail server using forms see and into which search terms are entered. The e mail server communicates the form to the invention . The invention performs the extraction of information from the multiple databases via the e mail server provides fusion of the results and creates a synthetic document which is output to the user.

Referring to the process steps by which a new information request via e mail is conducted are depicted. The request originates by sending an e mail directly to an e mail address with the subject line the type of request and the message body the parameters of the request . The e mail address that the request is sent to is set up by the domain. For example an organization with the domain foobar will set up an e mail account invention foobar.com. When an e mail is sent to this address the message will be forwarded to the mail server . This allows for a simple static e mail address within the organization to be defined regardless of where the e mail server resides. An e mail message in itself can not be processed so the message must now be forwarded from the mail server to a script or program that is capable of parsing out the e mail headers and the message body . Once the script receives the message the header information is parsed and each e mail header is stored in a temporary variable . Based on the incoming headers the outgoing header data is produced or built at this point . The purpose of accurate header information is to prevent e mail filters from trapping and labeling the reply as spam or unwanted e mail. The script decides the next step in the process based on the user request. The incoming request either originated from a text only e mail an e mail form or a process e mail and the invention must interpret it and determine the type of request. If it is determined that the incoming request originated from a form then the form needs to be demodulated .

Still referring to the purpose of the demodulation is to obtain each of the parameters that the user entered on the form see see also . When an e mail arrives that was generated by a form each of the form fields are modulated see into the subject header to guarantee delivery of each of the fields regardless of the e mail client used.

Referring briefly to with regard to form based searches or queries to modulate the data the present invention retrieves information from each field on the form . The field information is then combined separated by comma delimitation and organized into the subject header and sent back . In demodulation of data the present invention identifies and extracts useable variables in the subject header corresponding to the originating fields of the search form . API connections corresponding to the demodulated fields are made the results are wrapped back into an e mail body and the request is sent to the processing API see also .

Referring again to if it is determined that the incoming request was not a form the invention checks to see whether it is a process e mail . The purpose of process e mails is to allow the invention to make changes that differ from the originating request that require updating configuration settings or the processing of additional requests . For example it may be defined that the invention only return 10 results based on a specific search. If the user wants the next set of results the same search can not be performed. In this case another e mail is sent to process the additional results which will be returned in another e mail. This process configuration can also be used to change configuration settings. For example if a specific query is run daily then an e mail can be sent to the script creating a setting to run the same routine and e mail the results on a temporal basis.

If it is determined that the request is not a process but rather an e mail or e mail form that has been demodulated the next step is to run the request. The functionality of the invention is based on the request and the available sources and applications that are set up with it. Meaning if a weather system provides an API to allow a user to download a weather forecast by zip code and the invention can connect to that API then the weather forecast can be delivered in an e mail message based on the API connection . At this point the invention can through connection to the API connect up to any system or database that allows external access by the query request to retrieve the information. The databases and services see can be localized or geographically separated over a network. Once the request is sent and the results are returned they must be organized in a format see that will cosmetically look well in an e mail message body . If the results are just returned without this transformation the results may be unreadable. Before the invention sends out any e mail the outgoing e mail address and headers are verified . This is important to prevent infinite e mail loops if a message is bounced back. When the invention sends a message it first verifies the e mail address is valid. However the message that it sends can still be returned. Before sending another message the invention determines if the message meets certain flags to quit. These include not sending mails to any mail deamon. If a message is sent and the message gets bounced back the originator is now the mail deamon and the script will not pursue that request. Also the invention will not attempt to deliver messages that originated with certain subjects such as an out of office reply. In this case a message will be sent to the invention and perform the request. In the event that the out of office assistant is activated the message will get delivered and the e mail application will send another message to the invention with the out of office message. Since the invention does not know how to handle that undefined request it will not respond to the assistant. Furthermore the outgoing mail verification methods are also used for authentication to verify what domains IP address and e mail prefix names have access to various information. For example if user foobar.com does not have access to database but does have access to database any request from user to database will be rejected. Additional authentication is provided as to methods of delivery of the form. Sensitive requests are required to be signed or encrypted or password enabled. It is at this stage that the credentials are verified. The form will provide input for the username and password and will only send the message to the invention if the message is encrypted or signed or both. If the outgoing message passes these tests then the message is sent . To keep an audit trail of what information was delivered to what address a log file is created . This file contains all of the information and headers of not only the original request but the results as well. After all the previous steps are completed the message is delivered .

Referring to depicts a basic search that can also be performed by the present invention by placing the search term within the body of the e mail message and the search category in the subject line. In this instance the invention will modulate the contents of the e mail message body i.e. the search term and the search category i.e. the subject line term onto the standard header of an outgoing e mail to the domain specific server. API connections will be made and a synthetic document containing search results will be sent to the user requestor in a return e mail in a similar manner as when the search is performed using electronic search forms.

While the present invention has been described in reference to specific embodiments in light of the foregoing it should be understood that all matter contained in the above description or shown in the accompanying drawings is intended to be interpreted as illustrative and not in a limiting sense and that various modifications and variations of the invention may be constructed without departing from the scope of the invention defined by the following claims. Thus other possible variations and modifications should be appreciated.

