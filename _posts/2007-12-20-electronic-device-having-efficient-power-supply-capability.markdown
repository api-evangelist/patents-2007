---

title: Electronic device having efficient power supply capability
abstract: According to one embodiment, an electronic device includes: a switch which switches between connection and disconnection of a sideband signal transmitted by a device attached to the electronic device; a power switch circuit which switches between supply and interrupt of power to the device; a nonvolatile memory which holds a setting; and a control section which controls the switch and the power switch circuit based on the setting.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08296586&OS=08296586&RS=08296586
owner: Kabushiki Kaisha Toshiba
number: 08296586
owner_city: Tokyo
owner_country: JP
publication_date: 20071220
---
This application is based upon and claims the benefit of priority from Japanese Patent Application No. 2007 151992 filed Jun. 7 2007 the entire contents of which are incorporated herein by reference.

An electronic device which shuts off auxiliary power supplied to a mini peripheral component interconnect PCI card in a quiescent state is disclosed by for example JP A 2002 351585.

The electronic device is a personal computer PC equipped with a mini PCI device and has an I O bridge for outputting quiescent information as to whether or not the PC is in a quiescent state and a register for holding information about whether or not auxiliary power is supplied to the mini PCI device.

When the PC is in a quiescent state and when the information held in the register is set so as not to supply auxiliary power the electronic device of JP A 2002 351585 does not supply auxiliary power to the mini PCI device. Hence the power that is consumed by the PC in a quiescent state can be reduced.

However according to the electronic device auxiliary power is not supplied to the mini PCI card when the electronic device is in a quiescent state. However when the electronic device is activated auxiliary power is supplied even when the mini PCI card is not used. Therefore when an unused mini PCI device is provided in the electronic device a problem of unwanted power consumption arises.

Various embodiments according to the invention will be described hereinafter with reference to the accompanying drawings. In general according to one embodiment of the invention an electronic device includes a switch which switches between connection and disconnection of a sideband signal transmitted by a device attached to the electronic device a power switch circuit which switches between supply and interrupt of power to the device a nonvolatile memory which holds a setting and a control section which controls the switch and the power switch circuit based on the setting. Further according to another embodiment of the invention an electronic device includes a switch which switches between connection and disconnection of a sideband signal transmitted by a device attached to the electronic device a power switch circuit which switches supply and interrupt of power to the device a nonvolatile memory which holds a setting and a control section which controls the switch and the power switch circuit based on the setting at power on of the electronic device. Further according to another embodiment of the invention a power supply method includes reading setting held in nonvolatile memory disabling communication between an I O controller hub and the device when the setting is a setting for disabling the device disconnecting a sideband signal of the device and interrupting a power supply to the device.

An embodiment of the present invention is described in detail hereunder by reference to the drawings.

A PC includes an upper housing having a display section formed from an liquid crystal display LCD and a lower housing for accommodating devices such as a central processing unit CPU and an hard disc drive HDD . The upper housing and the lower housing are rotatably connected together by means of a hinge section . The lower housing has a Mini PCI Express slot which allows insertion and electrical connection of a device card complying with the Mini PCI Express a power switch for turning on the power of the PC a keyboard which allows inputting of characters such as alphanumerics and symbols and a track pad by way of which a cursor or the like appearing on the display section is operated and an Enter switch . Further a wireless local area network LAN card to be connected in accordance with PCI Expression hereinafter abbreviated as PCIe standards is provided in the lower housing .

The PC includes an memory controller hub MCH for primarily establishing a connection between memory and the central processing unit CPU an input output controller hub ICH which connected to the MCH by means of a dedicated bus and which establishes a connection with a PCIe or a universal serial bus USB a CPU for controlling individual sections memory which assists processing performed by the CPU by means of temporarily storing information a graphics processing unit GPU for primarily processing information about images and an liquid crystal display LCD serving as the display section . The PC further includes nonvolatile memory for retaining a BIOS A an embedded controller keyboard controller EC KBC for controlling inputting of a built in system which primarily controls the BIOS and inputting of the keyboard a wireless LAST card which is connected to the ICH by means of the PCIe standards to thus establish communication a power switch circuit for controlling power supplied to individual sections a system power circuit which generates a voltage to be taken as main power and auxiliary power and supplies power to the individual sections and a clock generator which generates a clock signal thereby synchronizing the individual sections. The clock generator is connected to individual sections which require a clock signal and transmits a clock signal in response to a clock request.

The wireless LAN card includes a RESET signal line which resets the wireless LAN card upon receipt of a reset request from a logic circuit an Rxsignal line for receiving information from the ICH a Txsignal line for transmitting information to the ICH a WAKE terminal for transmitting a wakeup request to the ICH and a CLKRQ transmitting a clock request to the clock generator . The WAKE and the CLKRQ are called sideband signals in correspondence with the Rxand the Txsignal lies which are main signal lines.

The wireless LAN card synchronizes operation upon receipt of a clock signal from the clock generator . The wireless LAN card is connected to the power switch circuit and supplied with power.

The ICH has a REST signal line for transmitting a reset request to the logic circuit a PCIe function A signal line having an RxC signal line for receiving information from the Txand the Tx signal lines which transmit information to the Rxsignal line of the wireless LAN card and a WAKE signal line for receiving from the WAKE signal line of the wireless LAN card a wakeup request.

The clock generator has a CLKRQ signal line for receiving a clock signal which is a sideband signal from the CLKRQ of the wireless LAN card and a CLKsignal line for transmitting a clock signal to the wireless LAN card .

The EC KBC has a signal control line which transmits a control signal used for controlling activation deactivation of the switch and which transmits a signal as a reset signal to the logic circuit and a power control line which transmits a signal to the power switch circuit and which controls a power supply to the wireless LAN card . Over an unillustrated signal line the EC KBC transmits a command to the PCIe function A of the ICH thereby switching the communication with the wireless LAN card between an enable state and a disable state.

When the power control line is in a Low level hereinafter abbreviated as L power is supplied to the wireless LAN card . When the power control line is in a High level hereinafter abbreviated as H power to the wireless LAN card is shut off.

The switch controls connection or disconnection of a wakeup request signal and a clock request signal which serve as sideband signals transmitted from the wireless LAN card . Disconnection or connection of the signals is switched by a control signal transmitted from a signal control line of the EC KBC . When the signal control line is L the sideband signal is disconnected. When the signal control line is H the sideband signal is connected.

When the signal control line is L the logic circuit transmits a reset signal from the RESET of the ICH to the RESET of the wireless LAN card . When the signal control line is H the reset request is not transmitted.

When the signal control line is H the switch is turned on there is connected the sideband signals communicated among the Txand Txsignal lines of the wireless LAN card and the Txand Txsignal lines of the ICH . The logic circuit does not transmit to the RESET of the wireless LAN card the reset request transmitted by the RESET of the ICH .

In summary when the power control line is L and when the signal control line is H the wireless LAN card operates normally. When the power control line is H and when the signal control line is L power to the wireless LAN card is shut off whereupon the sideband signals are interrupted and the reset request becomes enabled. Specifically the wireless LAN card is reset to thus become separated from surrounding individual sections and electrically disconnected.

As shown in a BIOS setup screen appearing on the display section is made up of version information showing version information about a BIOS conforming to an ACPI Advanced Configuration and Power Interface memory capacity showing the size of the memory set in the PC a date setting for setting a date of an internal clock of the PC a password setting for setting a password of the user and a password of an administrator an HDD setting for setting the name and security of an HDD not shown incorporated in the PC a priority setting for setting the degree of priority of a medium which is the source of startup and the degree of priority of an HDD which is the source of startup a processing setting for setting dispersion processing of a CPU power consumption of a CPU a function for automatically switching power consumption and a frequency of a CPU an execute disable bit function virtualization technology automatic power on battery consumption a beep sound a diagnosis mode a power supply to a USB device in a sleep mode and a language employed at power on and an operation guide for operating BIOS setup by way of the keyboard .

As shown in the BIOS setup screen appearing on the display section includes version information showing version information about a BIOS complying with an ACPI Advanced Configuration and Power Interface a device setting for setting a device to be initialized by the BIOS at power on a power management setting for setting a battery save mode an ASPM of the PCIe and an enhanced C state a hard disk setting for displaying a destination to which an HDD is to be connected and a connection mode of the HDD a PCI setting for displaying an interrupt level of the PCI bus a security setting for setting a TPM a display setting for setting a display and a display function which are to be displayed a pointing device setting for setting whether or not the track pad is used a USB setting for setting legacy emulation of a USB keyboard a USB mouse and a USB Floppy Registered Trademark an LAN setting for setting use or nonuse of a built in LAN card and the set wireless LAN card and an operation guide for use in operating BIOS setup by way of the keyboard .

The present embodiment describes a case where the Wireless LAN of the LAN setting is set to Disabled namely where the wireless LAN card is set to be disabled.

Operation of the PC of the embodiment of the present invention will be described hereunder by reference to the drawings.

When started in a BIOS setup mode the PC displays on the display section the BIOS setup screens and shown in . When the wireless LAN card is not used the user operates the keyboard in accordance with the operation guide to thus set the Wireless LAN of the LAN setting to Disabled thereby bringing the wireless LAN card into a disable state.

The PC is activated by means of depression of the power switch whereupon the system power circuit and the power switch circuit starts supplying power to individual sections. First the EC KBC reads settings of the BIOS A. After having performed operation which will be described below by reference the EC KBC initiates an OS unillustrated Operating System stored in the HDD.

First when the power switch is depressed the power switch and the system power circuit supply power to the individual sections S . Next the EC KBC reads the BIOS A retained in the nonvolatile memory to thus ascertain the LAN setting S .

When the Wireless LAN of the LAN setting is Disabled Yes in S the EC KBC transmits a command to the ICH thereby setting the PCIe function A to the Disabled and disabling communication with the Tx Rxand Rx Tx S . Next the signal control line is brought into an L state thereby turning off the switch and bringing the reset request RESET into an enabled state S . Next the power control line is brought into an H state thereby interrupting the power supply from the power switch circuit to the wireless LAN card S . Connection and power of the wireless LAN card are disabled to thus start the OS S .

When the Wireless LAN of the LAN setting is Enabled No in S the EC KBC establishes connection of the wireless LAN card as in normal times to thus turn on power and activate the OS S .

According to the above mentioned embodiment the sideband signals of the wireless LAN card connected by means of the PCIe standards according to the setting of the BIOS A thereby disconnecting power to the wireless LAN card . The OS is started by means of electrical disconnection of the wireless LAN card and hence a power saving effect is enhanced when compared with a case where the wireless LAN card remaining connected is brought into a D state a standstill state defined by the ACPI. Specifically power of the order of about 50 mW is curtailed.

The embodiment is not limited solely to the wireless LAN card but can also be applied to a PCIe device connected by means of PCIe standards as well as a device connected to the Mini PCI Express slot . Similar effects can be yielded.

The configuration connection mode control method and BIOS setting items of the PC provided in the present embodiment are mere examples and can be modified without departing from the gist of the present invention. For instance the embodiment may also be practiced by means of controlling the power switch circuit the switch and the logic circuit on an OS scale or an application scale instead of controlling the BIOS A.

While certain embodiments of the inventions have been described these embodiments have been presented by way of example only and are not intended to limit the scope of the inventions. Indeed the novel methods and systems described herein may be embodied in a variety of other forms furthermore various omissions substitutions and changes in the form of the methods and systems described herein may be made without departing from the spirit of the inventions. The accompanying claims and their equivalents are intended to cover such forms or modifications as would fall within the scope and spirit of the inventions.

