---

title: Noise-riding video signal threshold generation scheme for a plurality of video signal channels
abstract: An apparatus for adaptively generating video signal thresholds for a comparator circuit having a plurality of signal channels. The apparatus has input circuitry in electrical signal communication with the plurality of signal channels. The input circuitry uses a selector circuit to select one signal channel of the plurality of signal channels for processing. The apparatus also has a processing resource having an input joined to process the electrical signals on the selected one signal channel to determine if a video signal is present and, if no video signal is present, to process noise signals on the selected one signal channel to generate a new video signal threshold. The processing resource has an output to provide the new video signal threshold to the comparator circuit corresponding to the selected signal channel.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=07427942&OS=07427942&RS=07427942
owner: The United States of America as represented by the Secretary of the Navy
number: 07427942
owner_city: Washington
owner_country: US
publication_date: 20070212
---
The invention described herein may be manufactured and used by or for the Government of the United States of America for Governmental purposes without payment of any royalties thereon or therefore.

The present invention generally relates to a noise riding video signal threshold generation apparatus and method.

Electronic warfare receivers such as crystal video receivers are used to detect radio frequency RF energy in the environment. Typically the RF energy is collected by an antenna amplified and then fed into the receiver wherein it is routed to a video detector. The video detector converts the RF energy to a video signal that has a level that is proportionate to the RF signal strength. The video signal is amplified and processed by the receiver to alert the operator of the presence of any RF energy in the environment. Detection of the video is typically accomplished by using a comparator to determine if the video signal exceeds a set threshold. The threshold level is critical to proper operation of the receiver. A threshold set too high degrades the receiver s sensitivity and the receiver is unable to process weaker signals. On the other hand if the threshold is set too low the system noise will exceed the threshold causing the receiver to produce false alarms. Due to temperature changes noise levels can fluctuate in the system. If a fixed threshold is used the changing noise levels can produce false alarms or can desensitize the receiver.

Many prior art systems utilize analog systems to filter invert and rectify the incoming RF signal to separate the noise component from the video signal and generate a video threshold. A review of the prior art reveals several references that disclose a variety of circuits and systems for adaptively generating a video signal threshold.

Phipps et al. U.S. Pat. No. 4 274 095 discloses a radar video converter that uses a computer interface module to select from a plurality of threshold levels for use in detecting radar signals corresponding to targets in a particular radar environment.

Cantwell et al. U.S. Pat. No. 5 091 729 discloses an adaptive threshold detector system that adaptively uses three threshold criteria to detect weak and strong valid signals. The system uses an integrating sum of the detected signal envelope as detection criteria to distinguish between weak and strong signals and to adjust the system detection criteria accordingly.

Lee U.S. Pat. No. 5 254 999 discloses a video signal processor for a radar system that comprises an A D converting circuit that converts the radar signals into digital signals and a cell averaging circuit. The cell averaging circuit adaptively sets a threshold value for determining whether a signal is target data or not. This patent refers to this technique of adaptively setting the threshold value as cell averaging.

Boria U.S. Pat. No. 6 433 730 discloses a radar receiver that comprises a noise riding threshold circuit that comprises high frequency components of the noise and video signal to produce noise riding threshold voltage.

Based on the aforesaid prior art references a need still exists for an improved apparatus that adaptively generates video signal thresholds.

It is therefore a primary object and general purpose of the present invention to provide a noise riding video signal threshold generation apparatus for adaptively generating video signal thresholds for use by comparator circuitry in video receivers or other video processing equipment.

It is a further object of the present invention to select and monitor each one of a plurality of video signal channels in order to determine if a new video signal threshold is to be generated for use by the comparator circuitry that corresponds to the selected video signal channel.

To attain the objects of the present invention an apparatus is provided for adaptively generating video signal thresholds for a comparator circuit having a plurality of signal channels. The apparatus includes input circuitry in electrical signal communication with the plurality of signal channels. Each signal channel carries electrical signals comprising video and noise signals. The input circuitry comprises a selector circuit to select one signal channel of the plurality of signal channels for processing. The apparatus also has a processing resource to process the electrical signals on the selected video channel to determine if a video signal is present and if no video signal is present to process noise signals on the selected signal channel to generate a new video signal threshold and provide the new video signal threshold to the comparator circuit corresponding to the selected signal channel.

It is another object of the present invention to provide a method for adaptively generating video signal thresholds comprising the steps of providing a plurality of signal channels that carry electrical signals comprising video and noise signals selecting one of the signal channels processing the electrical signals on the selected signal channel to determine if a video signal is present and if no video signal is present then the noise signals on the selected signal channel are processed to generate a new video signal threshold. After the new video signal threshold is generated for the selected signal channel a next signal channel is selected and the processing steps are repeated for that next signal channel. The sequential selection and processing of each signal channel is continuous. Thus the signal channels are continuously monitored and if necessary new video signal thresholds are generated.

Other objects features and advantages of the present invention will be apparent from the ensuing description and accompanying drawings.

Referring now to the FIGURE there is shown a schematic diagram of apparatus of the present invention. Apparatus adaptively generates video signal thresholds for multiple video signal channels used by comparator circuit which is part of receiver system or other video signal processing equipment. Apparatus generally comprises input circuit and processing resource . A plurality of signal channels and are provided to comparator circuit and input circuit . Each of these signal channels carries electrical signals comprising video signals and noise signals. Although four signal channels and are shown it is to be understood that this is just an example and that apparatus can operate with other quantities of video signal channels.

Comparator circuit compares the video signal on each signal channel and to a separate threshold voltage. If the video signal on each channel exceeds the corresponding threshold level the comparator circuit routes that video signal to other processing components not shown via one of the output signal channels generally indicated by reference number . Thus in this embodiment comparator circuit comprises separate comparator circuits not shown wherein each comparator circuit uses a separate threshold voltages one for each signal channel and .

in a preferred embodiment input circuit comprises buffer amplifier and video cross point switch . Signal channels and are connected to the inputs of buffer amplifier . Buffer amplifier has outputs channels and that correspond to signal channels and respectively. Output channels and are inputted into video cross point switch . Processing resource outputs channel select signal that is inputted into video cross point switch . Channel select signal is a digital signal that defines a code or address that represents a desired signal channel. Upon receiving signal channel select signal video cross point switch selects the signal channel that corresponds to the code or address defined by signal channel select signal . As a result video cross point switch outputs the electrical signals indicated by reference number that are on the selected signal channel. Electrical signals are inputted into processing resource .

Referring to the FIGURE processing resource processes electrical signals to determine if a video signal is present. If no video signal is present then processing resource processes the noise signals that are part of electrical signals so as to generate noise characteristic data. Processing resource uses this noise characteristic data to generate a new video signal threshold. This particular feature of apparatus is further discussed in the ensuing description.

In a preferred embodiment processing resource comprises analog to digital converter ADC first in first out FIFO memory and microcontroller . In one embodiment microcontroller is an Intel 87FC251SB Microcontroller although other suitable microcontroller chips can be used as well. Program instructions are loaded in non volatile on chip random access memory for operation of video cross point switch ADC FIFO buffer and DAC . Input clock generates an input clock signal that defines the sample rate for ADC and functions as a write clock for FIFO memory . ADC converts electrical signals into digitized data signals . Therefore if a video signal is present ADC converts the video signal into digitized data signals and if no video signal is present then ADC converts the noise signals into digitized data signals. Digitized data signals are inputted into FIFO memory . Due to the large video bandwidth input clock signal provides a relatively high sample rate for ADC in order to avoid aliasing. In a preferred embodiment input clock signal is a 40 MHz clock signal. Input clock and ADC produce data at a rate that is faster than the rate at which microcontroller can process data. Microcontroller clock outputs microcontroller clock signal that controls the data rate of FIFO memory and microcontroller . In one embodiment microcontroller clock signal is a 16 MHz clock signal. FIFO memory outputs digitized data signals at the clock rate defined by microcontroller clock signal . Therefore digitized data signals are written into FIFO memory at the data rate of 40 MHz and are read by microcontroller at a data rate of 16 MHz. Microcontroller outputs FIFO control signal that enables the flow of digitized data signals to microcontroller .

Microcontroller is programmed with an algorithm that effects processing of digitized data signals . This algorithm utilizes the video cross point switch the ADC and the FIFO buffer to select and sample the desired video signal channel. The sampled data is then analyzed to determine whether the sampled data represents the noise floor or a received video signal. If the sampled data represents the noise floor the sampled data will fall within an expected range and contain some negative values. If the sampled data represents a received video signal the sampled data will likely exceed the expected range of the noise floor and will not contain negative values. When sampled data does not exceed the expected range for the noise floor but does not contain negative values the sampled data is discarded and new sampled data is then acquired. Once it is determined that sampled data represents the noise floor the noise floor is characterized using statistical measures. Using the sampled data microcontroller calculates the mean variance and standard deviation of the noise floor. Since the noise from the video signal channel has a Gaussian or normal probability distribution 99.99 of the noise floor is below five standard deviations of the mean. Microcontroller then sets the channel threshold to five standard deviations above the mean plus an additional 3 dB to minimize the false alarm rate and achieve an acceptable probability of detection. This algorithm can be modified to accommodate video signal channels that generate noise with other probability distributions.

Thus in accordance with the aforementioned algorithm microcontroller first determines if a video signal is present on the selected video channel. If microcontroller determines that a video signal is present microcontroller outputs channel select signal that controls video cross point switch to select a next signal channel for processing. If microcontroller determines that no video signal is present then microcontroller characterizes the digitized noise signals which represent the noise floor using the statistical measures in order to generate a new threshold level for use with the particular signal channel being processed. Microcontroller outputs a digital threshold signal that represents the new video signal threshold level. Microcontroller generates ADC control signal which enables ADC as well as digital to analog converter DAC control signal and DAC clock signal . Processing resource further comprises DAC that receives digital threshold signal DAC control signal and DAC clock signal . DAC control signal enables DAC .

DAC comprises a plurality of outputs and that provide the new analog threshold levels to comparator circuit . Thus output is electrically connected to the threshold input of the comparator not shown in comparator circuit that corresponds to signal channel . Output is electrically connected to the threshold input of the comparator circuit that corresponds to signal channel . Output is electrically connected to the threshold input of the comparator circuit that corresponds to signal channel . Similarly output is electrically connected to the threshold input of the comparator circuit that corresponds to signal channel . DAC converts the new digital threshold signal into an analog signal and outputs this analog signal to an appropriate one of outputs and .

Once the new threshold level is generated and provided to the appropriate threshold input in comparator circuit microcontroller increments the channel select signal so that the next signal channel is processed. Thus for example if a new threshold level has been generated for use with signal channel then microcontroller increments channel select signal so that signal channel is the next signal channel to be processed by processing resource . This process is continually repeated while the receiver system or signal processing system is operating. Thus each signal channel and is continuously and automatically monitored to determine if a new video signal threshold level is needed.

The present invention monitors multiple signal channels with the use of minimum hardware. The low component count of apparatus reduces the power consumption total physical size and manufacturing cost of apparatus . The use of FIFO enables apparatus to sample the signal channels at a high data rate while using a simple microcontroller that operates at a relatively slower clock rate. The statistical calculation algorithms executed by microcontroller can be optimized for a tradeoff between sensitivity and false alarm rate. Apparatus can be easily configured to operate with more than four signal channels.

The foregoing description of the preferred embodiments of the invention has been presented for purposes of illustration and description only. It is neither intended to be exhaustive nor to limit the invention to the precise form disclosed and obviously many modifications and variations are possible in light of the above teaching. Such modifications and variations that may be apparent to a person skilled in the art are intended to be included within the scope of this invention as defined by the accompanying claims.

