---

title: Selection and retention of buffered media content
abstract: A media content recording system in a subscriber television system includes a memory for storing logic, a buffer space for buffering a plurality of media content instances, and a processor configured with the logic to designate as permanent a media content instance among the plurality of media content instances in the buffer space that is requested by a user for permanent recording.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08620135&OS=08620135&RS=08620135
owner: 
number: 08620135
owner_city: 
owner_country: 
publication_date: 20070703
---
This application is a continuation of U.S. application Ser. No. 10 008 624 filed Dec. 6 2001 now U.S. Pat. No. 7 257 308 which is related to copending U.S. application Ser. No. 10 010 270 filed Dec. 6 2001 and U.S. application Ser. No. 10 008 439 filed Dec. 6 2001 which are all hereby entirely incorporated herein by reference.

The present invention is generally related to television systems and more particularly is related to a system and method for maintaining a time shift buffer.

With recent advances in digital transmission technology subscriber television systems are now capable of providing much more than the traditional analog broadcast video. In implementing enhanced programming the home communication terminal device HCT otherwise known as the set top box has become an important computing device for accessing media content services and media content within those services and navigating a user through a maze of available services. In addition to supporting traditional analog broadcast video functionality digital HCTs or DHCTs now also support an increasing number of two way digital services such as video on demand and personal video recording.

Typically a DHCT is connected to a cable or satellite or generally a subscriber network television system and includes hardware and software necessary to provide the functionality of the digital television system at the user s site. Preferably some of the software executed by a DHCT is downloaded and or updated via the subscriber network television system. Each DHCT also typically includes a processor communication components and memory and is connected to a television or other display device such as a personal computer. While many conventional DHCTs are stand alone devices that are externally connected to a television a DHCT and or its functionality may be integrated into a television or personal computer or even an audio device such as a programmable radio as will be appreciated by those of ordinary skill in the art.

DHCTs are typically capable of providing users with a very large number and variety of media content choices. As the number of available media content choices increases viewing conflicts arise whereby the user must choose between watching two or more media content instances e.g. discrete individual instances of media content such as for a non limiting example a particular television show or program all of which the user would like to view. Further because of the large number of viewing choices the user may miss viewing opportunities. Buffering of media content instances in memory or more recently in storage devices e.g. hard disk drives coupled to the DHCT has provided some relief from the conflict in viewing choices. However current buffering mechanisms for personal video recording are confusing to the user and inefficient. Therefore there exists a need to make it easier and more convenient for users to view a plurality of desirable media content instances.

Thus a heretofore unaddressed need exists in the industry to address the aforementioned deficiencies and inadequacies.

The preferred embodiments of the invention now will be described more fully hereinafter with reference to the accompanying drawings in which preferred embodiments of the invention are shown. This invention may however be embodied in many different forms and should not be construed as limited to the embodiments set forth herein rather these embodiments are provided so that this disclosure will be thorough and complete and will fully convey the scope of the invention to those having ordinary skill in the art. Furthermore all examples given herein are intended to be non limiting and among others.

One embodiment of the present invention is generally implemented as part of a subscriber television system such as a digital broadband delivery system DBDS or cable television system CTS . For example a subscriber television system STS and its operation will be described initially with the understanding that other conventional data delivery systems are within the scope of the preferred embodiments of the present invention. shows a block diagram view of a subscriber television system STS which is generally a high quality reliable and integrated network system that is preferably capable of delivering video audio voice and data services to digital home communication terminals DHCTs . Although depicts a high level view of a CTS it should be appreciated that a plurality of subscriber television systems can tie together a plurality of regional networks into an integrated global network so that DHCT users can receive media content provided from anywhere in the world.

Further it will be appreciated that the STS shown in is merely illustrative and should not be construed as implying any limitations upon the scope of the preferred embodiments of the present invention. For instance subscriber television systems also included within the scope of the preferred embodiments of the invention include systems not utilizing physical structured cabling for transmission such as but not limited to satellite systems. Further transmission media included within the scope of the preferred embodiments of the invention include but are not limited to hybrid fiber coax HFC optical satellite radio frequency RF frequency modulated FM and microwave. Further data provided from the headend to the DHCTs and programming necessary to perform the functions discussed below will be understood to be present in the STS in accordance with the description below.

The STS preferably delivers broadcast video signals as digitally formatted signals in addition to delivering traditional broadcast analog video signals. Furthermore the system can preferably support one way broadcast services as well as both one way data services and two way media content and data services. The two way operation of the network preferably allows for user interactivity with services such as Pay Per View programming Near Video On Demand NVOD programming according to any of several known NVOD implementation methods View on Demand VOD programming according to any of several VOD implementation methods and interactive applications such as Internet connections.

The STS also provides the interfaces network control transport control session control and servers to access media content from media content services and distributes media content to DHCT users. As shown in a typical STS comprises a head end hubs an HFC access network and DHCTs . It should be appreciated that although a single component e.g. a head end is illustrated in a STS can feature a plurality of any one of the illustrated components or may be configured with alternative embodiments for any one of the individual components or with yet other additional components not enumerated above.

Media content provided by one or more content providers not shown is communicated by the content providers to one or more head ends . From those head ends the media content is then communicated over a communications network that includes a plurality of HFC access networks only one HFC access network is illustrated . The HFC access network typically comprises a plurality of HFC nodes each of which may serve a local geographical area. The hub connects to the HFC node through a fiber portion of the HFC access network . The HFC node is connected to a tap which in one implementation is connected to a network interface unit NIU which is connected to a digital home communication terminal DHCT . In other implementations the HFC node is connected directly to a DHCT . The NIU when implemented is normally located at a user s property and provides a transparent interface between the HFC node and the users internal wiring. Coaxial cables are typically used to couple nodes taps and NIUs because the electrical signals can be easily repeated with radio frequency RF amplifiers. As the high level operations of many of the functions of a subscriber television system STS are well known to those of ordinary skill in the art further high level description of the overall STS of will not be contained herein.

As depicted in the STS can simultaneously support a number of transmission signal types transmission rates and modulation formats. The ability to carry analog and digital signals over a large bandwidth are characteristics of a Hybrid Fiber Coax HFC Network typically employed in a STS as in the STS of . As will be appreciated by those of ordinary skill in the art analog and digital signals in HFC networks can be multiplexed using Frequency Division Multiplexing FDM which enables many different types of signals to be transmitted over the STS to the DHCT . Typically a STS using HFC supports downstream i.e. in the direction from the headend to the DHCT frequencies from 50 MHz to 870 MHz whereas upstream frequencies i.e. in the direction from the DHCT to higher levels of the system are in the 5 MHz to 42 MHz band. Generally the RF bandwidth spacing for analog and digital services is 6 MHz. Furthermore for a typical 870 MHz system in the U.S. a possible downstream RF spectrum subdivision plan uses 6 MHz spaced frequency subdivisions or spans within the 50 MHz to 550 MHz band for analog video transmission signals and within the 550 MHz to 870 MHz range for digital transmission signals. The Analog Transmission Signals ATSs shown in are typically broadcast in 6 MHz frequency subdivisions typically referred to in analog broadcasting as channels having an analog broadcast signal composed of analog video and analog audio and include Broadcast TV Systems Committee BTSC stereo and Secondary Audio Program SAP audio.

Referring again to the downstream direction transmission signals having been multiplexed and in one embodiment using frequency division multiplexing FDM are often referred to as in band transmission signals and include Analog Transmission Signals ATSs and Digital Transmission Signals DTS also known as Digital Transport Signals . These transmission signals carry video audio and data services. For example these transmission signals may carry television signals Internet data or any additional types of data such as Electronic Program Guide EPG data. Additionally as will be appreciated by those of ordinary skill in the art additional data can be sent with the analog video image in the Vertical Blanking Interval VBI of the video signal and stored in DHCT memory or a DHCT local physical storage device not shown . It should be appreciated however that the amount of data that can be transmitted in the VBI of the analog video signal is typically significantly less than data transmitted in a DTS.

Like the ATSs the DTCs each occupies 6 MHz of the RF spectrum. However the DTSs are digital transmission signals consisting of 64 or 256 Quadrature Amplitude Modulated QAM digital signals formatted as MPEG 2 transport streams allocated in a separate frequency range. As will be described in more detail below the MPEG 2 transport stream enables transmission of a plurality of DTS types over each 6 MHz RF spacing as compared to a 6 MHz ATS. The three types of digital transport signals illustrated in include broadcast digital transmission signals carousel digital transmission signals and on demand transmission signals .

MPEG 2 transport may be used to multiplex video audio and data in each of these Digital Transmission Signals DTSs . However because an MPEG 2 transport stream allows for multiplexed video audio and data into the same stream the DTSs do not necessarily have to be allocated in separate 6 MHz RF frequencies unlike ATSs . On the other hand each DTS is capable of carrying multiple broadcast digital media content instances multiple cycling data carousels containing broadcast data and data requested on demand by the subscriber. Data is formatted such as in Internet Protocol IP mapped into MPEG 2 packets and inserted into the multiplexed MPEG 2 transport stream. Encryption can be applied to the data stream for security so that the data may be received only by authorized DHCTs. The authorized DHCT is provided with the mechanisms to receive among other things additional data or enhanced services. Such mechanisms can include keys that are required to decrypt encrypted data.

Each 6 MHz RF subdivision assigned to a digital transmission signal can carry the video and audio streams of the media content instances of multiple television TV stations as well as media content and data that is not necessarily related to those TV media content instances as compared to one TV channel broadcast over one ATS that consumes the entire 6 MHz. The digital data is inserted into MPEG transport streams carried through each 6 MHz frequency subdivision assigned for digital transmission and then de multiplexed at the subscriber DHCT so that multiple sets of data can be produced within each tuned 6 MHz frequency span or subdivision.

Although broadcast in nature the carousel DTSs and on demand DTSs offer different functionality. Continuing with the broadcast DTSs and carousel DTSs typically function as continuous feeds for indefinite time whereas the on demand DTSs are continuous feeds sessions for a limited time. All DTS types are capable of being transmitted at high data rates. The broadcast DTSs carry typical data comprising multiple digitally MPEG 2 compressed and formatted TV source signals and other continuously fed data information. The carousel DTSs carry broadcast media content or data that is systematically broadcast in a cycling fashion but updated and revised as needed. Thus the carousel DTSs serve to carry high volume data such as media content and data and possibly other data at high data rates. The carousel DTSs preferably carry data formatted in directories and files by a Broadcast File System BFS not shown which is used for producing and transmitting data streams throughout the STS and which provides an efficient means for the delivery of application executables and application media content and data to the DHCT as will be described below. Media content and data received by the DHCT in such manner can then be saved in the DHCT memory and or transferred to the DHCT storage device for later use. The on demand DTSs on the other hand can carry particular information such as compressed video and audio pertaining to subscriber requested media content instance preview and or media content instance descriptions as well as other specialized data information.

The User to Network Download Protocol of the MPEG 2 standard s DSM CC specification Digital Storage Media Command and Control provides the data carousel protocol used for broadcasting data from a server located at headend or elsewhere. It also provides the interactive download protocol for reliable downloading of data from a server possibly the same server to an individual DHCT through the on demand DTSs. Each carousel and on demand DTS is defined by a DSM CC session. Therefore some of the basic functionality reflected in the DHCT when the DHCT does not have a local physical storage device is somewhat similar to a networked computer i.e. a computer without a persistent storage device in addition to traditional set top box functionality as is well known to those of ordinary skill in the art. A DHCT with a storage device reduces data access latency when the data is stored in the local physical storage device ahead of time.

Also shown in are Out Of Band OOB signals that provide continuously available two way signaling to the subscribers DHCT regardless of which in band signals are tuned to by the individual DHCT in band tuners as described below. The OOB signals consists of a Forward Data Signal FDS and a Reverse Data Signal RDS . The OOB signals can comply to any one of a number of well known transport protocols but preferably comply to either a DAVIC 1.1 Transport Protocol with FDS of 1.544 mega bits per second Mbps or more using quadrature phase shift keying QPSK modulation and an RDS of 1.544 Mbps or more using QPSK modulation or to a DOCSIS Transport Protocol with FDS of 27 Mbps using 64 QAM modulation and a RDS of 1.544 Mbps or more using QPSK modulation or 16 QAM modulation. The OOB signals provide the two way operation of the network which allows for subscriber interactivity with the applications and services provided by the network. Furthermore the OOB signals are not limited to a 6 MHz spectrum but generally to a smaller spectrum such as 1.5 or 3 MHz.

In a typical system the programming services and other information from content providers can be distributed according to a variety of mechanisms. The input signals may be transmitted from sources to the headend via a variety of transmission paths including satellites not shown and terrestrial broadcast transmitters and antennas not shown . The headend can also receive content from a direct feed source via a direct line . Other input sources from content providers include a video camera analog input source or an application server . The application server may include more than one line of communication. One or more components such as analog input source input source video camera and application server can be located external to the headend as shown or internal to the headend as would be appreciated by one having ordinary skill in the art. The signals provided by the content or programming input sources can include a single media content instance i.e. individual instances of media content such as an episode of a television show a movie or web page etc. or a multiplex that includes several media content instances.

The headend generally includes one or more receivers that are each associated with a content source. MPEG encoders such as encoder are included for digitally encoding at least some local programming or a real time feed from video camera or the like. The encoder outputs the respective compressed video and audio streams corresponding to the analog audio video signal received at its input. For example encoder can output formatted MPEG 2 or MPEG 1 packetized elementary PES streams or transport streams compliant to the syntax and semantics of the ISO MPEG 2 standard respectively. The PES or transport streams may be multiplexed with input signals from switch receiver and control system . The multiplexing logic processes the input signals and multiplexes at least a portion of the input signals into transport stream .

Analog input source can provide an analog audio video broadcast signal which can be input into modulator . From modulator a modulated analog output signal can be combined at combiner along with other modulated signals for transmission into transmission medium . Alternatively analog audio video broadcast signal from analog input source can be input into modulator . Alternatively analog audio video broadcast signal can be input directly from modulator to transmission medium . The analog broadcast media content instances are transmitted via respective radio frequency RF channels each assigned for transmission of an analog audio video signal such as NTSC video as described in association with .

The switch such as asynchronous transfer mode ATM switch provides an interface to an application server . There can be multiple application servers providing a variety of services such as a Pay Per View service including video on demand VOD a data service an Internet service a network system or a telephone system. Service and content providers may download content to an application server located within the STS . The application server may also be located within the headend or elsewhere within the STS such as in a hub . The various inputs into the headend are then combined with the other information from the control system which is specific to the STS such as local programming and control information which can include among other things conditional access information. The headend contains one or more modulators to convert the received transport streams into modulated output signals suitable for transmission over the transmission medium through the network . Each modulator may be a multimodulator including a plurality of modulators such as but not limited to QAM modulators that radio frequency modulate at least a portion of the transport streams to become output transport streams . The output signals from the various modulators or multimodulators are combined using equipment such as a combiner for input into the transmission medium which is sent via the in band delivery path to subscriber locations not shown . In band delivery path can include DTSs and ATS as described with . In one embodiment the server also provides various types of data to the headend . The data is received in part by the media access control functions that output MPEG transport packets containing data instead of digital audio video MPEG streams.

The control system enables the television system operator to control and monitor the functions and performance of the STS . The control system interfaces with various components via communication link in order to monitor and or control a variety of functions including the frequency spectrum lineup of the programming for the STS billing for each subscriber and conditional access for the content distributed to subscribers. Information such as conditional access information is communicated from the control system to the multiplexing logic where it is multiplexed into a transport stream .

Among other things the control system provides input to the modulator for setting the operating parameters such as selecting certain media content instances or portions of transport streams for inclusion in one or more output transport streams system specific MPEG table packet organization and or conditional access information. Control information and other data can be communicated to hubs and DHCTs via an in band delivery path or via an out of band delivery path .

The out of band data is transmitted via the out of band FDS of transmission medium by means such as but not limited to a Quadrature Phase Shift Keying QPSK modem array . Two way communication utilizes the RDS of the out of band delivery path . Hubs and DHCTs transmit out of band data through the transmission medium and the out of band data is received in headend via out of band RDS. The out of band data is routed through router to an application server or to control system . The out of band control information includes such information as a pay per view purchase instruction and a pause viewing command from the subscriber location to a video on demand type application server located internally or external to the headend such as application server as well as any other data sent from the DHCT or hubs all of which will preferably be properly timed. The control system also monitors controls and coordinates all communications in the subscriber television system including video audio and data. The control system can be located at headend or remotely.

The transmission medium distributes signals from the headend to the other elements in the subscriber television system such as a hub a node and subscriber locations . The transmission medium can incorporate one or more of a variety of media such as optical fiber coaxial cable and hybrid fiber coax HFC satellite direct broadcast or other transmission media.

The DHCT further preferably includes at least one processor for controlling operations of the DHCT an output system for driving the television display and a tuner system for tuning into a particular television channel or frequency to be displayed and for sending and receiving various types of data or media content to and from the headend . The DHCT may include in other embodiments multiple tuners for receiving downloaded or transmitted media content. Tuner system can select from a plurality of transmission signals provided by the subscriber television system. Tuner system enables the DHCT to tune to downstream media and data transmissions thereby allowing a user to receive digital or analog media content delivered in the downstream transmission via the subscriber television system. The tuner system includes in one implementation an out of band tuner for bi directional quadrature phase shift keying QPSK data communication and a quadrature amplitude modulation QAM tuner in band for receiving television signals. Additionally a receiver receives externally generated information such as user inputs or commands from an input device or other devices.

According to another embodiment of the invention a telephone modem not shown in the DHCT can be utilized for upstream data transmission and a headend hub or other component located upstream in the STS can receive data from a telephone network corresponding with the telephone modem and can route the upstream data to a destination internal or external to the STS such as an application data server in the headend or content provider.

The DHCT includes signal processing system which comprises demodulating system and transport demultiplexing and parsing system herein demultiplexing system to process broadcast media content and or data. One or more of the systems of signal processing system can be implemented with software a combination of software and hardware or preferably in hardware. Demodulating system comprises functionality for RF signal demodulation either an analog transmission signal or a digital transmission signal. For instance demodulating system can demodulate a digital transmission signal in a carrier frequency that was modulated among others as a QAM modulated signal. When tuned to a carrier frequency corresponding to an analog TV signal transmission demultiplexing system is bypassed and the demodulated analog TV signal that is output by demodulating system is instead routed to analog video decoder . Analog video decoder converts the analog video signal i.e. the video portion of a media content instance that comprises a video portion and an audio portion received at its input into a respective non compressed digital representation comprising a sequence of digitized pictures and their respective digitized audio. Presented at the input to analog video decoder is an analog video signal such as NTSC video comprising of audio and video. In one implementation the video consists of a sequence of fields spaced apart at approximately one sixtieth of a second. A pair of consecutive fields constitutes a picture. The odd field contains the odd numbered lines of the picture and the even field contains the even numbered lines of the picture. Analog video decoder outputs the corresponding sequence of digitized pictures and respective digitized audio. Each picture is a two dimensional entity of picture elements and each picture element contains a respective set of values. A picture element value comprises luminance and chrominance information that are representative of brightness and color information at the spatial location of the picture element within the picture.

Digitized pictures and respective audio output by analog video decoder are presented at the input of compression engine . Digitized pictures and respective audio output by analog video decoder can also be presented to an input of media engine via an interface not shown dedicated for non compressed digitized analog video and audio such as ITU 656 for display on TV . Compression engine is coupled to localized memory preferably DRAM for input and processing of the input digitized pictures and their respective digitized audio. Alternatively compression engine can have its own integrated memory not shown . Compression engine processes the sequence of digitized pictures and digitized audio and converts them into a video compressed stream and an audio compressed stream respectively. The compressed audio and video streams are produced in accordance with the syntax and semantics of a designated audio and video coding method such as specified by the MPEG 2 audio and MPEG 2 video ISO standard so that they can be interpreted by video decoder and audio decoder for decompression and reconstruction at a future time. Each compressed stream consists of a sequence of data packets containing a header and a payload. Each header contains a unique program identification or PID associated with the respective compressed stream.

Compression engine multiplexes the audio and video compressed streams into a transport stream such as an MPEG 2 transport stream for output. Furthermore compression engine can preferably compress audio and video corresponding to more than one program in parallel e.g. two tuned analog TV signals and to multiplex the respective audio and video compressed streams into a single transport stream. Output of compressed streams and or transport streams produced by compression engine is input to signal processing system . Parsing capabilities within signal processing allow for interpretation of sequence and picture headers for instance annotating their locations within their respective compressed stream for future retrieval from storage device . A compressed analog media content instance e.g. TV program episode or show corresponding to a tuned analog transmission channel can be output as a transport stream by signal processing and presented as input for storage in storage device via interface as will be described below. The packetized compressed streams can be also output by signal processing and presented as input to media engine for decompression by video decompression engine and audio decompression engine for its display on TV as will be described below.

Demultiplexing system can include MPEG 2 transport demultiplexing. When tuned to carrier frequencies carrying a digital transmission signal demultiplexing system enables the separation of packets of data corresponding to the compressed streams of information belonging to the desired media content instances for further processing. Concurrently demultiplexing system precludes packets in the multiplexed transport stream that are irrelevant or not desired such as packets of data corresponding to compressed streams of media content instances of other media content signal sources e.g. other TV channels from further processing.

Parsing capabilities of demultiplexing system include reading and interpreting the received transport stream without disturbing its content such as to interpret sequence and picture headers for instance to annotate their locations within their respective compressed stream for future retrieval from storage device . Thus the components of signal processing system are capable of QAM demodulation forward error correction and demultiplexing MPEG 2 transport streams and parsing packetized elementary streams and elementary streams. A compressed media content instance corresponding to a tuned carrier frequency carrying a digital transmission signal can be output as a transport stream by signal processing and presented as input for storage in storage device via interface as will be described below. The packetized compressed streams can be also output by signal processing and presented as input to media engine for decompression by video decompression engine and audio decompression engine as will be described below.

One having ordinary skill in the art will appreciate that signal processing system will preferably include other components not shown including memory decryptors samplers digitizers e.g. analog to digital converters and multiplexers among others. Further other embodiments will be understood by those having ordinary skill in the art to be within the scope of the preferred embodiments of the present invention including analog signals e.g. NTSC that bypass one or more elements of the signal processing system and are forwarded directly to the output system . Further outputs presented at corresponding next stage inputs for the aforementioned signal processing flow may be connected via accessible memory in which the outputting device stores the output data and the inputting device thereafter inputs the output data written to memory by the respective outputting device. Outputting and inputting devices include analog video decoder compression engine media engine signal processing system and components or subcomponents thereof. Further it will be understood by those having ordinary skill in the art that components of signal processing system can be spatially located in different areas of the DHCT . Further it will be understood by those having ordinary skill in the art that although the components of signal processing system are illustrated as being in communication with an incoming signal from the communications interface the signal may not necessarily be in the order shown for all signals.

The DHCT also includes media engine which includes digital video decoder also known as video decompression engine and digital audio decoder also known as audio decompression engine and other digital signal processing components not shown as would be appreciated by those having ordinary skill in the art. For example demultiplexing system is in communication with tuner system and processor to effect reception of digital compressed video streams digital compressed audio streams and data streams corresponding to one or more media content instances to be separated from other media content instances and or streams transported in the tuned transmission channel and to be stored in a first part not shown of DRAM of DHCT assigned to receive packets of one or more media content instances. Other dedicated memory may also be used for media content instance packets.

Furthermore while conducting this process demultiplexing system demultiplexes and separates desired compressed streams from the received transport stream without disturbing its content. Further parser parses i.e. reads and interprets compressed streams such as to interpret sequence headers and picture headers and deposits a transport stream carrying compressed streams of a media content instance into DRAM . Processor causes transport stream in DRAM to be transferred to the storage device via interface . Under program control by processor the demultiplexing system in communication with the digital video decoder storage device and processor effect notification and or transfer of received packets of one or more compressed streams corresponding to one or more media content instances from a first part of DRAM to a second part not shown of DRAM assigned to the digital video decoder and the digital audio decoder . Alternatively media engine can have access to a dedicated localized DRAM not shown . Upon demultiplexing and parsing the transport stream carrying one or more media content instances signal processing system outputs to DRAM ancillary data in the form of a table or data structure not shown comprising the relative or absolute location of the beginning of certain pictures in the compressed media content instance for convenience in retrieval during future operations.

In another embodiment according to a plurality of tuners and respective number of demodulating systems demultiplexing systems and signal processing systems a respective number of broadcast digital media content instances are received and routed to the hard disk of storage device simultaneously. Alternatively a single demodulating system a single demultiplexing system and a single signal processing system each with sufficient processing capabilities can serve to process more than one digital media content instance.

In another embodiment according to the aforementioned description a first tuner of tuning system receives an analog video signal corresponding to a first media content instance and a second tuner simultaneously receives a digital compressed stream corresponding to a second media content instance. First media content instance is processed as an analog video signal and second media content instance is processed as a digital compressed stream as described above.

In one implementation compression engine can output formatted MPEG 2 or MPEG 1 packetized elementary streams PES inside a transport stream all compliant to the syntax and semantics of the ISO MPEG 2 standard. Alternatively compression engine can output other digital formats that are compliant to other standards. The digital compressed streams output by compression engine corresponding to a first media content instance are deposited in local memory for compression engine and routed to demultiplexing system . Demultiplexing system parses i.e. reads and interprets the transport stream generated by compression engine without disturbing its content such as to interpret picture headers and deposits the transport stream into DRAM . Processor causes transport stream in DRAM to be transferred to the storage device . While parsing the transport stream demultiplexing system outputs to memory ancillary data in the form of a table or data structure not shown comprising the relative or absolute location of the beginning of certain pictures in the compressed media content stream for the first media content instance for convenience in retrieval during future operations. In this way random access operations such as fast forward rewind and jumping to a location in the compressed media content instance can be attained.

In another embodiment according to a plurality of tuners a respective number of analog video decoders and a respective number of compression engines the aforementioned compression of analog video and audio is performed and routed to hard disk of the storage device simultaneously for a respective number of analog media content instances. Alternatively a single compression engine with sufficient processing capabilities can serve to compress more than one analog media content instance.

The DHCT may also include one or more wireless or wired interfaces also called communication ports for receiving and or transmitting data to other devices. For instance the DHCT may feature USB Universal Serial Bus Ethernet for connection to a computer IEEE 1394 for connection to media content devices in an entertainment center serial and or parallel ports. The user inputs may be for example provided by an input device including a computer or transmitter with buttons or keys located either on the exterior of the terminal or by a hand held remote control device or keyboard that includes user actuated buttons.

In one implementation the DHCT includes system memory which includes FLASH memory and dynamic random access memory DRAM for storing various applications modules and data for execution and use by the processor . Basic functionality of the DHCT is provided by an operating system that is primarily stored in FLASH memory . Among other elements the operating system includes at least one resource manager that provides an interface to resources of the DHCT such as for example computing resources. Also included within operating system is one or more device drivers that provides operating instructions to an internal or external storage device such as storage device and peripheral devices not shown. For example device driver provides operating instructions to the storage device controller of the storage device to effect among other functions read and or write operations to the hard disk of the storage device .

One or more programmed software applications herein referred to as applications or application clients are executed by utilizing the computing resources in the DHCT . The applications may be resident in FLASH memory or downloaded into DRAM . Applications stored in FLASH memory or DRAM are executed by processor e.g. a central processing unit or digital signal processor under the auspices of the operating system . Data required as input by an application is stored in DRAM or FLASH memory and read by processor as need be during the course of the application s execution. Input data may be data stored in DRAM by a secondary application or other source either internal or external to the DHCT or possibly anticipated by the application and thus created with the application at the time it was generated as a software application in which case it is stored in FLASH memory . Data generated by an application is stored in DRAM by processor during the course of the application s execution. DRAM also includes application memory that various applications may use for storing and or retrieving data.

An application referred to as navigator is also resident in FLASH memory for providing a navigation framework for services provided by the DHCT . The navigator registers for and in some cases reserves certain user inputs related to navigational keys such as channel increment decrement last channel favorite channel etc. The navigator also provides users with television related menu options that correspond to DHCT functions such as for example blocking a channel or a group of channels from being displayed in a channel menu.

The FLASH memory also contains a platform library . The platform library is a collection of utilities useful to applications such as a timer manager a compression manager a configuration manager an HTML parser a database manager a widget toolkit a string manager and other utilities not shown . These utilities are accessed by applications via application programming interfaces APIs as necessary so that each application does not have to contain these utilities. Two components of the platform library that are shown in are a window manager and a service application manager SAM client .

The window manager provides a mechanism for implementing the sharing of the screen regions and user input. The window manager on the DHCT is responsible for as directed by one or more applications implementing the creation display and de allocation of the limited DHCT screen resources. It allows multiple applications to share the screen by assigning ownership of screen regions or windows. The window manager also maintains among other things a user input registry in DRAM so that when a user enters a key or a command via the remote control device or another input device such as a keyboard or mouse the user input registry is accessed to determine which of various applications running on the DHCT should receive data corresponding to the input key and in which order. As an application is executed it registers a request to receive certain user input keys or commands. When the user presses a key corresponding to one of the commands on the remote control device the command is received by the receiver and relayed to the processor . The processor dispatches the event to the operating system where it is forwarded to the window manager which ultimately accesses the user input registry and routes data corresponding to the incoming command to the appropriate application.

The SAM client is a client component of a client server pair of components with the server component not shown being located on the headend preferably in the control system . A SAM database i.e. structured data such as a database or data structure in DRAM includes a data structure of services and a data structure of channels that are created and updated by the headend . Herein database will refer to a database structured data or other data structures as is well known to those of ordinary skill in the art. Many services can be defined using the same application component with different parameters. Examples of services include without limitation and in accordance with one implementation presenting television programs available through a WatchTV application pay per view events available through a PPV application digital music not shown media on demand available through an MOD application and an interactive program guide IPG . In general the identification of a service includes the identification of an executable application that provides the service along with a set of application dependent parameters that indicate to the application the service to be provided. As a non limiting example a service of presenting a television program i.e. media content instance could be executed by WatchTV application with a set of parameters specifying the HBO to view HBO or with a separate set of parameters to view CNN. Each association of the application component tune video and one parameter component HBO or CNN represents a particular service that has a unique service I.D. The SAM client also interfaces with the resource manager as discussed below to control resources of the DHCT .

Application clients can also be downloaded into DRAM at the request of the SAM client typically in response to a request by the user or in response to a message from the headend . In this example DRAM includes a media on demand application MOD an e mail application PVR application and a web browser application . It should be clear to one with ordinary skill in the art that these applications are not limiting and merely serve as examples for this present embodiment of the invention. Furthermore one or more DRAM based applications may be resident as an alternative embodiment in FLASH memory . These applications and others provided by the subscriber television system operator are top level software entities on the network for providing services to the user.

In one implementation applications executing on the DHCT work with the navigator by abiding by several guidelines. First an application utilizes the SAM client for the provision activation and suspension of services. Second an application shares DHCT resources with other applications and abides by the resource management policies of the SAM client the operating system and the DHCT . Third an application handles situations where resources are only available with navigator intervention. Fourth when an application loses service authorization while providing a service the application suspends the service via the SAM the navigator will reactivate an individual service application when it later becomes authorized . Finally an application client or application is designed to not have access to certain user input keys reserved by the navigator i.e. power channel volume etc. .

The MOD client application provides the user with lists of available media content titles for each media content instance to choose from and with media content instances requested by the user. The MOD client application provides media content instances to the user by engaging preferably in a direct two way IP Internet Protocol connection with VOD content servers not shown that would be located in one embodiment in the headend .

An executable program or algorithm corresponding to an operating system OS component or to a client platform component or to an application client or to respective parts thereof can reside in and execute out of DRAM and or FLASH memory . Likewise data input into or output from any executable program can reside in DRAM or FLASH memory . Furthermore an executable program or algorithm corresponding to an operating system component or to a client platform component or to an application client or to respective parts thereof can reside in FLASH memory or in a local storage device such as storage device connected to DHCT and be transferred into DRAM for execution. Likewise data input for an executable program can reside in FLASH memory or a storage device and be transferred into DRAM for use by an executable program or algorithm. In addition data output by an executable program can be written into DRAM by an executable program or algorithm and be transferred into FLASH memory or into a storage device. In other embodiments the executable code is not transferred but instead functionality is effected by other mechanisms.

The DHCT includes at least one storage device to provide storage for downloaded media content. PVR application described in greater detail below in cooperation with the operating system and the device driver effects among other functions read and or write operations to the storage device . Herein references to write and or read operations to the storage device will be understood to mean operations to the medium or media of the storage device unless indicated otherwise. The device driver is a software module preferably resident in the operating system . The device driver under management of the operating system communicates with the storage device controller to provide the operating instructions for the storage device . As conventional device drivers and device controllers are well known to those of ordinary skill in the art further discussion of the detailed working of each will not be described further here. Storage device is preferably internal to DHCT coupled to a common bus through a communication interface preferably an integrated drive electronics IDE or small computer system interface SCSI although IEEE 1394 or USB among others can be used. Alternatively the storage device can be externally connected to and thus removable from the DHCT via a communication port implemented as IEEE 1394 or USB or as a data interface port such as a SCSI or an IDE interface. In one implementation under the auspices of the real time operating system executed by processor and in coordination with the PVR application client transmitted media content herein understood to also refer to other types of data in addition to or instead of media content instances are received in DHCT via communications interface and stored in a temporary cache not shown in memory . The temporary cache is implemented and managed to enable media content transfers from the temporary cache to storage device or in concert with the insertion of a newly arriving media content into the temporary cache. In one implementation the fast access time and high data transfer rate characteristics of the storage device enable media content to be read from the temporary cache in memory and written to storage device in a sufficiently fast manner. Orchestration of multiple simultaneous data transfer operations is effected so that while media content is being transferred from the cache in memory to storage device new media content is received and stored in the temporary cache of memory .

Processor in communication generally with device driver and storage device controller and demultiplexing system effect retrieval of compressed video streams compressed audio streams and data streams corresponding to one or more media content instances from storage device . Retrieved streams are deposited in an output cache in storage device and transferred to memory and then processed for playback according to mechanisms that would be understood by those having ordinary skill in the art. In some embodiments the media content instances are retrieved and routed from the hard disk to the digital video decoder and digital audio decoder simultaneously and then further processed for eventual presentation on a display device or other device.

Storage device can be an optical storage device or a magnetic storage device among others and is preferably a hard disk drive. Storage device comprises storage for media content that can be written to for storage and later read from for retrieval for presentation. The storage device preferably includes at least one hard disk and a controller which receives operating instructions from the device driver and implements those instructions to cause read and or write operations to the hard disk . The operating system in cooperation with the device driver communicates with the storage device controller to format the hard disk causing the hard disk to be divided radially into sectors and concentric circles called tracks as illustrated by the block diagram illustration of the example hard disk in . Note from that the same number of sectors per track are illustrated but other embodiments with a different number of tracks per side or sectors per track or bytes per track in different zones of tracks are within the scope of the preferred embodiments of the invention. The sector is the basic unit of storage on the hard disk . In one implementation each sector of a hard disk can store 512 bytes of user data. While data is stored in 512 byte sectors on the hard disk the cluster such as example cluster is the minimum unit of data storage the operating system uses to manage the storage of information. Two or more sectors on a single track make up a cluster.

In a addition to formatting the operating system device driver and controller cooperate to create a special file in one of the hard disk sectors called a file allocation table FAT such as the example FAT illustrated in . Note that the FAT shown in includes a partial view showing a few rows and columns of information. The FAT is where the operating system stores the information about the hard disk clusters and the files associated with those clusters. The operating system can determine where a file s data is located by using the directory entry for the file and file allocation table FAT entries. The directory entry gives information about a directory such as its related files and subdirectories and create time and special permissions. A FAT entry describes the physical locations of data for a media content instance file i.e. the file the media content instance is written to on the hard disk . Similarly the FAT also keeps track of which clusters are free or open and thus available for use. When the PVR application creates or extends a media content instance file the operating system in cooperation with the device driver queries the FAT for an available cluster to begin writing the media content instance. For a non limiting example to buffer a downloaded media content instance into the storage device the PVR application creates a media content instance file and media content instance file name for the media content instance to be downloaded. The operating system in cooperation with the device driver checks the FAT for an available or writeable cluster to write the media content instance to such as cluster as indicated in block of the FAT . From the FAT the operating system also determines that cluster is comprised of sectors and as indicated from block from the FAT on track block . The PVR application effects the device driver through communication with the operating system to cause the controller to write the downloaded media content instance to cluster under a particular media content instance file name. The FAT is then updated with the new media content instance file name corresponding to cluster . If the media content instance requires more data space than what cluster can offer the operating system queries the FAT for the location of another available cluster to continue writing the media content instance to hard disk space. Upon finding another cluster the FAT is updated block to keep track of which clusters are linked to store a particular media content instance under the given media content instance file name.

When more than one cluster is required to write data to hard disk the clusters corresponding to one particular media content instance file may or may not be adjacent or contiguous clusters. The clusters corresponding to a particular media content instance file can be fragmented throughout the hard disk space. As described earlier a file allocation table FAT keeps track of which clusters are employed to write a downloaded media content instance to the hard disk . Further systems well known to those of ordinary skill in the art such as defragmentators can be employed to cause the clusters associated with a particular media content instance file to be contiguous. This process of writing the media content instance to the hard disk under the given media content instance file name continues until the PVR application determines that it is time to stop and close the file. The PVR application makes this determination as to the stop time of a downloaded media content instance i.e. when a particular show is over in one embodiment based on media content instance guide data the PVR application stores in an associated management file as will be explained in further detail below. When the PVR application receives and stores the media content instance guide data the PVR application sets up a timer interrupt or in other embodiments polls the operating system with the operating system . The operating system in coordination with a real time clock not shown within the DHCT alerts the PVR application to the end of the received media content instance. Read operations from the hard disk similarly employ the FAT with cooperation among the PVR application operating system and device driver . When media content instance files are deleted through the PVR application the operating system causes the device driver to flag this new status in the FAT by flagging the clusters for that deleted media content instance file as available or writeable . The flagging may be implemented by a symbol in the file entry directory for the targeted media content instance file. Clusters for temporarily buffered media content instance files and permanently recorded media content instance files corresponding to recorded media content instances in the TSB and permanently recorded space respectively will have corresponding media content instance file names in the FAT. In contrast available clusters on the hard disk will have some flag or indication in the corresponding FAT entry to signal to the device driver and operating system that such clusters are write able e.g. available for designation as clusters to be used for buffering or permanent recording .

The PVR application provides for media content recording functionality by enabling the temporary writing to and if requested more permanent recording to the storage device . Through mechanisms explained below media content received into the TSB will have a temporary recording designation. That is media content stored in clusters of the TSB will have a temporary residence. This receiving of media content into the TSB for temporary residence will also be referred to as buffering. The media content stored in the TSB will either be deleted i.e. its associated management file record will be deleted and the clusters storing the media content will be configured as writeable for eventual write operations that overwrite the media content within those clusters or retained through election by the user as a permanent recording. A permanent recording will be understood to mean media content that is stored for an extended period of time as decided by the user. Permanent recordings are stored in non buffer clusters i.e. not in clusters of the TSB that are not used for the TSB in instances when the user elects in advance to make a scheduled recording of a media content instance that has not yet been tuned to at the DHCT . A permanent recording can also be achieved by selecting a media content instance stored in the TSB and designating the media content instance as permanent. As will be described below this designation can occur in one implementation by selecting the desired content via a user interface screen. The PVR application responds by flagging the associated management file as permanent. This designation for the desired media content instance is relayed to the device driver and or operating system which effects the removal of the associated clusters from the TSB . Thus permanent recordings will preferably be more permanent than media content in the TSB and permanent recordings can eventually be deleted from the disk space typically at the explicit request of a user as one example. This deletion occurs in one implementation by configuring the associated non buffer clusters as writeable and thus eventually available for the TSB or scheduled recordings.

Media content may be transmitted or downloaded from a remote location such as for example a remote server located in the head end or from a home communication network or from other consumer electronic devices. In accordance with the preferred embodiment the PVR application manages buffer space or a time shift buffer TSB of downloaded media content instances or programs content and or data at the application level for each tuner. Hence each tuner in tuner system has a respective TSB . Note that buffering is understood to mean temporarily receiving media content resulting either from reception of a broadcast digital channel or a digital compressed version of a broadcast analog channel and or data into the buffer space or TSB of the storage device . In one embodiment buffering for a digital compressed video program or media content instance results from a sourced video program instance and its associated audio signal that originated as an analog video signal received in DHCT as a broadcast TV program instance received via network communication interface . Such analog video signals are compressed into digital form by the encoder or other digitizing hardware or software in DHCT as explained above.

In another embodiment buffering for a digital compressed video program instance i.e. media content instance results from a sourced video program instance and its associated audio signal that originated as an analog video signal received in DHCT via analog audio and video connectors not shown in DHCT such as an S Video input or composite video input and originating from a consumer electronic device such as an analog video camcorder.

In another embodiment buffering for a digital compressed video program instance results from a sourced video program instance and its associated audio signal that originated as a broadcast digital TV program instance received in DHCT via network communication interface .

In another embodiment buffering for a digital compressed video program instance results from a sourced video program instance and its associated audio signal that originated as an on demand digital video program instance received in DHCT via network communication interface wherein such digital video program instance resided in a server at headend .

In another embodiment buffering for a digital compressed video program instance results from a sourced video program instance and its associated audio signal that originated as a digital video program instance received in DHCT via a digital video interface or a home network interface such as USB IEEE 1394 or Ethernet wherein such digital video program instance resided in storage in a personal computer or a digital consumer electronic device such as a digital video camcorder.

In another embodiment buffering for a digital compressed video program instance results from a sourced video program instance and its associated audio signal that originated as a digital video program instance received in DHCT via a digital video interface or a communication interface such as IDE SCSI USB IEEE 1394 or Ethernet wherein such digital video program instance resided in a storage device externally connected to DHCT such as a DVD player or an internal or external storage device.

There is a duration associated with the TSB which represents how much data is held by the TSB . This duration could represent in one embodiment actual media content instance time. The PVR application in a time duration embodiment will preferably maintain a substantially constant buffer space capacity suitable for a certain duration of media content instance time for example 3 4 hours worth of media content instances. Media content instance time tracking is related to hard disk space tracking if a constant data rate or buffering rate is assumed or estimated. In a preferred embodiment the duration of the TSB represents hard disk space. The PVR application can set a buffer size capacity for example 3 gigabytes GB and then track disk space used for the TSB to ensure a substantially constant TSB capacity. For example before the PVR application effects a write to the storage device it can query the device driver through the operating system to determine the available hard disk space. After the write operation the PVR application again can poll the device driver to get an update on available hard disk space. As will be evident in the description below the TSB preferably comprises a plurality of clusters the number of which is normally less than the capacity of the TSB due to the continual management of the TSB through the deletion and replacement of media content instances. The variation of the amount of clusters in the TSB at any time will preferably represent a small percentage of the TSB capacity resulting in a substantially constant size TSB over time.

The PVR application preferably maintains the TSB by creating a management file associated with each tuned media content instance. The PVR application knows at what time the media content instance was tuned into from the recording of a real time clock value forwarded by the operating system . The PVR application also receives media content instance guide data for example from an IPG application that receives updated media content instance information from the head end and that provides start and end times i.e. duration of each media content instance. With this information and an internal clock not shown the PVR application can create a list of management files associated with each buffered media content instance and store the duration and start time of each media content instance in memory in order to keep track of the media content instances stored in the storage device . In other embodiments the management files can be stored on the hard disk .

In this example eight media content instances or programs were written to the hard disk until the TSB capacity of 3 GB was reached. TSB is illustrated as broken down into eight triangular pie portions each portion depicting one or more clusters such as first cluster group wherein the clusters are used for storing a downloaded media content instances. Each media content instance is represented by a management file created and stored by the PVR application . Thus first cluster group comprises segments holding data corresponding to a first buffered media content instance. Thus TSB is illustrated here with 8 buffered audio video A V media content instances as depicted by the 8 pie portions. The media content instances written to the TSB are represented as a group of contiguous cluster groups apportioned from the free or available space . The writing of the media content instances to the hard disk have resulted in a reduction of available free space in the amount of 3 GB resulting in 37 GB 40 3 of free space . Although shown as contiguous groups of clusters it is understood and well known to those of ordinary skill in the art that a downloaded media content instance can be stored in one or more clusters that are scattered or fragmented throughout the available hard disk space as described earlier. The TSB is not necessarily a pre designated physically bounded area of the hard disk space but instead represents temporarily un writeable hard disk space in this example equating to 3 GB as provided for by the PVR application . Alternatively the hard disk space may be physically divided into free space and buffer space or alternatively free space buffer space and relatively permanently recorded space. When a new media content instance starts or when the display channel is changed via selection by a viewer using a remote control as one example a management file and media content instance file are created by the PVR application as described above. The PVR application causes the media content instance to be written into the available hard disk space under the media content instance file name provided by the PVR application . In one implementation the PVR application will generate a unique file name for every media content instance that may or may not be based on the name of the media content instance. In the case of being named for the media content instance the file name can also comprise in addition to the information provided for by the avFileData structure of the display channel number the source of the media content instance or any combination of this information or more. The PVR application also tracks the incoming deleted and permanently recorded media content instances in order to add and discard media content instances from the TSB to maintain the TSB capacity as substantially constant. The media content instance file name associated with the downloaded media content instance is entered into the FAT table enabling the PVR application to identify a downloaded media content instance with a corresponding file name.

The TSB is dynamic and acts as a carousel in that the clusters storing the oldest media content instances are made writeable and hence removable to make room for replacement clusters for storing new media content instances while maintaining the capacity of the TSB substantially constant. Thus media content instances have a temporary residence in the TSB . For example cluster group stores the first media content instance received into the TSB . Assume that the TSB the capacity of which is provisioned for by PVR application is at or near capacity. Either by channel change or new media content instance start a cluster group is required to receive the new media content instance into the TSB . At the application level as described earlier the PVR application deletes the earliest temporarily management file corresponding to the earliest buffered media content instance and creates a new management file for the next downloaded media content instance. At a lower level of abstraction the PVR application communicates to the operating system as described earlier which media content instance file name in the FAT to make available or write able. The FAT is updated by the operating system to configure the cluster group corresponding to that media content instance file name as available or write able and communicates this information to the device driver . The device driver can cause the driver controller to effect the next write operation over any available clusters in the hard disk space including one or more of the clusters of cluster group . This process is dynamic wherein the PVR application causes the earliest media content instance temporarily stored in the TSB to be write able i.e. its clusters writeable to make room for a new downloaded media content instance while maintaining a substantially constant TSB capacity. If the newly downloaded media content instance eventually required more clusters than were made available by the deletion of the earliest temporary media content instance file the PVR application would delete the next earliest temporary media content instance file and the corresponding clusters would be made available for eventual writing operations. There are at least two additional considerations regarding the aforementioned scheme. The first consideration is for media content instances that the user requests to be permanently recorded as scheduled permanent recordings. This user request can be explicit or implicit based on viewing habits. For example a scheduled permanent recording can be effected by the user selecting a desired media content instance or one or more types of media content from a list on a screen display. The type of media content e.g. westerns comedies action etc can be presented to the user for selection or user configurable without a pre configured list and then a preference filter can seek and effect the receipt of such content for contemporaneous and or later viewing. A preference filter can also be employed that tracks the viewing habits of one or more users and autonomously selects for scheduled permanent recordings media content instances that match the type of media content or the specific media content instance for example a particular show the user has historically viewed. The second consideration is for permanent recordings made out of the TSB . In some embodiments the preference filter discussed in relation to scheduled permanent recordings can also be employed to select media content from the TSB that match user preferences for automatic or user confirmed permanent recordings from the TSB .

As described earlier the user preferably permanently records from the TSB by recording a currently viewed media content instance in real time or returning to any part of a media content instance in the TSB and selecting record from a remote device or alternatively from selecting record on the DHCT . An example remote control device to provide input to the DHCT is illustrated in . Rewind and fast forward buttons enable a user to access buffered media content instances in the TSB . Record button enables the user to permanently record any media content instance buffered into the TSB as described below. Pause button enables the user to pause a media content instance or pause during a search for a particular media content instance. Playback enables the playback of a media content instance. A B and C buttons can correspond to certain application defined functions that have a corresponding A B or C symbol displayed on the user interface. List button is used to invoke various PVR application user interface screens as described below. Many alternative methods of providing user input may be used including a remote control device with different buttons and or button layouts a keyboard device a voice activated device etc. The embodiments of the present invention described herein is not limited by the type of device used to provide user input.

The PVR application provides several different user interfaces that provide the user with easy to follow and informative information about the media content instances written to or about to be written to the hard disk . As described above the user can schedule a permanent recording in advance or select record on the remote control device among other mechanisms to initiate permanent recordings from the TSB i.e. manual permanent recordings . When a user decides to permanently record e.g. from an IPG grid for future permanent recordings or directly from the TSB a sequence of events occurs before the permanent recording takes place. These events include operations within the DHCT and or in cooperation with the headend . These events include among others checks to ensure the user is authorized to receive the media content instance of interest and checks to detect and resolve permanent recording scheduling conflicts. If the user is authorized and scheduling conflicts are resolved the hard disk can be checked for enough space to permanently record the entire media content instance. For example is an example screen display barker that is overlaid on a currently viewed media content instance not shown after the permanent recording sequence has begun for a scheduled permanent recording. The example screen display barker is prompted when there is not enough space for a single episode. As noted by the available free space line there is only 14 minutes of free space available for the user to permanently record to. This 14 minutes does not include the disk space reserved for the TSB . This 14 minute calculation is determined like all other free space indications. First the PVR application reserves disk space for the TSB and then accounts for that value before providing an available free space amount. For example if a 40 GB hard disk is used and 10 GB was reserved by the PVR application for the TSB 10 GB is subtracted from the total available disk space to determine the available free space for permanent recordings. All permanent recording space indications i.e. available free space on a displayed screen will start with in this example 30 GB 40 10 regardless of whether there is content in the TSB or not. The user is thus presented with a consistent free space indication or rather an available free space indication that is independent of the TSB and unaffected by media content downloaded into the TSB. As illustrated in the user is presented with a series of options in order to resolve this full hard disk situation. Note that the available free space indication for is presented as a time display e.g. hours and minutes . All of the displays herein present an estimated time available for permanent recordings based on the amount of disk space available after the TSB is accounted for at a defined average bit rate. The PVR application provides for a default value for the bit rate which equates to the average bit rate for most media content instances. In other embodiments the bit rate can be estimated and in other embodiments the PVR application can use the combination of a default value and an estimated value based on monitoring the disk space consumed for downloaded media content. Still in other embodiments the user can be presented with a screen display that configures the bit rate based on a selectable list of quality settings e.g. low medium or high quality settings that the PVR application can adjust to.

Once the permanent recording sequence is put into effect the user can maintain the hard disk space through various screen displays. is a screen diagram of an example recorded program media content instance list screen display in accordance with one embodiment. In the example display of no scheduled or manually permanently recorded media content instances are listed. The user can also reach the recorded programs list screen by selecting the List button on the remote control device among other mechanisms for reaching this screen. Note however that the user is presented with an available free space line that indicates to the user how much hard disk free space is available. As the user schedules permanent recordings or permanently records from the TSB the time listed in the available free space line decreases reflecting the usage of available hard disk free space for the permanent recordings. As noted the user can press the remote button C corresponding to the lettered symbol C shown at the bottom of the screen display in order to view a list of all scheduled permanent recordings on the hard disk . Also the user can select the B button on the remote control device for learning about media content instance options.

The PVR application provides a user interface that assists the user in navigating to and between buffered media content instances. Specifically the user interface provides a display of the user s current position in a buffered media content instance e.g. TV program or show relative to the currently viewed time shifted media content instance. The currently viewed time shifted media content instance length is represented by a progress bar displayed on the bottom of the screen. Thus the progress bar indicates the media content instance time boundaries and is labeled with the media content instance information as will be described below. are screen diagrams that illustrate an example user interface screen display that can be presented on for example a television or other display device. These example screen displays depict a progression through three media content instances of a TSB including a short rewind between the beginning of one media content instance and the end of the media content instance before it. During rewind of the TSB one or more media content instances may be available for playback or permanent recording depending on the length of time the channel was tuned. is an example screen display of the most recent media content instance after rewinding 16 minutes and then pausing. A pause banner and progress bar are overlaid on top of a display of a media content instance. The media content instance display area is depicted as closely hashed lines . Pause banner includes pause icon and time status indicating the location in the buffered media content instance. Current time indicates the current time of day. Title portion indicates the title of the buffered media content instance associated with the current progress bar . The progress bar shows progression in terms of buffer space through a media content instance as the viewer moves or navigates through it. Although depicted as a media content instance specific indicator other embodiments are contemplated including but not limited to indicators of the entire time shift buffer capacity. Media content instance time indicates the scheduled media content instance start and end time. Bar arrow represents that there are more buffered media content instances available. The bar arrow suggests that these other buffered media content instances can be accessed by for example rewinding to them. First portion depicted with hash lines indicates the amount of the current media content instance that is buffered i.e. written to the TSB . Thus first portion provides the user with an indication as to what portion of the current media content instance is available for rewinding and fast forwarding. Second portion indicated with reverse hash lines indicates that the media content instance is not over as indicated also by the current time in the media content instance i.e. 9 58 pm . For example the user has rewound for 16 minutes. From the current time that places the status arrow at 9 58 minus 16 minutes or at 9 42 within the buffered media content instance Spin City which is reflected by time status . In other words if the user had entered into the room at 9 42 the screen display would show the same media content instance snap shot as it does now. If the user wants to permanently record the user preferably selects the record button on the remote device .

The next example screen display as depicted in is of a display of a media content instance buffered into the TSB before the most recent one and after rewinding it 30 minutes or the whole media content instance length. As noted by title portion and status arrow and time status the user has rewound to approximately the beginning of The Drew Carey Show. The first portion indicates that the entire show was buffered into the TSB . Bar arrows on each end of the progress bar suggest to the user that there are buffered media content instances accessible before and after The Drew Carey Show. Note current time of 10 32 PM further illustrating the ability of the PVR application to access and permanently record buffered media content instances. To permanently record the user preferably selects the record button on the remote control device at any point within the Drew Carey Show. Alternatively the user can select the record button while the media content instance is paused.

The next example screen display depicted in is of the display of a media content instance just before the media content instance display shown in . No rewinding of this media content instance has occurred yet as indicated by status arrow and the time status . As noted by the title portion this buffered media content instance is Who Wants To Be A Millionaire. Note that the progress bar shows only one bar arrow on the right hand side illustrating the fact that there are no other media content instances buffered in the TSB before Who Wants To Be A Millionaire. Also note that unavailable portion indicates the amount of the media content instance that is unavailable to permanently record or view. It would be unavailable for example if the channel with this media content instance were not tuned during this time. Again to permanently record the user preferably selects the record button on the remote control device during any point in Who Wants To Be A Millionaire.

As an alternative to rewinding to the media content instance in the TSB desired for permanent recording a user interface screen may be presented that lists the media content instances currently in the TSB with a mechanism to select which of these media content instances the user desires to permanently record i.e. make permanent not part of the TSB . The list of media content instances can be ascertained from the media content instance guide data.

The PVR application may be implemented to manage and maintain a substantially constant buffer space capacity and in a large enough buffer space a substantially constant buffer space in the storage device or in any memory type device such as RAM DRAM or related memory. Further the scope of the preferred embodiment is not meant to be limited to downloads of content through cache transfers between the storage device and system memory but may include direct downloads to system memory alone or to the storage device alone.

The PVR application can be implemented in hardware software firmware or a combination thereof. In the preferred embodiment s the PVR application is implemented in software or firmware that is stored in a memory and that is executed by a suitable instruction execution system. If implemented in hardware as in an alternative embodiment the PVR application may be implemented with any or a combination of the following technologies which are all well known in the art a discrete logic circuit s having logic gates for implementing logic functions upon data signals an application specific integrated circuit ASIC having appropriate combinational logic gates a programmable gate array s PGA a field programmable gate array FPGA etc.

The PVR application which comprises an ordered listing of executable instructions for implementing logical functions can be embodied in any computer readable medium for use by or in connection with an instruction execution system apparatus or device such as a computer based system processor containing system or other system that can fetch the instructions from the instruction execution system apparatus or device and execute the instructions. In the context of this document a computer readable medium can be any means that can contain store communicate propagate or transport the program for use by or in connection with the instruction execution system apparatus or device. The computer readable medium can be for example but not limited to an electronic magnetic optical electromagnetic infrared or semiconductor system apparatus device or propagation medium. More specific examples a nonexhaustive list of the computer readable medium would include the following an electrical connection electronic having one or more wires a portable computer diskette magnetic a random access memory RAM electronic a read only memory ROM electronic an erasable programmable read only memory EPROM or Flash memory electronic an optical fiber optical and a portable compact disc read only memory CDROM optical . Note that the computer readable medium could even be paper or another suitable medium upon which the program is printed as the program can be electronically captured via for instance optical scanning of the paper or other medium then compiled interpreted or otherwise processed in a suitable manner if necessary and then stored in a computer memory.

It should be emphasized that the above described embodiments of the present invention particularly any preferred embodiments are merely possible examples of implementations merely setting forth a clear understanding of the principles of the inventions. Many variations and modifications may be made to the above described embodiments of the invention without departing substantially from the spirit of the principles of the invention. All such modifications and variations are intended to be included herein within the scope of the disclosure and present invention and protected by the following.

