---

title: Background noise reduction system
abstract: A noise reduction system includes a microphone configured to detect an acoustic signal. A first digitizer converts an output of the microphone into a discrete output signal. An acoustic sensor detects structure-borne noise, and a second digitizer converts an output of the acoustic sensor into a discrete acoustic noise reference signal. A noise compensation circuit processes the discrete output signal based on the discrete acoustic noise reference signal.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=07930175&OS=07930175&RS=07930175
owner: Nuance Communications, Inc.
number: 07930175
owner_city: Burlington
owner_country: US
publication_date: 20070625
---
This application claims the benefit of priority from European Patent Application No. 06 014256.9 filed Jul. 10 2006 which is incorporated by reference.

This disclosure relates to noise reduction. In particular this disclosure relates to reduction of background noise in a hands free vehicle communication system.

The voice quality of vehicle communication systems such as wireless telephone systems may be degraded by background noise. Spectral subtraction circuits have been used to reduce noise but are limited to processing stationary noise perturbations and positive signal to noise distances.

Microphone arrays and fixed beamforming techniques have also been used to improve the quality of transmitted speech. However use of multiple microphones or microphone arrays may be limited by spatial restrictions and cost considerations. To reduce broadband noise a reference signal should be detected close to the source of the primary signal. However additional reference microphones placed near the primary signal source necessarily detect portions of the desired speech signal causing distortion and damping of the audio speech signal.

Existing hands free communication systems in vehicle environments do not provide adequate background noise reduction. Therefore a need exists for a background noise reduction system that reduces background noise in a vehicle environment.

A noise reduction system includes a microphone that detects an acoustic signal. A first digitizer converts an output of the microphone into a discrete output signal. An acoustic sensor detects structure borne noise and a second digitizer converts an output of the acoustic sensor into a discrete acoustic noise reference signal. A noise compensation circuit processes the discrete output signal based on the discrete acoustic noise reference signal to generate a noise compensated digital audio signal.

Other systems methods features and advantages will be or will become apparent to one with skill in the art upon examination of the following figures and detailed description. It is intended that all such additional systems methods features and advantages be included within this description be within the scope of the invention and be protected by the following claims.

A noise compensation filter circuit may receive the digitized microphone output signal and the digitized structure borne noise reference signal . The noise compensation filter circuit may include a linear finite impulse response filter FIR . Alternatively the noise compensation filter circuit may include an infinite impulse response filter IIR . An infinite impulse response filter may be recursive and may have a shorter length number of taps than a finite impulse response filter.

Filter coefficients corresponding to the noise compensation filter circuit may be adapted using a normalized least mean square NLMS process. The coefficients may be calculated by processes described in a publication entitled Acoustic Echo and Noise Control by H nsler and G. Schmidt. The filter adaptation process may be based on other processes such as a recursive least mean squares process and a proportional least mean squares process. Further variations of the adaptation process may be used to ensure that the output of the filter does not diverge.

The filter coefficients may model the transfer function or impulse response of the vehicle passenger compartment or acoustic room in which the microphone is installed. The filter coefficients may be continuously adapted to provide a noise estimate signal representative of the structure borne noise reference signal .

A subtraction circuit may subtract the noise estimate signal from the digitized microphone output signal to obtain a noise compensated signal . A noise suppression filter may further enhance the quality of the noise compensated signal to provide an enhanced noise compensated signal . The noise suppression filter may be a spectral subtraction filter. In some applications the system may include an echo compensating circuit and or and equalizing circuit.

The enhanced noise compensated signal may be transmitted to a remote communication party through a communication device such as through a wireless communication device. The remote communication party may be located outside the vehicle . Alternatively the remote communication party may be a vehicle passenger located within the vehicle so that the front seat passenger and the rear seat passenger may communicate with each other and or the remote communication party .

The vehicle environment may represent an acoustic room which may exhibit audio reverberation. The microphone may detect sound in the form of an acoustic signal. An A D converter may digitize an analog output of the microphone to generate a digitized microphone output signal y n . The argument n denotes a discrete time index. The sampling rate of the A D converter may be selected to capture any desired frequency content. For speech the sampling rate may be approximately 8 kHz to about 22 kHz. The digitized microphone output signal y n may include a digitized speech signal component s n generated by the utterance of the speaker. The digitized microphone output signal y n may also include a digitized noise component n n .

The noise component n n may correspond to a noise source signal n n provided by the acoustic emission sensor . An analog output of the acoustic emission sensor may be digitized by an analog to digital converter . The noise component n n may result from the transfer function or impulse response of the noise source signal n n based on the acoustic properties of the acoustic room. The acoustic emission sensor may receive the noise source signal n n and may generate a digital noise reference signal x n . The transfer function may be approximated by a discrete linear coefficient system h n where h n h . . . h n . The impulse response may be modeled by a compensation filter circuit .

The compensation filter circuit may include a FIR filter or a digital signal processor DSP having a plurality of filter coefficients. The DSP may execute instructions that delay an input signal one or more cycles track frequency components of a signal filter a signal and or attenuate or boost an amplitude of a signal. Alternatively the filter or DSP may be implemented as discrete logic or circuitry a mix of discrete logic and a processor or may be distributed through multiple processors or software programs. The coefficients may be continuously or periodically adapted using a normalized least means squares NLMS process. The filter adaptation process may be based on other processes such as a recursive least mean squares process and a proportional least mean squares process. Further variations of the adaptation process may be used to ensure that the output of the filter does not diverge.

The compensation filter circuit may receive the digitized microphone output signal y n and the digital noise reference signal x n . Noise compensation may be performed in the time domain or in the frequency domain. The digital noise reference signal x n may be correlated with the noise component n n of the digitized microphone output signal y n . The digital noise reference signal x n may be filtered by the FIR filter to obtain a noise estimate signal circumflex over n n .

A Fast Fourier Transformation FFT process may be used. The digital noise reference signal x n may be smoothed in the time domain and or the frequency domain.

The filter coefficients of the FIR filter may adapt so that the noise estimate signal circumflex over n n approximates the noise component n n of the digitized microphone output signal y n . The noise estimate signal circumflex over n n may be estimated according to the following equation 

The digital noise reference signal x n obtained from the acoustic emission sensor may provide an estimate of the perturbation component of the audio signal. The estimated perturbation component may be subtracted from the digitized microphone output signal y n to increase the signal to noise ratio. The intelligibility of speech signals may be enhanced because non vocal perturbations are subtracted from the digitized microphone output signal.

Each acoustic emission sensor may be a vibration sensor adapted to detect rapid linear movements such as the structure borne noise. The acoustic emission sensor may detect vibrations in a low frequency range up to about several hundred Hertz. The acoustic emission sensor may be made of a plastic film such as polyvinylidene fluoride or may be made of a piezo ceramic material or active fiber composite elements to detect structure borne noise such as impact sound. The acoustic emission sensor may include a sensing pin in contact with a surface of a body such as an engine component. The sensing pin may be resiliently urged against the surface of the body. A sound wave traveling through the body may generate a voltage potential via the sensing pin. The voltage potential may be processed to obtain the digital reference noise signal.

The acoustic emission sensor may detect noise. The digital noise reference signal x n generated by the acoustic emission sensor may be substantially free of speech signal components even when positioned close to the microphone used by a speaker.

The reference microphone may detect noise and may be sensitive in the frequency range below about 200 Hz. The reference microphone may not be sensitive to noise in a range from about 200 Hz to about 3500 Hz which may correspond to a portion of the intelligible speech signals. An A D converter may digitize the analog output of the reference microphone to generate a discrete reference microphone noise signal

A correlation circuit may receive the digitized reference microphone noise signal from the reference microphone . The correlation circuit may separately receive a discrete output provided by the A D converter corresponding to the acoustic emission sensor .

The correlation circuit may determine a correlation between the digital microphone signal y n which may contain the speech signal and the noise component and the digitized reference microphone noise signal x n . The correlation circuit may separately determine a correlation between the digital microphone signal y n and the digitized output of the acoustic emission sensor x n . The term x n may represent either of the noise signal sources.

The correlation circuit may calculate the squared magnitude of the coherence of the digital microphone signal y n and the digitized reference microphone noise signal x n according to the following equation 

For two arbitrary signals a n and b n the cross power density spectrum may be represented as A B where A and B are the Fourier spectra of a and b respectively is the frequency coordinate in frequency space and the asterisk denotes the complex conjugate. The coherence may be given by the ratio of the cross power density spectrum and the geometric mean of the auto correlation power density spectra. The squared magnitude of the coherence of a n and b n may be determined according to the equation below 

The coherence may describe the linear functional interdependence between the two signals. If the signals are completely uncorrelated the coherence is about zero. The maximum noise compensation that may be available by linear noise compensation filtering may be defined as 1 C in the frequency domain. This may represent a noise damping of about 10 dB for a coherence of about 0.9.

If the squared magnitude of the coherence value is greater than a predetermined threshold the noise compensation filter circuit may provide the noise estimate signal circumflex over n n using the digitized reference microphone noise signal. If the squared magnitude of the coherence value is less than or equal to the predetermined threshold the noise compensation filter circuit may provide the noise estimate signal circumflex over n n using the digitized output of the acoustic emission sensor . The predetermined threshold value may be about 0.85. An amount of noise damping measured in dB may be proportional to the squared magnitude of the coherence value. The quality of the output of the noise compensation filter circuit may increase as the coherence value increases.

In some applications both the digitized reference microphone noise signal and the digitized output of the acoustic emission sensor s may be buffered and processed. The output of one or more of the acoustic emission sensors may be processed.

The logic circuitry and processing described above may be encoded in a computer readable medium such as a CDROM disk flash memory RAM or ROM an electromagnetic signal or other machine readable medium as instructions for execution by a processor. Alternatively or additionally the logic may be implemented as analog or digital logic using hardware such as one or more integrated circuits including amplifiers adders delays and filters or one or more processors executing amplification adding delaying and filtering instructions or in software in an application programming interface API or in a Dynamic Link Library DLL functions available in a shared memory or defined as local or remote procedure calls or as a combination of hardware and software.

The logic may be represented in e.g. stored on or in a computer readable medium machine readable medium propagated signal medium and or signal bearing medium. The media may comprise any device that contains stores communicates propagates or transports executable instructions for use by or in connection with an instruction executable system apparatus or device. The machine readable medium may selectively be but is not limited to an electronic magnetic optical electromagnetic or infrared signal or a semiconductor system apparatus device or propagation medium. A non exhaustive list of examples of a machine readable medium includes a magnetic or optical disk a volatile memory such as a Random Access Memory RAM a Read Only Memory ROM an Erasable Programmable Read Only Memory i.e. EPROM or Flash memory or an optical fiber. A machine readable medium may also include a tangible medium upon which executable instructions are printed as the logic may be electronically stored as an image or in another format e.g. through an optical scan then compiled and or interpreted or otherwise processed. The processed medium may then be stored in a computer and or machine memory.

The systems may include additional or different logic and may be implemented in many different ways. A controller may be implemented as a microprocessor microcontroller application specific integrated circuit ASIC discrete logic or a combination of other types of circuits or logic. Similarly memories may be DRAM SRAM Flash or other types of memory. Parameters e.g. conditions and thresholds and other data structures may be separately stored and managed may be incorporated into a single memory or database or may be logically and physically organized in many different ways. Programs and instruction sets may be parts of a single program separate programs or distributed across several memories and processors. The systems may be included in a wide variety of electronic devices including a cellular phone a headset a hands free set a speakerphone communication interface or an infotainment system.

While various embodiments of the invention have been described it will be apparent to those of ordinary skill in the art that many more embodiments and implementations are possible within the scope of the invention. Accordingly the invention is not to be restricted except in light of the attached claims and their equivalents.

