---

title: Link-aware throughput acceleration profiles
abstract: An arrangement is provided for exposing TCP/IP profiles to a client application operating in a mobile computing environment where each profile comprises a set of TCP/IP configuration parameters that are mapped to a specific network type. An application programming interface (“API”) enables the client application to propagate configuration parameters in a selected TCP/IP profile to a TCP/IP layer in a communication protocol stack that resides on a mobile device. The TCP/IP configuration parameters are applied to data communications with a remote terminal over a network that is comprised of several links and which typically includes a wireless link.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09219670&OS=09219670&RS=09219670
owner: MICROSOFT TECHNOLOGY LICENSING, LLC
number: 09219670
owner_city: Redmond
owner_country: US
publication_date: 20070205
---
Wireless networks such as GPRS EDGE General Packet Radio Services Enhanced Data rates for GSM Evolution supporting mobile devices typically use a radio link that provides a reliable delivery mechanism for data packets. Such reliable delivery is provided even in the presence of impairments that may occur for example as a result of handoffs across base stations or when a mobile device is moved through a tunnel. The GPRS EDGE radio link ensures the integrity of received data through the implementation of two reliable modes of operation RLC radio link control acknowledged and LLC logical link control acknowledged mode operations. The RLC acknowledged mode is typically used by default to ensure that the data received by from the mobile device is without error. LLC acknowledged mode is typically an optionally utilized feature. This protocol ensures that all LLC frames are received without error by verifying a checksum for each LLC frame. In case the checksum fails the frame is discarded. Unacknowledged packets are then retransmitted and correct receipt of all LLC frames must be acknowledged. Due to impairments RLC segments retransmission is expected which can propagate into delays in assembly of the LLC frames and IP Internet Protocol segments.

At a receiving terminal device TCP IP Transport Control Protocol internet Protocol layer in a communication protocol stack disposed in the terminal requires that all RLC frames in an LLC frame and all LLC frames be received for assembling an IP segment before sending an acknowledgement to the mobile device. As a result of this flow control managed at the TCP IP layers it is possible for assembly delay of an IP segment at the lower RLC LLC layers to cause TCP IP to back off on the transmission data rate and attempt retransmission of packets it believes have been lost. Such slow down of transmission can eventually lead to significant end to end network performance degradation.

This Background is provided to introduce a brief context for the Summary and Detailed Description that follow. This Background is not intended to be an aid in determining the scope of the claimed subject matter nor to be viewed as limiting the claimed subject matter to implementations that solve any or all of the disadvantages or problems presented above.

An arrangement is provided for exposing TCP IP profiles to a client application operating in a mobile computing environment where each profile comprises a set of TCP IP configuration parameters that are mapped to a specific network type. An application programming interface API enables the client application to propagate configuration parameters in a selected TCP IP profile to a TCP IP layer in a communication protocol stack that resides on a mobile device. The TCP IP configuration parameters are applied to data communications with a remote terminal over a network that is comprised of several links and which typically include a wireless link.

In various illustrative examples the TCP IP configuration parameters include values for connection timeout send timeout and receive timeout. The timeout values are each configured to at least be greater than the average propagation delay in the wireless link which reduces the TCP IP connection handshake and retransmission overheads. Data throughput is substantially accelerated using the present TCP IP profiles. In addition client applications may be arranged with link awareness to thereby enhance data transmission performance through the application of a TCP IP profile to the TCP IP layer exposed by the API. A client application may switch network connections and apply a new TCP IP profile to enhance the performance of the new connection. Client applications include for example small footprint databases which run on a mobile device host that occasionally need to synchronize with a remote terminal to send and receive updates or changes or replicate a copy of a remote database on the mobile device.

This Summary is provided to introduce a selection of concepts in a simplified form that are further described below in the Detailed Description. This Summary is not intended to identify key features or essential features of the claimed subject matter nor is it intended to be used as an aid in determining the scope of the claimed subject matter.

TCP IP is one of the most widely used transport protocols for non real time Internet applications like web browsing file transfer and email. It provides a connection oriented end to end service ensuring reliable data transfer. TCP IP implements flow control in the Internet to avoid congestion. This is achieved by various mechanisms including slow start and congestion avoidance that work to achieve as high a data throughput rate as possible but which then back off as soon as congestion occurs.

One application that has influenced protocol refinements is the World Wide Web on the Internet which uses HTTP Hypertext Transfer Protocol running over TCP IP. The wide use of the Web and Internet has emphasized the need to enhance HTTP performance. Persistent connection support recently standardized in HTTP 1.1 allows HTTP to re use a single TCP IP connection across multiple transactions to the same terminal device or server.

The radio link used in wireless mobile data environments suffers from time varying characteristics shadowing interference and relatively high bit error rates which can lead to packet loss and delays resulting in TCP IP timeouts. However the root cause for the loss and delays is not network congestion but rather impairments on the radio link itself. Accordingly the interaction between the protocol layers supporting wireless mobile data transmission for example those used in a GPRS network can negatively interact with the TCP IP layer which supports data communication over the Internet portion of a network.

Turning now to the drawings where like reference numerals indicate like elements is a first illustrative network topology for a wireless mobile data network environment showing a mobile host device a network comprising multiple links and a remote terminal . The mobile host device is representative of the portable electronic devices currently available that support wireless data connectivity. Accordingly mobile host device may be selected from one of mobile phone PDA personal digital assistant smart phone personal computer PC pocket PC laptop computer tablet PC portable media player game console or portable game device as required by a specific application of link aware throughput acceleration profiles.

Network is utilized to provide end to end connectivity between mobile host device and the remote terminal . In this illustrative example remote terminal is a server that is arranged to host a database. Network typically comprises several links. As shown in network includes a wireless mobile data network link and an Internet network link . Mobile host device communicates wirelessly with the mobile data network link through a base station as indicated by arrow .

Wireless mobile data network is arranged using one of a variety of alternative wireless network protocols including for example GPRS EDGE HSDPA High Speed Downlink Packet Access or UMTS Universal Mobile Telecommunications System . In other alternative arrangements a wireless networking protocol conforming to the Institute of Electrical and Electronics Engineers IEEE 802.11 also known as Wi Fi or wireless Ethernet is usable. Traditional wired networking protocols including dial up networking over telephone lines and wired Ethernet may also be used in some applications of link aware throughput acceleration profiles.

A number of client applications are typically hosted by host mobile device including for example communication applications to support voice and data communications email applications web browsers etc. A small footprint database is also supported by the host mobile device that is designed to work in a mobile environment where resources are typically limited.

An application programming interface API is arranged as an intermediary between the applications and the TCP layer A and IP layer B collectively referred to as TCP IP layer . The API exposes TCP IP parameters to the applications . The TCP IP parameters are applied by the TCP IP layer to manage a communication session between the mobile host device and remote terminal over network . In this illustrative example the TCP IP parameters include timeouts including a connect timeout a send timeout and a receive timeout.

The connect timeout value is set or retrieved for example from a library of stored parameter values when an application invokes a method INTERNET OPTION CONNECT TIMEOUT which sets or retrieves an unsigned long integer value that contains the timeout value in milliseconds for Internet connection requests. If the connection request takes longer than this timeout value the request is canceled. When attempting to connect to multiple IP addresses for a single host referred to as a multihomed host that has more than one connection to a network the timeout limit is cumulative for all of the IP addresses.

The send timeout value is set or retrieved when an application invokes a method INTERNET OPTION SEND TIMEOUT or alternatively INTERNET OPTION DATA SEND TIMEOUT or INTERNET OPTION CONTROL SEND TIMEOUT which sets or retrieves an unsigned long integer value in milliseconds that contains the timeout value to send a request. If the send takes longer than this timeout value the send is canceled.

The receive timeout value is set or retrieved when an application invokes a method INTERNET OPTION RECEIVE TIMEOUT or alternatively INTERNET OPTION DATA RECEIVE TIMEOUT or INTERNET OPTION CONTROL RECEIVE TIMEOUT which sets or retrieves an unsigned long integer value that contains the timeout value in milliseconds to receive a response to a request. If the response takes longer than this timeout value the request is canceled.

Table 1 below provides three sets of exemplary timeout values for both an HTTP connection retry timeout and the TCP IP parameters discussed above. Each set of timeout values is mapped to a specific network type including high medium and low bandwidth networks for which examples are given for each type . The values provided in Table 1 have been empirically shown to accelerate data throughput over mobile wireless data networks by as much as 25 35 . The values are generally selected to ensure that the timeouts exceed the average propagation latency for transmission over a wireless network link. However it is emphasized that the specific values selected may be subject to some variability due to conditions and impairments found in a specific link or network. Accordingly an actual optimum value for a particular application of link aware acceleration profiles may lie within a range e.g. 10 of the nominal values shown in Table 1.

As shown in the fourteen curves fall essentially into two groups curves are positioned noticeably above curves and . Curve is specifically indicated in as being positioned somewhat between the upper curves and the remaining curves and in the lower group.

Although the subject matter has been described in language specific to structural features and or methodological acts it is to be understood that the subject matter defined in the appended claims is not necessarily limited to the specific features or acts described above. Rather the specific features and acts described above are disclosed as example forms of implementing the claims.

