---

title: Architecture for MANET over Bluetooth
abstract: A mobile ad hoc network (MANET) device is provided. The device has an architecture comprising a Bluetooth adaptation layer for wireless communication according to a Bluetooth convention, a MANET service layer, a scatternet module, a routing module, and a flow control manager in the MANET service layer. The scatternet module and the routing module are in communication with the MANET service layer. The MANET service layer is independent of the topology protocol of the scatternet module and independent of a routing rules of the routing module.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08625481&OS=08625481&RS=08625481
owner: Samsung Electronics Co., Ltd.
number: 08625481
owner_city: Suwon-si
owner_country: KR
publication_date: 20070608
---
This application claims priority to U.S. Provisional Patent Application No. 60 870 316 entitled Architecture for MANET over Bluetooth filed on Dec. 15 2006 by Niranjan which is incorporated herein by reference for all purposes.

Traditional local area networks LANs typically have a central server that acts as a controller and coordinator for data traffic among the clients in the network. Communication between clients in a traditional LAN typically does not occur directly from one client to another. Instead data might be sent from a client to the server and then from the server to another client. The server might also handle the logging in of clients the synchronization of the activities of the clients and other centralized control functions.

In one embodiment a mobile ad hoc network MANET device is provided. The device has an architecture comprising a Bluetooth adaptation layer for wireless communication according to a Bluetooth convention a MANET service layer a scatternet module a routing module and a flow control manager in the MANET service layer. The scatternet module and the routing module are in communication with the MANET service layer. The MANET service layer is independent of the topology protocol of the scatternet module and independent of a routing rules of the routing module.

In another embodiment a method for MANET over Bluetooth is provided. The method includes providing a Bluetooth adaptation layer for wireless communication according to a Bluetooth standard providing a MANET service layer coupled to communicate with the Bluetooth adaptation layer and providing a scatternet module and a routing module in communication with but independent from the MANET service layer.

In another embodiment a device for establishing a MANET using a Bluetooth communications standard is provided. The device includes a Bluetooth host stack a Bluetooth adaptation layer a MANET service layer a scatternet module and a routing module. The Bluetooth host stack is operable to implement the Bluetooth communications standard and send the Bluetooth based data to the Bluetooth adaptation layer. The Bluetooth adaptation layer is operable to receive the Bluetooth based data convert the Bluetooth based data into a format recognizable by the MANET service layer convert the converted Bluetooth based data into an event recognizable by the MANET service layer and send the event to the MANET service layer. The MANET service layer promotes managing and storing the event.

These and other features will be more clearly understood from the following detailed description taken in conjunction with the accompanying drawings and claims.

It should be understood at the outset that although illustrative implementations of one or more embodiments are illustrated below the disclosed systems and or methods may be implemented using any number of techniques whether currently known or in existence. The disclosure should in no way be limited to the illustrative implementations drawings and techniques illustrated below but may be modified within the scope of the appended claims along with their full scope of equivalents.

A mobile ad hoc network MANET can be defined as a group of wireless computing devices capable of communicating directly with one another without a server acting as a central coordinator or scheduler for the data traffic between the devices. A MANET typically comprises a plurality of wireless devices such as laptop computers handheld computers mobile phones or mobile handsets personal digital assistants and similar devices. The devices might be capable of communicating with one another via any of several well known wireless data transfer protocols. A MANET in which the wireless devices communicate with one another via the Bluetooth protocol is known as a piconet and a group of connected piconets is known as a scatternet.

Other wireless networks such as WiFi or WiMAX networks are connectionless meaning that devices in such networks broadcast data without regard to which other devices might receive the data. A scatternet on the other hand is connection oriented meaning that a device must establish a connection with another device before the two devices can exchange data. Three challenges can arise in the establishment and maintenance of a scatternet. First a connection topology typically needs to be formed to establish which devices are connected to which other devices. Second the paths over which data will be transmitted through the connection topology typically need to be determined. Third the flow of data through the connection topology might be monitored and or controlled.

In an embodiment a software architecture for establishing and maintaining a scatternet is provided. The architecture provides a module for forming a connection topology for a scatternet and a module for routing data in a scatternet. Management of data flow in a scatternet is also provided. Components in the architecture are arranged in a layered modular framework that allows the components to function independently of one another and to be replaced without significantly impacting other components. Bluetooth devices which traditionally communicate in a one hop fashion with a single other device can communicate through a topology established by this architecture with multiple other Bluetooth devices.

The Bluetooth host stack might be a commercial off the shelf component that implements the Bluetooth communications standards. Providers of the Bluetooth host stack might implement the component in hardware firmware software or any combination thereof. The Bluetooth host stack can be considered the component that is responsible for the transmission and reception of data between Bluetooth capable devices. The OS platform might be a commercial off the shelf operating system and or platform used by a device in which the architecture is installed.

The BT adaptation layer handles interprocess communications between the BT host stack and the BT MANET service layer . That is the BT adaptation layer is capable of receiving data in the format used by the BT host stack and converting the data into a format usable by the BT MANET service layer . This abstraction of Bluetooth dependencies provides a generic Bluetooth application programming interface to the BT MANET service layer and allows easy substitution of different BT host stacks from different manufacturers. The BT adaptation layer can be implemented using a Bluetooth application programming interface provided by the BT host stack . Therefore the BT adaptation layer may need to be replaced or modified when a different implementation of the BT host stack is used.

The BT MANET service layer stores information about the active connections among the devices in a scatternet. Information regarding the roles of those devices that is which devices are acting as masters and which devices are acting as slaves is also retained in the BT MANET service layer . The BT MANET service layer also stores state information for the devices in a scatternet or attempting to enter a scatternet. This information can be used by the scatternet module and the routing module to create a connection topology and establish the routing for data in a scatternet.

When a new device connects to a scatternet the BT host stack via the BT adaptation layer informs the BT MANET service layer of the new connection by sending a connection indication to the BT MANET service layer . Upon receiving the connection indication the BT MANET service layer performs a role discovery procedure on the new device to determine whether the new device is a master or a slave. The BT MANET service layer then stores this role information for use by the scatternet module and the routing module .

The BT MANET service layer also provides a mapping between a device s Bluetooth Media Access Control MAC address and the connection handlers in any applications that might need to communicate with that device. This allows the applications on one device to communicate via Bluetooth with similar applications on another device.

In an embodiment the BT MANET service layer also manages data packet handling procedures wherein certain application threads can be placed in a blocked unblocked or best effort status and manages multiplexing demultiplexing procedures for the data exchanged between applications. Examples of appropriate data packet handling procedures and multiplexing demultiplexing procedures can be found in U.S. provisional patent application No. 60 913 641 filed Apr. 24 2007 entitled Application Design Framework for MANET over Bluetooth which is herein incorporated by reference for all purposes.

In an embodiment connection related functions in the BT MANET service layer are performed by the connection manager and data related functions are performed by the data manager . The decoupling of the connection related functions and the data related functions in this manner provides flexibility and allows different connection managers and data managers to be easily substituted in the BT MANET service layer .

The flow control manager controls the flow of data in a scatternet on a hop by hop basis. For example the flow control manager might monitor data flow in a scatternet and redirect data when inefficiencies in the flow are found. The flow control manager can act independently of the other components in the architecture . Therefore various different flow control protocols and techniques which are well known to those skilled in the art may be preferred for use in the present system depending on the circumstances. In some embodiments the decoupled configuration of the flow control manager relative to the other components of the architecture provides the flexibility to efficiently use different flow control protocols or change flow control protocols without impacting the remaining architecture . For example a first flow control manager might be used in a first implementation of the architecture and a second flow control manager might be used in a second implementation of the architecture .

The scatternet module forms a connection topology for the devices in a scatternet. That is the scatternet module determines which devices will form connections with other devices how many hops away the devices will be from one another and which devices will be masters and which devices will be slaves. The scatternet module can store information about the topology it has formed in the BT MANET service layer for use by the routing module . An example of a connection topology procedure that could be used by the scatternet module can be found in U.S. provisional patent application No. 60 913 630 filed Apr. 24 2007 entitled Automatic Discovery and Connectivity Protocol for Bluetooth Scatternet Formation which is herein incorporated by reference for all purposes.

The present architecture provides the scatternet module as a separate module decoupled from the BT MANET service layer . The scatternet module may be thought of as a generic module since any protocol with any unique features may be used in its place without impacting the remaining components of the present architecture. Therefore the present configuration allows the scatternet module to be readily replaced for example if a more efficient improved or more widely accepted protocol comes along without impacting other portions of the system. For example a first scatternet module might communicate with the BT MANET service layer in a first implementation of the architecture and a second scatternet module might communicate with the BT MANET service layer in a second implementation of the architecture .

The routing module determines the paths that data packets will take when being exchanged between devices in a scatternet. After the scatternet module has formed a connection topology for the devices and stored information about the topology in the BT MANET service layer the routing module can retrieve the information. The routing module can then determine an efficient path for data through the topology. The scatternet module and the routing module can act independently of one another allowing either of these modules to be easily replaced without significantly impacting the remaining architecture components. This allows different routing protocols to be employed without impacting the overall architecture since different routing techniques may be available and preferred depending upon for example the deployment environment. For example a first routing module might communicate with the BT MANET service layer in a first implementation of the architecture and a second routing module might communicate with the BT MANET service layer in a second implementation of the architecture .

The application adaptation module might contain application programming interfaces or similar interfaces that allow interaction between the BT MANET solution and one or more external applications . Multiple instances of the application adaptation module might be present for different types of applications. For example one set of interfaces might deal with File Transfer Protocol related applications another set of interfaces might deal with Transmission Control Protocol Internet Protocol related applications and so on.

The applications might provide device users with functions that are typically found on mobile devices such as chat functions and data transfer functions. Chat data transfer and other functions might also be combined into a single one of the applications . The applications might be designed specifically for the BT MANET solution or the application adaptation module might include interfaces that allow previously existing applications to be ported to the BT MANET solution .

The above referenced U.S. provisional patent application Application Design Framework for MANET over Bluetooth describes an application design framework that could be used for the applications . In this design framework each of the applications can include independent modules capable of exchanging a particular type of data or event with a corresponding module in a corresponding application on a different device. For example one module might handle chat related data and another module might handle data transfer events. Corresponding modules register with one another to specify the types of events that they will generate and listen for. When such an application design framework is in place the BT MANET service layer can maintain a list of events that the modules can register for and the applications can consult this list when registering for events.

In an embodiment appropriate interfaces might exist between the layers of the MANET over Bluetooth architecture to allow communication between the different layers. For example standard Bluetooth interfaces may be present between the BT host stack and the BT adaptation layer . A device management service access point BT DM SAP might mediate device related communications between the BT host stack and the BT adaptation layer . A logical link controller and adaptation protocol service access point BT L2CAP SAP might mediate connection related communication between the BT host stack and the BT adaptation layer . A BT MANET BT SAP interface may be present between the BT host stack and the BT MANET solution and a BT MANET OS SAP interface may be present between the OS platform and the BT MANET solution .

A BT adaptation layer service access point BTAL SAP might act as an interface between the BT adaptation layer and the BT MANET service layer . The BTAL SAP might handle indications of events received from the BT host stack such as indications of the connection or disconnection of devices indications of the discovery of devices indications of the switching of roles and indications of link quality. The BTAL SAP might decouple such events from the Bluetooth host stack by converting the events into events recognizable by the BT MANET service layer . The BTAL SAP might also initialize and configure Bluetooth parameters and settings.

Between the BT MANET service layer and the BT MANET core a BT MANET service layer connection manager service access point BMSL CM SAP might handle connection related communications and a BT MANET service layer data service access point BMSL DATA SAP might handle data related communications. A BT MANET application service access point BT MANET APP SAP might act as an interface between the BT MANET core and the applications .

The handset includes a display and a touch sensitive surface or keys for input by a user. The handset may present options for the user to select controls for the user to actuate and or cursors or other indicators for the user to direct. The handset may further accept data entry from the user including numbers to dial or various parameter values for configuring the operation of the handset . The handset may further execute one or more software or firmware applications in response to user commands. These applications may configure the handset to perform various customized functions in response to user interaction.

Among the various applications executable by the handset are a web browser which enables the display to show a web page. The web page is obtained via wireless communications with a cell tower a wireless network access node or any other wireless communication network or system. The cell tower or wireless network access node is coupled to a wired network such as the Internet. Via the wireless link and the wired network the handset has access to information on various servers such as a server . The server may provide content that may be shown on the display .

The DSP or some other form of controller or central processing unit operates to control the various components of the handset in accordance with embedded software or firmware stored in memory . In addition to the embedded software or firmware the DSP may execute other applications stored in the memory or made available via information carrier media such as portable data storage media like the removable memory card or via wired or wireless network communications. The application software may comprise a compiled set of machine readable instructions that configure the DSP to provide the desired functionality or the application software may be high level software instructions to be processed by an interpreter or compiler to indirectly configure the DSP .

The antenna and front end unit may be provided to convert between wireless signals and electrical signals enabling the handset to send and receive information from a cellular network or some other available wireless communications network. The RF transceiver provides frequency shifting converting received RF signals to baseband and converting baseband transmit signals to RF. The analog baseband processing unit may provide channel equalization and signal demodulation to extract information from received signals may modulate information to create transmit signals and may provide analog filtering for audio signals. To that end the analog baseband processing unit may have ports for connecting to the built in microphone and the earpiece speaker that enable the handset to be used as a cell phone. The analog baseband processing unit may further include a port for connecting to a headset or other hands free microphone and speaker configuration.

The DSP may send and receive digital communications with a wireless network via the analog baseband processing unit . In some embodiments these digital communications may provide Internet connectivity enabling a user to gain access to content on the Internet and to send and receive e mail or text messages. The input output interface interconnects the DSP and various memories and interfaces. The memory and the removable memory card may provide software and data to configure the operation of the DSP . Among the interfaces may be the USB interface and the infrared port . The USB interface may enable the handset to function as a peripheral device to exchange information with a personal computer or other computer system. The infrared port and other optional ports such as a Bluetooth interface or an IEEE 802.11 compliant wireless interface may enable the handset to communicate wirelessly with other nearby handsets and or wireless base stations.

The input output interface may further connect the DSP to the vibrator that when triggered causes the handset to vibrate. The vibrator may serve as a mechanism for silently alerting the user to any of various events such as an incoming call a new text message and an appointment reminder.

The keypad couples to the DSP via the interface to provide one mechanism for the user to make selections enter information and otherwise provide input to the handset . Another input mechanism may be the touch screen LCD which may also display text and or graphics to the user. The touch screen LCD controller couples the DSP to the touch screen LCD .

The CCD camera enables the handset to take digital pictures. The DSP communicates with the CCD camera via the camera controller . The GPS sensor is coupled to the DSP to decode global positioning system signals thereby enabling the handset to determine its position. Various other peripherals may also be included to provide additional functions e.g. radio and television reception.

While several embodiments have been provided in the present disclosure it should be understood that the disclosed systems and methods may be embodied in many other specific forms without departing from the spirit or scope of the present disclosure. The present examples are to be considered as illustrative and not restrictive and the intention is not to be limited to the details given herein. For example the various elements or components may be combined or integrated in another system or certain features may be omitted or not implemented.

Also techniques systems subsystems and methods described and illustrated in the various embodiments as discrete or separate may be combined or integrated with other systems modules techniques or methods without departing from the scope of the present disclosure. Other items shown or discussed as coupled or directly coupled or communicating with each other may be indirectly coupled or communicating through some interface device or intermediate component whether electrically mechanically or otherwise. Other examples of changes substitutions and alterations are ascertainable by one skilled in the art and could be made without departing from the spirit and scope disclosed herein.

