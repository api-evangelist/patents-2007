---

title: Transferring a logical partition (‘LPAR’) between two server computing devices based on LPAR customer requirements
abstract: Methods, systems, and products are disclosed for transferring a logical partition (‘LPAR’) between two of a plurality of server computing devices based on LPAR customer requirements, the plurality of server computing devices connected together through a data communications network, the LPAR installed on one of the plurality of server computing devices, each server computing device having server operating capabilities, each server computing device associated with LPAR hosting costs for supporting LPARs, that include: identifying LPAR customer requirements for the LPAR, the LPAR customer requirements specifying customer criteria for operating the LPAR; selecting, from among the plurality of server computing devices, a server computing device to which to migrate the LPAR in dependence upon the server operating capabilities and LPAR hosting costs for at least one of the server computing devices and the LPAR customer requirements for the LPAR; and migrating the LPAR to the selected server computing device.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08244827&OS=08244827&RS=08244827
owner: International Business Machines Corporation
number: 08244827
owner_city: Armonk
owner_country: US
publication_date: 20071219
---
The field of the invention is data processing or more specifically methods apparatus and products for transferring a logical partition LPAR between two server computing devices based on LPAR customer requirements.

The development of the EDVAC computer system of 1948 is often cited as the beginning of the computer era. Since that time computer systems have evolved into extremely complicated devices. Today s computers are much more sophisticated than early systems such as the EDVAC. Computer systems typically include a combination of hardware and software components application programs operating systems processors buses memory input output devices and so on. As advances in semiconductor processing and computer architecture push the performance of the computer higher and higher more sophisticated computer software has evolved to take advantage of the higher performance of the hardware resulting in computer systems today that are much more powerful than just a few years ago.

One area in which computer software has evolved to take advantage of high performance hardware is a software tool referred to as a hypervisor. A hypervisor is a layer of system software that runs on the computer hardware beneath the operating system layer to allow multiple operating systems to run on a host computer at the same time. Hypervisors were originally developed in the early 1970 s when company cost reductions were forcing multiple scattered departmental computers to be consolidated into a single larger computer the mainframe that would serve multiple departments. By running multiple operating systems simultaneously the hypervisor brought a measure of robustness and stability to the system. Even if one operating system crashed the others would continue working without interruption. Indeed this even allowed beta or experimental versions of the operating system to be deployed and debugged without jeopardizing the stable main production system and without requiring costly second and third systems for developers to work on.

A hypervisor allows multiple operating systems to run on a host computer at the same time by providing each operating system with its own set of computer resources. These computer resources are typically virtualized counterparts to the physical resources of a computing system. A hypervisor allocates these resources to each operating system using logical partitions. A logical partition also referred to as a virtual machine is a set of data structures and services that enable distribution of computer resources within a single computer to make the computer function as if it were two or more independent computers. Using a logical partition therefore a hypervisor provides a layer of abstraction between a computer hardware layer of a computing system and an operating system layer.

Methods systems and products are disclosed for transferring a logical partition LPAR between two of a plurality of server computing devices based on LPAR customer requirements the plurality of server computing devices connected together through a data communications network the LPAR installed on one of the plurality of server computing devices each server computing device having server operating capabilities each server computing device associated with LPAR hosting costs for supporting LPARs that include identifying LPAR customer requirements for the LPAR the LPAR customer requirements specifying customer criteria for operating the LPAR selecting from among the plurality of server computing devices a server computing device to which to migrate the LPAR in dependence upon the server operating capabilities and LPAR hosting costs for at least one of the server computing devices and the LPAR customer requirements for the LPAR and migrating the LPAR to the selected server computing device.

The foregoing and other objects features and advantages of the invention will be apparent from the following more particular descriptions of exemplary embodiments of the invention as illustrated in the accompanying drawings wherein like reference numbers generally represent like parts of exemplary embodiments of the invention.

Exemplary methods apparatus and products for transferring a logical partition LPAR between two server computing devices based on LPAR customer requirements in accordance with the present invention are described with reference to the accompanying drawings beginning with . sets forth a block diagram of an exemplary system for transferring a LPAR between two of a plurality of server computing devices based on LPAR customer requirements according to embodiments of the present invention. The server computing devices of are connected together through a data communications network . Each server computing device has server operating capabilities and is associated with LPAR hosting costs for supporting LPARs. Server operating capabilities describe the computing resources provided by a particular server for hosting an LPAR. For example server operating capabilities may describe the server s processors processor utilization system firmware storage resources storage performance network resources network performance computer memory historical server performance statistics and so on.

LPAR hosting costs describe monetary costs incurred when a particular server hosts and supports an LPAR. LPAR hosting costs may be represented as the money charged to the owner of the LPAR by the hosting entity providing the server to host the LPAR. The owner of the LPAR is typically an individual business or some other organization that creates or commissions the creation of the LPAR to support various objective of the owner. For example a LPAR owner may create an LPAR to provide web services on the owner s behalf or to establish an e commerce presence for the owner on the Internet. The hosting entity providing the server to host the LPAR is also typically an individual business or some other organization that provides hosting services to LPAR owners. For example an entity providing servers to host LPARs may be implemented as a business that operates computing datacenters. A hosting entity may set LPAR hosting costs for the servers that the entity operates based in business costs such as for example business rents equipment costs electricity and other power costs cooling costs network access costs employee costs and so on.

In the example of the server computing devices are located in three datacenters each datacenter located in a different geographic area. In particular datacenter includes servers and is located in the United States. Datacenter includes servers and is located in Russia. Datacenter includes servers and is located in Japan. Each datacenter of includes an administrative server a computing device that administers the other servers in each datacenter . Specifically datacenter includes administrative server datacenter includes administrative server and datacenter includes administrative server . Each administrative server may administer the servers in its respective datacenter by throttling the servers to reduce power consumption turning some of the servers off or on moving LPARs from one server to another within the datacenter notifying datacenter personnel of potential or realized server failures and so on.

In addition to administering servers the administration server for each of the datacenters advertises the LPAR hosting costs and the server operating capabilities associated with the server computing devices located in the datacenter managed by the administrative server . Advertising the LPAR hosting costs and the server operating capabilities associated with the server computing devices managed by the administrative server advantageously allows a hosting entity to attract new clients in the form of LPAR owners who need hosting services provided for the owners LPARs. In the example of each administration server advertises the LPAR hosting costs and the server operating capabilities through a datacenter broker by registering each server with the datacenter broker and updating the LPAR hosting costs and the server operating capabilities for each server periodically or upon request from the datacenter broker.

The exemplary system of includes a broker server . The broker server is a computing device having installed upon it a datacenter broker . The datacenter broker of is a software component that receives and stores detailed offers of hosting service from datacenters or servers. An LPAR that is willing to move can register that LPAR s customer requirements with the broker which in turn may provide the LPAR with the most advantageous match currently available. In such a manner the datacenter broker matches the LPAR hosting costs and the server operating capabilities for servers providing hosting services with LPARs having particular LPAR customer requirements. An LPAR may make a singular request for matching servers currently registered with the broker or an LPAR may request that the broker provide alerts to the LPAR on an ongoing basis as new servers or datacenters register with the broker .

The LPAR customer requirements for a particular LPAR specify customer criteria for operating the LPAR. Such customer criteria may specify acceptable LPAR hosting costs and server operating capabilities for servers that support the particular LPAR. For example LPAR customer requirements may specify that the only servers acceptable for hosting a particular LPAR is a server that provides an IBM POWER6 architecture with 16 Megabytes of RAM provides storage space at less than 3 per Gigabyte per month and provides at least 50 Gigibits per second Gbit s of network bandwidth at less than 50 per month. LPAR s or other software components on behalf of the LPARs may register each LPAR s customer requirements with the datacenter broker .

In the example of the datacenter broker matches the LPAR hosting costs and the server operating capabilities for a server providing hosting services with LPARs having particular LPAR customer requirements using an LPAR table and a datacenter table . Each record of the LPAR table associates an identifier for a LPAR with a particular set of LPAR customer requirements for that LPAR. Each record of the datacenter table associates an identifier for a datacenter an identifier for a server in the datacenter the LPAR hosting costs and the server operating capabilities for the server. As mentioned above each datacenters of may register with the datacenter broker to advertise the operating capabilities and the hosting costs for the servers in that datacenter.

In the exemplary system of the server has installed upon it an LPAR and other servers have installed upon them other LPARs . Each logical partition provides an execution environment for applications and an operating system. In the example of the logical partition provides an execution environment for applications and operating system . Each application is a set of computer program instructions implementing user level data processing. The operating system of is system software that manages the resources allocated to the logical partition by the hypervisor . The operating system performs basic tasks such as for example controlling and allocating virtual memory prioritizing the processing of instructions controlling virtualized input and output devices facilitating networking and managing a virtualized file system.

Each server of includes a hypervisor . Specifically regarding server the hypervisor of is a layer of system software that runs on the computer hardware beneath the operating system layer to allow multiple operating systems to run on a host computer at the same time. The hypervisor provides the operating system with a set of computer resources using the logical partition . As mentioned above a LPAR is a set of data structures and services provided to a single operating system that enables the operating system to run concurrently with other operating systems on the same computer hardware. In effect the logical partitions allow the distribution of computer resources within a single computer to make the computer function as if it were two or more independent computers.

The hypervisor of establishes each logical partition using a combination of data structures and services provided by the hypervisor itself along with partition firmware configured for each logical partition. In the example of the logical partition is configured using partition firmware . The partition firmware of is system software specific to the partition that is often referred to as a dispatchable hypervisor. The partition firmware maintains partition specific data structures and provides partition specific services to the operating system through application programming interface API . The hypervisor maintains data structures and provides services to the operating systems and partition firmware for each partition through API . Collectively the hypervisor and the partition firmware are referred to in this specification as firmware because both the hypervisor and the partition firmware are typically implemented as firmware. Together the hypervisor and the partition firmware enforce logical partitioning between one or more operating systems by storing state values in various hardware registers and other structures which define the boundaries and behavior of the logical partitions. Using such state data the hypervisor and the partition firmware may allocate memory to logical partitions route input output between input output devices and associated logical partitions provide processor related services to logical partition and so on. Essentially this state data defines the allocation of resources in logical partitions and the allocation is altered by changes the state data rather than by physical reconfiguration of hardware.

In order to allow multiple operating systems to run at the same time the hypervisor assigns virtual processors to the operating systems running in the logical partition and schedules virtual processors on one or more physical processors of the server . A virtual processor is a subsystem that implements assignment of processor time to a logical partition. A shared pool of physical processors supports the assignment of partial physical processors in time slices to each logical partition. Such partial physical processors shared in time slices are referred to as virtual processors. A thread of execution is said to run on a virtual processor when it is running on the virtual processor s time slice of the physical processors. Sub processor partitions time share a physical processor among a set of virtual processors in a manner that is invisible to an operating system running in a logical partition. Unlike multiprogramming within the operating system where a thread can remain in control of the physical processor by running the physical processor in interrupt disabled mode in sub processor partitions the thread is still pre empted by the hypervisor at the end of its virtual processor s time slice in order to make the physical processor available to a different virtual processor.

The hypervisor of also includes a data communications subsystem . The data communications subsystem of implements data communication with other computing devices connected to the server such as for example storage devices or other servers.

In the description of the exemplary system with reference to the details of LPARs and of the other hypervisors configured on servers in datacenters are omitted for clarity. Readers will note however that the LPARs and the other hypervisors may be structured and may operate in a manner similar to LPAR and hypervisor configured on server in datacenter .

In the exemplary system of the logical partition includes a migration manager . The migration manager is a set of computer program instructions for transferring the LPAR between two server computing devices based on LPAR customer requirements according to embodiments of the present invention. The migration manager generally operates to transfer the LPAR between two server computing devices based on LPAR customer requirements according to embodiments of the present invention by identifying LPAR customer requirements for the LPAR the LPAR customer requirements specifying customer criteria for operating the LPAR selecting from among the plurality of server computing devices a server computing device to which to migrate the LPAR in dependence upon the server operating capabilities and LPAR hosting costs for at least one of the server computing devices and the LPAR customer requirements for the LPAR and migrating the LPAR to the selected server computing device. Although illustrates the migration manager in the logical partition readers will note that such an example is for explanation and not for limitation. In fact the migration manager may be executed from any computing device network connected to the server on which the LPAR is configured.

Transferring an LPAR between two server computing devices based on LPAR customer requirements in accordance with the present invention is generally implemented with computers that is with automated computing machinery. In for example the servers administrative servers and the broker server are implemented to some extent at least as computers. For further explanation therefore sets forth a block diagram of automated computing machinery comprising an exemplary server computing device useful in transferring an LPAR between two server computing devices based on LPAR customer requirements according to embodiments of the present invention. The computing system of includes at least one computer processor or CPU as well as random access memory RAM which is connected through a high speed memory bus and bus adapter to processor and to other components of the computing system.

Stored in RAM are logical partitions and a hypervisor that exposes an API . Each logical partition is a set of data structures and services that enables distribution of computer resources within a single computer to make the computer function as if it were two or more independent computers. Logical partition includes application an operating system and partition firmware that exposes an API . Operating systems useful in computing systems according to embodiments of the present invention include UNIX Linux Microsoft Vista IBM s AIX IBM s i5 OS and others as will occur to those of skill in the art.

In the example of the logical partition includes a migration manager . The migration manager of is a set of computer program instructions for transferring a LPAR between two of a plurality of server computing devices based on LPAR customer requirements according to embodiments of the present invention. The migration manager of operates generally for transferring a LPAR between two of a plurality of server computing devices based on LPAR customer requirements according to embodiments of the present invention by identifying LPAR customer requirements for the LPAR the LPAR customer requirements specifying customer criteria for operating the LPAR selecting from among the plurality of server computing devices a server computing device to which to migrate the LPAR in dependence upon the server operating capabilities and LPAR hosting costs for at least one of the server computing devices and the LPAR customer requirements for the LPAR and migrating the LPAR to the selected server computing device.

The hypervisor and the logical partitions including migration manager applications the operating system the partition firmware illustrated in are software components that is computer program instructions and data structures that operate as described above with reference to . The hypervisor and the logical partitions including memory balancing module applications the operating system the partition firmware in the example of are shown in RAM but many components of such software typically are stored in non volatile computer memory or computer storage .

The exemplary computing system of includes bus adapter a computer hardware component that contains drive electronics for high speed buses the front side bus and the memory bus as well as drive electronics for the slower expansion bus . Examples of bus adapters useful in computing systems useful according to embodiments of the present invention include the Intel Northbridge the Intel Memory Controller Hub the Intel Southbridge and the Intel I O Controller Hub. Examples of expansion buses useful in computing systems useful according to embodiments of the present invention may include Peripheral Component Interconnect PCI buses and PCI Express PCIe buses.

Although not depicted in the exemplary computing system of the bus adapter may also include drive electronics for a video bus that supports data communication between a video adapter and the other components of the computing system . does not depict such video components because a server computing system is often implemented as a blade server installed in a server chassis or a node in a parallel computer with no dedicated video support. Readers will note however that computing systems useful in embodiments of the present invention may include such video components.

The exemplary computing system of also includes disk drive adapter coupled through expansion bus and bus adapter to processor and other components of the exemplary computing system . Disk drive adapter connects non volatile data storage to the exemplary computing system in the form of disk drive . Disk drive adapters useful in computing systems include Integrated Drive Electronics IDE adapters Small Computer System Interface SCSI adapters and others as will occur to those of skill in the art. In the exemplary computing system of non volatile computer memory is connected to the other components of the computing system through the bus adapter . In addition the non volatile computer memory may be implemented for a computing system as an optical disk drive electrically erasable programmable read only memory so called EEPROM or Flash memory RAM drives and so on as will occur to those of skill in the art.

The exemplary computing system of includes one or more input output I O adapters . I O adapters in computing systems implement user oriented input output through for example software drivers and computer hardware for controlling output to display devices such as computer display screens as well as user input from user input devices such as keyboards and mice. Although not depicted in the example of computing systems in other embodiments of the present invention may include a video adapter which is an example of an I O adapter specially designed for graphic output to a display device such as a display screen or computer monitor. A video adapter is typically connected to processor through a high speed video bus bus adapter and the front side bus which is also a high speed bus.

The exemplary computing system of includes a communications adapter for data communications with other computing systems and for data communications with a data communications network . Such data communications may be carried out through Ethernet connections through external buses such as a Universal Serial Bus USB through data communications networks such as IP data communications networks and in other ways as will occur to those of skill in the art. Communications adapters implement the hardware level of data communications through which one computing system sends data communications to another computing system directly or through a data communications network. Examples of communications adapters useful for transferring a LPAR between two server computing devices based on LPAR customer requirements according to embodiments of the present invention include modems for wired dial up communications IEEE 802.3 Ethernet adapters for wired data communications network communications and IEEE 802.11b adapters for wireless data communications network communications.

For further explanation sets forth a flow chart illustrating an exemplary method for transferring a LPAR between two server computing devices based on LPAR customer requirements according to embodiments of the present invention. The server computing devices of are connected together through a data communications network. Each server computing device has server operating capabilities and is associated with LPAR hosting costs for supporting LPARs. In the example of the server computing devices are located in two datacenters server is located in datacenter and server is located in datacenter . Each datacenter located in a different geographic area and advertises the LPAR hosting costs and the server operating capabilities associated with the server computing devices located in that datacenter.

In the example of the LPAR is installed on server computing device . The LPAR of was created by the LPAR s owner that is an individual business or other organization. The owner may have designed and created the LPAR itself or commissioned some other individual or entity to design and create the LPAR on the owner s behalf. At some previous time the owner may have arranged for the datacenter to host the LPAR using the datacenter s server . The LPAR may have migrated to the server from some other server or datacenter or the LPAR owner may have initially configured the LPAR on server . While operating on server a migration manager for the LPAR seeks out opportunities to transfer the LPAR to another server computing device that provides a combination of operating capabilities and hosting costs within the LPAR s customer requirements.

The method of includes identifying LPAR customer requirements for the LPAR . Identifying LPAR customer requirements for the LPAR according to the method of may be carried out by retrieving the LPAR customer requirements from a data structure in the LPAR itself. In some other embodiments identifying LPAR customer requirements for the LPAR according to the method of may be carried out by retrieving the LPAR customer requirements from some location specified by the LPAR .

In the example of the LPAR customer requirements specify customer criteria for operating the LPAR . As mentioned above customer criteria may specify acceptable LPAR hosting costs and server operating capabilities for servers that support the particular LPAR. For example LPAR customer requirements may specify that the only servers acceptable for hosting a particular LPAR is a server that provides an IBM POWER6 architecture with 16 Megabytes of RAM provides storage space at less than 3 per Gigabyte per month and provides at least 50 Gigibits per second Gbit s of network bandwidth at less than 50 per month. LPAR s or other software components on behalf of the LPARs may register each LPAR s customer requirements with the datacenter broker . Customer criteria may also specify rules that narrow a list of servers down to a single server to which to migrate the LPAR when more than one server is capable of providing acceptable server operating capabilities and LPAR hosting costs. For example if more than one server is capable of providing acceptable server operating capabilities and LPAR hosting costs then LPAR customer requirements may dictate that the server selected for migration is the server having the lowest monetary cost per hour or the server having the closest geographic proximity to the LPAR owner s location.

The method of also includes registering LPAR customer requirements with a datacenter broker installed on a broker server . Registering LPAR customer requirements with a datacenter broker according to the method of may be carried out by transmitting to the datacenter broker a registration request that encapsulates the LPAR customer requirements. In turn the datacenter broker associates the LPAR customer requirements with an identifier for the LPAR registering those LPAR customer requirements. Registering LPAR customer requirements with a datacenter broker according to the method of may further be carried out by receiving from the datacenter broker an acknowledgement message indicating that that registration was successful.

The method of also includes selecting from among the plurality of server computing devices a server computing device to which to migrate the LPAR in dependence upon the server operating capabilities and LPAR hosting costs for at least one of the server computing devices and the LPAR customer requirements for the LPAR . Selecting from among the plurality of server computing devices a server computing device to which to migrate the LPAR according to the method of includes requesting the datacenter broker to identify at least one datacenter that includes a server computing device having the server operating capabilities and the LPAR hosting costs that match the LPAR customer requirements for that LPAR . The request sent to datacenter broker may be a request for a one time query regarding whether any other servers are acceptable for hosting the LPAR or may be a request that the datacenter broker continuously monitor datacenters for acceptable servers on which to host the LPAR . Upon receiving the request the datacenter broker identifies servers acceptable for hosting the LPAR by retrieving the LPAR customer requirements for the LPAR from the LPAR table based on the identifier for LPAR and traversing the datacenter table for servers whose hosting costs and operating capabilities match the LPAR customer requirements .

Selecting from among the plurality of server computing devices a server computing device to which to migrate the LPAR according to the method of is then carried out by receiving from the datacenter broker in response to the request a datacenter identifier and a server computing device identifier. Receiving from the datacenter broker in response to the request a datacenter identifier and a server computing device identifier according to the method of may be carried out by receiving a response message from the datacenter broker and unencapsulating the datacenter identifier and a server computing device identifier for the server having acceptable operating capabilities and hosting costs for hosting the LPAR . For example in the datacenter broker identifies server and provides an identifier for server and an identifier for datacenter .

The method of also includes migrating the LPAR to the selected server computing device . Migrating the LPAR to the selected server computing device according to the method of includes migrating the LPAR from one of the datacenters to another datacenter . Migrating the LPAR to the selected server computing device according to the method of may be carried out by communicating with an administrative server for the datacenter using a pre established migration protocol to provide billing information and receive migration information for the datacenter . The billing information provided to an administrative server for the datacenter may be stored in the LPAR itself or at some other location specified by the LPAR . The migration information received from the datacenter may include port information and security credentials used by a hypervisor on the server to migrate the LPAR to a hypervisor installed on server . Migrating the LPAR to the selected server computing device according to the method of may further be carried out by copying the LPAR on the server include all LPAR storage LPAR register values data structure values dirty pages in RAM and so on to the server in datacenter .

Because migrating an LPAR from one server to another changes the workload for the servers in the various datacenters the method of includes administering any of the plurality of server computing devices in dependence upon the migration of the LPAR to the selected server computing device . Administering any of the plurality of server computing devices in dependence upon the migration of the LPAR to the selected server computing device according to the method of may be carried out by an administration server in one or more of the datacenters. The administration server may administer a server according to the method of by reducing the operating speeds of the servers who have less LPARs to host due to the migration and increasing the operating speeds of the server who have more LPARs to host due to the migration. Dynamically adjusting the operating speeds of servers as the servers workloads changes allows datacenters to reduce operating costs when feasible and only increase those costs when necessary. The administration server may also administer a server according to the method of by reconfiguring the LPARs on the various servers within a particular datacenter. For example because server has one less LPAR to host after the migration the administration server for datacenter may be able to shuffle the remaining LPARs on server to other servers within the datacenter and shut down server to reduce the datacenter s overall operating costs.

The description above with reference to describes the transfer of an LPAR from a server in one datacenter to a server another datacenter to reduce the costs of hosting the LPAR for the LPAR s owner. In some other embodiments a hosting entity such as a datacenter may transfer an LPAR from one server to another server within the datacenter to reduce overall operating costs for the datacenter. For further explanation therefore sets forth a flow chart illustrating a further exemplary method for transferring a LPAR between two server computing devices based on LPAR customer requirements according to embodiments of the present invention. The server computing devices of are connected together through a data communications network. Each server computing device has server operating capabilities and is associated with LPAR hosting costs for supporting LPARs. In the example of the server computing devices are located in the same datacenters .

In the example of the LPAR is installed on server computing device . In a manner similar to the example of the LPAR of was created by the LPAR s owner that is an individual business or other organization. The owner may have designed and created the LPAR itself or commissioned some other individual or entity to design and create the LPAR on the owner s behalf. At some previous time the owner may have arranged for the datacenter to host the LPAR using the datacenter s server . The LPAR may have migrated to the server from some other server or datacenter or the LPAR owner may have initially configured the LPAR on server . While the LPAR is hosted by the datacenter the datacenter may transfer the LPAR from one server to another within the datacenter to reduce overall operating costs for the datacenter .

The method of includes identifying LPAR customer requirements for the LPAR . Identifying LPAR customer requirements for the LPAR according to the method of may be carried out by retrieving the LPAR customer requirements from a data structure in the LPAR itself. In some other embodiments identifying LPAR customer requirements for the LPAR according to the method of may be carried out by retrieving the LPAR customer requirements from some location specified by the LPAR .

The method of also includes selecting from among the plurality of server computing devices a server computing device to which to migrate the LPAR in dependence upon the server operating capabilities and LPAR hosting costs for at least one of the server computing devices and the LPAR customer requirements for the LPAR . Selecting from among the plurality of server computing devices a server computing device to which to migrate the LPAR according to the method of may be carried out by identifying from the datacenter table servers whose hosting costs and operating capabilities match the LPAR customer requirements and selecting from the identified servers a server for the migration according to datacenter cost reduction rules that allow the datacenter to operate at the lowest overall operating cost. Datacenter cost reduction rules specify criteria used to identify which server that the LPAR should be migrated to in order to minimize the overall operation costs of the datacenter. For example if the datacenter servers that are turned on have enough capacity to support the LPAR being migrated then datacenter cost reduction rules may specify migrating an LPAR to one of the server s already turned on as opposed to turning on another server in the datacenter to host the LPAR . In such a manner the overall operating costs of the datacenter are reduced because an additional server that requires power and cooling is not turned on. For further example datacenter cost reductions rules may also specify migrating the LPAR to the datacenter s server that has enough excess processing capacity to support all of the LPARs in the datacenter as opposed to migrating the LPAR to another server only having enough excess processing capacity to support a portion of the LPARs in the datacenter. In such an example migrating all the LPARs to the server that has enough excess processing capacity to support all of the LPARs in a datacenter allows a datacenter administration server to power off all of the other servers to save operating costs.

The method of includes migrating the LPAR to the selected server computing device . Migrating the LPAR to the selected server computing device OOd according to the method of may be carried out by copying the LPAR on the server include all LPAR storage LPAR register values data structure values dirty pages in RAM and so on to the server .

Because the workload on the servers in the datacenter changes dynamically as the servers various LPARs an administrative server in the datacenter may administer the servers from time to time to further reduce the overall operating costs for the datacenter. The method of therefore includes administering one of the plurality of server computing devices in dependence upon the server operating capabilities for that server computing device. Administering one of the plurality of server computing devices in dependence upon the server operating capabilities for that server computing device according to the method of may be carried out by identifying servers in the datacenter that have excess processing capacity and reducing the operating speed for those servers to reduce the amount of power the servers consume. For example if a server in the datacenter is only utilizing fifty percent of its computing resources then an administrative server for the datacenter may instruct the processor and various server subsystems to operate at a slower speed to reduce power and cooling costs for the datacenter.

Exemplary embodiments of the present invention are described largely in the context of a fully functional computer system for transferring a LPAR between two server computing devices based on LPAR customer requirements. Readers of skill in the art will recognize however that the present invention also may be embodied in a computer program product disposed on computer readable media for use with any suitable data processing system. Such computer readable media may be transmission media or recordable media for machine readable information including magnetic media optical media or other suitable media. Examples of recordable media include magnetic disks in hard drives or diskettes compact disks for optical drives magnetic tape and others as will occur to those of skill in the art. Examples of transmission media include telephone networks for voice communications and digital data communications networks such as for example Ethernets and networks that communicate with the Internet Protocol and the World Wide Web as well as wireless transmission media such as for example networks implemented according to the IEEE 802.11 family of specifications. Persons skilled in the art will immediately recognize that any computer system having suitable programming means will be capable of executing the steps of the method of the invention as embodied in a program product. Persons skilled in the art will recognize immediately that although some of the exemplary embodiments described in this specification are oriented to software installed and executing on computer hardware nevertheless alternative embodiments implemented as firmware or as hardware are well within the scope of the present invention.

It will be understood from the foregoing description that modifications and changes may be made in various embodiments of the present invention without departing from its true spirit. The descriptions in this specification are for purposes of illustration only and are not to be construed in a limiting sense. The scope of the present invention is limited only by the language of the following claims.

