---

title: Extensible and programmable multi-tenant service architecture
abstract: An extensible, multi-tenant software-as-a-service business application platform is provided for hosting multiple organizations. Organization services are provided by virtual or physical servers with dedicated data stores assembled in scalable groups. Distributed interaction between components of the scalable groups may enable extensibility and reliability, while changes in locations of organization services are provided to the client(s) for seamless continuation of the client's access to the services. Customizable and dynamic APIs for accessing each organization's data and applications isolated from the others and pluggable third party authentication services may also be integrated into the platform.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08019812&OS=08019812&RS=08019812
owner: Microsoft Corporation
number: 08019812
owner_city: Redmond
owner_country: US
publication_date: 20070413
---
Business efforts strive to respond to customer demands quickly get products to market faster increase overall profitability and consistently outperform the competition. Agility the ability to meet these common market challenges is dependent on a solid business application technology platform. To achieve business agility a multifaceted intelligent software infrastructure is needed that is designed for application integration.

Business application platforms are typically single tenanted meaning that they can host applications only for a single organization and all the platform resources are dedicated only to that organization. Such platforms are typically hosted by the customer and installed and deployed within their company premises. The cost for deploying and maintaining such platform may be high and the return on investment not optimized.

On the other hand designing and managing multi tenant systems has its own challenges. In a practical multi tenant system each client may have a different schema for connecting to their organization. Furthermore each client may connect to multiple organizations rendering the management of such systems a very complex task from security traffic management reliability and extensibility aspects.

This summary is provided to introduce a selection of concepts in a simplified form that are further described below in the Detailed Description. This summary is not intended to identify key features or essential features of the claimed subject matter nor is it intended as an aid in determining the scope of the claimed subject matter.

Embodiments are directed to providing an extensible multi tenant software as a service model for serving multiple organizations from a single platform. A platform according to embodiments may include a discovery service for providing clients information associated with a location and configuration of the organization services hosted by the platform. The client is then enabled to access the organization services which may be hosted in scalable clusters. Location changes may be provided to the client s for uninterrupted access of the client to the requested service s .

These and other features and advantages will be apparent from a reading of the following detailed description and a review of the associated drawings. It is to be understood that both the foregoing general description and the following detailed description are explanatory only and are not restrictive of aspects as claimed.

As briefly described above an extensible multi tenant business application platform may be provided employing a discovery service and scalable server clusters. In the following detailed description references are made to the accompanying drawings that form a part hereof and in which are shown by way of illustrations specific embodiments or examples. These aspects may be combined other aspects may be utilized and structural changes may be made without departing from the spirit or scope of the present disclosure. The following detailed description is therefore not to be taken in a limiting sense and the scope of the present invention is defined by the appended claims and their equivalents.

While the embodiments will be described in the general context of program modules that execute in conjunction with an application program that runs on an operating system on a personal computer those skilled in the art will recognize that aspects may also be implemented in combination with other program modules.

Generally program modules include routines programs components data structures and other types of structures that perform particular tasks or implement particular abstract data types. Moreover those skilled in the art will appreciate that embodiments may be practiced with other computer system configurations including hand held devices multiprocessor systems microprocessor based or programmable consumer electronics minicomputers mainframe computers and the like. Embodiments may also be practiced in distributed computing environments where tasks are performed by remote processing devices that are linked through a communications network. In a distributed computing environment program modules may be located in both local and remote memory storage devices.

Embodiments may be implemented as a computer process method a computing system or as an article of manufacture such as a computer program product or computer readable media. The computer program product may be a computer storage media readable by a computer system and encoding a computer program of instructions for executing a computer process. The computer program product may also be a propagated signal on a carrier readable by a computing system and encoding a computer program of instructions for executing a computer process.

Referring to diagram of an example single tenant service model is illustrated. As mentioned previously programmability architectures for typical business application platforms are single tenanted and suited for on premise hosted applications.

In such a typical single tenanted platform client accesses data and business applications associated with a single tenant that is hosted by web service through networks . While networks may be the Internet it is commonly an intranet type combination of networks. Since a single tenant is hosted by the service authentication security and other preliminary operations may be performed by the service itself rather than using a third party service. The location of the services does typically not change although redundancy and some load balancing operations may involve use of multiple servers and or server clusters.

Thus operations in a single tenanted system are relatively simple and straight forward. However in today s business world many organizations prefer to outsource their business application platforms to entities that can provide efficient cost effective and reliable service. In order to streamline their business model and efficiently utilize their resources such entities may prefer to host services for multiple organizations. Furthermore some clients may be associated with multiple organizations in which case it would make sense for the client to access all organizations through a single contact point.

Web service may perform management services and direct clients to organization specific web services . Additionally web service may perform authentication security check and similar preliminary services optionally using third party services. Organization specific web services may include scalable clusters where individual organizations operations may be moved for load balancing and other reasons. Web service may monitor such changes and redirect the calling client accordingly such that the change is transparent to the client.

Clients may be thin or thick clients with additional services optionally provided by third party applications in the case of thin clients. Different clients may access different services using distinct schemas. Some of the services may also share the schemas.

The architecture in FIG. for that matter also FIG. is for illustrating an overview of software as a service platforms. Only essential components are illustrated for simplicity purposes. In practice such systems include many more components with specific tasks and communication methods. A more detailed discussion of such a platform according to embodiments is provided below.

According to some embodiments the service may use an optional trusted third party authentication service for authenticating the users client of each organization e.g. ticket service . Independent plug in authentication services may also be used for Internet or intranet modes. According to other embodiments access to each organization s data and operations may be restricted based on security roles and privileges and organization membership.

According to some implementations each organization s data and applications may be isolated from the others and accessed through a set of dedicated of APIs. The APIs may enable developers to access and modify business data as well as define invoke modify business processes and logic remotely over the Internet. The APIs may be automatically generated and dynamic so that whenever a new organization is added to or removed from the platform the APIs can automatically adjust. The APIs may also be customizable allowing custom objects and operations to be added to each organization separate from other organizations.

Discovery service provides authentication and organization discovery services enabling a client to sign in into the platform and discover all the organizations that he she is a member of. Discovery service may provide detailed configuration data about each organization including its location within the platform for direct access and other configuration information. The configuration information may be stored in and retrieved from configuration store . A user client can be a member of one or more organizations hosted in a site. The discovery service may operate in multiple authentication modes. Each authentication mode may have its own dedicated endpoint enabling the client to specify what authentication should be used.

According to further embodiments each API endpoint may serve multiple organizations. Each call to the API may identify the target organization intended to reach. The discovery service may use configuration store to retrieve organization configuration data. An administrator may be enabled to access and maintain the configuration store .

Organization data and operations may be placed in a plurality of scalable groups service locations etc. available within a service cluster of the platform . An organization s location may change and move between the scalable groups for load balancing purposes. The extensible multi tenant service model is dynamic in a sense that it can locate the target organization even after a move. Each service location . . . may include one or more virtual or physical servers providing the services.

According to other embodiments a locator service not shown may provide information about which database s may be used by the web servers. Web servers may also place asynchronous service requests in queues to be handled by asynchronous servers in conjunction with organization databases . As a client request comes up in the queue one of the asynchronous servers may be contacted for processing the request. A relationship between the asynchronous servers and the individual organization databases may be a distributed one where each server may work with any one of the databases. This distributed interaction between the asynchronous servers and the organization databases may provide the ability to automatically recover from failures in the asynchronous processing machines by allowing the databases to connect to another available server when one fails.

Due to the independent distribution of synchronous and asynchronous work and the interaction between the servers and the databases any part of the server cluster is scalable. Thus multiple instances of the servers and or databases may be provided to address increased workload additional organizations data capacity and so on.

According to the example operation client initiates a call by requesting a site policy from discovery service . Discovery service responds with the site policy which may identify an optional ticket service e.g. for authentication . If the optional third party ticket service is used client may send a ticket request to the ticket service and receive the service ticket if the client s credentials are confirmed for access to a requested organization tenant .

Client then submits a site ticket request with the service ticket from ticket service to discovery service . Discovery service responds with the site ticket. Client may then submit a list of requested organizations to which discovery service responds with the list of locations of the requested organizations and other configuration information schema etc. . Subsequently client may access the target organizations through organization services using the location and configuration information provided by the discovery service . As indicated previously the location of organization services may change due to scaling load balancing and so on. Discovery service may update the client with the changed location information such that the client s access to the organization service can continue seamlessly.

The scalable multi tenant systems and operations described in through are exemplary for illustration purposes. A system for extensible multi tenant services may be implemented with additional or fewer components and operations using the principles described herein.

Such a system may comprise any topology of servers clients Internet service providers and communication media. Also the system may have a static or dynamic topology. The term client may refer to a client application or a client device. While a networked system implementing extensible multi tenant services may involve many more components relevant ones are discussed in conjunction with this figure.

Requests for access may come from tenants using individual client devices or application server in a networked multi tenant system. Such a system may also be implemented in one or more servers e.g. servers and accessed by the client devices or applications . One or more web servers physical or virtual such as web server may receive the requests and direct them to the appropriate resource. The resources may include scalable server clusters with synchronous and asynchronous server organization databases and other components.

Organization databases may be embodied in a single data store such as data store or distributed over a number of data stores. Dedicated database servers e.g. database server may be used to coordinate data retrieval and storage in one or more of such data stores.

Network s may include a secure network such as an enterprise network an unsecure network such as a wireless open network or the Internet. Network s provide communication between the nodes described herein. By way of example and not limitation network s may include wired media such as a wired network or direct wired connection and wireless media such as acoustic RF infrared and other wireless media.

Many other configurations of computing devices applications data sources data distribution systems may be employed to implement an extensible multi tenant service platform. Furthermore the networked environments discussed in are for illustration purposes only. Embodiments are not limited to the example applications modules or processes.

Web services may be a separate application or an integral module of a hosted multi tenant service platform that provides data and processing services to client applications associated with computing device . Discovery service may provide location and configuration information associated with individual organization tenant services to a client requesting access to those. Optional locator service may provide services associated with determining a purpose of the service and which databases to use for web servers as well as asynchronous processing servers as described previously. This basic configuration is illustrated in by those components within dashed line .

The computing device may have additional features or functionality. For example the computing device may also include additional data storage devices removable and or non removable such as for example magnetic disks optical disks or tape. Such additional storage is illustrated in by removable storage and non removable storage . Computer storage media may include volatile and nonvolatile removable and non removable media implemented in any method or technology for storage of information such as computer readable instructions data structures program modules or other data. System memory removable storage and non removable storage are all examples of computer storage media. Computer storage media includes but is not limited to RAM ROM EEPROM flash memory or other memory technology CD ROM digital versatile disks DVD or other optical storage magnetic cassettes magnetic tape magnetic disk storage or other magnetic storage devices or any other medium which can be used to store the desired information and which can be accessed by computing device . Any such computer storage media may be part of device . Computing device may also have input device s such as keyboard mouse pen voice input device touch input device etc. Output device s such as a display speakers printer etc. may also be included. These devices are well known in the art and need not be discussed at length here.

The computing device may also contain communication connections that allow the device to communicate with other computing devices such as over a wireless network in a distributed computing environment for example an intranet or the Internet. Other computing devices may include server s that execute applications associated with a location service or other services. Communication connection is one example of communication media. Communication media may typically be embodied by computer readable instructions data structures program modules or other data in a modulated data signal such as a carrier wave or other transport mechanism and includes any information delivery media. The term modulated data signal means a signal that has one or more of its characteristics set or changed in such a manner as to encode information in the signal. By way of example and not limitation communication media includes wired media such as a wired network or direct wired connection and wireless media such as acoustic RF infrared and other wireless media. The term computer readable media as used herein includes both storage media and communication media.

The claimed subject matter also includes methods. These methods can be implemented in any number of ways including the structures described in this document. One such way is by machine operations of devices of the type described in this document.

Another optional way is for one or more of the individual operations of the methods to be performed in conjunction with one or more human operators performing some. These human operators need not be collocated with each other but each can be only with a machine that performs a portion of the program.

Process begins with operation where a request for accessing one or more organizations is received from a client along with the client credentials. As described previously clients of a multi tenant hosted service are typically associated with organizations or tenants each of which has a service including a dedicated database within the system. Prior to receiving the request the client may optionally use a third party authentication service. Processing advances from operation to decision operation .

At decision operation a determination is made whether the client is authenticated. The determination may also include a check of whether the requested organization s are hosted by the multi tenant service platform. If the client is authenticated the process advances to operation . Otherwise processing moves to a calling process for further actions.

At operation a location of the requested organization service is determined. Processing moves from operation to operation where the location of the organization service is provided to the client for access. Additional configuration information may also be provided along with the location information. After operation processing moves to decision operation .

At decision operation a determination is made whether the location of the organization service is changed due to scaling load balancing and so on. If a change in the location is determined processing moves to operation . Otherwise processing moves to a calling process for further actions.

At operation the change in the location of the organization service is provides to the client such that the client s access to the service can continue seamlessly. After operation processing moves to a calling process for further actions.

The operations included in process are for illustration purposes. Providing extensible multi tenant service to a client may be implemented by similar processes with fewer or additional steps as well as in different order of operations using the principles described herein.

The above specification examples and data provide a complete description of the manufacture and use of the composition of the embodiments. Although the subject matter has been described in language specific to structural features and or methodological acts it is to be understood that the subject matter defined in the appended claims is not necessarily limited to the specific features or acts described above. Rather the specific features and acts described above are disclosed as example forms of implementing the claims and embodiments.

