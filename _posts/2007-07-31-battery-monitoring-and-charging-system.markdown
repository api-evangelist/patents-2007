---

title: Battery monitoring and charging system
abstract: A battery monitoring device for a battery having cells grouped in modules. The device includes a monitoring circuit for each module which monitors the voltage in each cell and the overall module voltage. The monitoring circuits can also detect module temperatures. The monitoring circuits are networked to a control computer. The device can be used with a power supply and relays for each module to interrupt charging when a fault condition is detected by the monitoring circuits. Other features of the device allow equalization of cells having excessive voltages.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=07755326&OS=07755326&RS=07755326
owner: The United States of America as represented by the Secretary of the Navy
number: 07755326
owner_city: Washington
owner_country: US
publication_date: 20070731
---
The invention described herein may be manufactured and used by or for the Government of the United States of America for Governmental purposes without the payment of any royalties thereon or therefore.

The present invention relates generally to power management circuitry for a battery and in particular to modular digital power management circuitry.

High power level rechargeable batteries are often necessary for specific applications. These batteries are made up of a plurality of series connected cells grouped in modules. In electric vehicle applications batteries such as this are often capable of delivering in excess of 100 KW at a voltage of 400 VDC or above. A battery of this nature can have in excess of one hundred cells divided into individual modules or banks of cells.

A battery of this power level must be handled very carefully and monitored very closely during charge and discharge. This is particularly true of lithium ion batteries. The voltage of each cell must be monitored during discharge to ensure that no cell voltage is allowed to drop below approximately 2.1 VDC. Allowing a cell voltage below this level may cause irreversible damage to the cell. More importantly the voltage of each cell must be carefully monitored and controlled while charging. Overcharging a cell beyond approximately 4.3 VDC can result in catastrophic failure of the cell.

It is also desirable that all cells remain at the same voltage level charge at the same rate and reach the desired final voltage level at the same time. In practice however this is not the case cell charge and discharge characteristics vary. All cells must be monitored very closely during charging. If any cell or group of cells reaches a predefined upper voltage limit prior to the rest of the cells charging is suspended and the rogue cells must be discharged to the voltage level of the other cells. This process is referred to as cell equalizing or cell equalization .

Monitoring battery temperature during charge and discharge is also very important. Cell temperatures should not be allowed to exceed a predetermined temperature. If this temperature is reached corrective action must be taken immediately. This corrective action can include shutting down the charge or discharge process or activating a cooling system.

These problems are specifically acute when using lithium ion batteries however other battery chemistries have similar problems. In view of the prior art there is a need for a battery monitoring and charging system that allows full monitoring and control of the battery.

One embodiment of the invention provides a battery monitoring device for a battery having cells grouped in modules. The device includes a monitoring circuit for each module which is connected in such a way as to monitor the voltage of each individual cell in the module in addition to the overall module voltage. The monitoring circuits can also detect module temperatures. The monitoring circuits are networked to a single control computer. During charging each module s monitoring circuit is in direct control of a relay connecting the charge power supply to the battery and can interrupt charging when a fault condition is detected.

This embodiment provides a modular battery monitoring and charging system. The battery is subdivided into a plurality of battery modules each having a plurality of cells . Each module has a battery control board associated with that module . Each battery control board has multiple temperature monitoring connections multiple cell connections used for cell voltage monitoring and cell equalization and a power relay connection . Internal connections within module and battery control board will be shown hereinafter. Module is only defined by its connection to a single battery control board and module can have as many cells as battery control board can monitor. The battery control boards are joined to a control computer by a network . For identifying the separate control boards to the control computer each board has a dip switch memory or other means for giving it a unique network address. This network can be Ethernet wi fi or any other networking technology. The charge control computer provides coordination and control of the modules during discharge and charging. In order to charge battery there is a charging system joined to network and control computer . Charging system is further joined to power relay connection as discussed with relation to . Charging cables and are connected to the low and high side of battery respectively.

Voltage monitoring connection is required to monitor the voltage in each cell as well as the overall voltage of the module . Ground for these purposes is the lowest voltage in module . This is the voltage identified at . In view of the series arrangement of battery and modules ground for the specific module could be well above the base voltage of battery . Components of the embodiment must be capable of operating with these voltage differentials. The overall voltage of the module is measured by a voltage divider utilizing resistors and set up between the highest voltage in the module and the ground . The highest voltage for module is that at point . The voltage divider is connected to the input of an op amp configured as a low pass filter for reducing noise in the overall voltage measurement. The filter output is connected to a voltage analog to digital converter .

Cell voltages are measured by joining voltage monitoring connection on both sides of each cell . The voltage between the high voltage and low voltage of each side of cell is measured by a differential amplifier . Differential amplifier can be any differential amplifier having a common mode voltage rating capable of handling the highest voltage in the module . The output of the differential amplifier is connected to voltage analog to digital converter through a low pass filter . Differential amplifiers convert the various differential measurement common mode cell voltage levels present in the module and reference them all to a common ground preventing these voltages from adversely affecting analog to digital converter . Low pass filters eliminate high frequency noise that may be present on the cell voltage signals. Low pass filters can be implemented as two pole active low pass filters or as a passive low pass filters. Cutoff frequency of these filters should be chosen as is necessary to eliminate high frequency noise.

As described above filtered voltage measurements from the cells and the overall module voltage divider output are provided to one or more voltage analog to digital converters . The number of converters is dictated by the number of cells in module and the number of channels in each analog to digital converter . The digital output of voltage analog to digital converters is serialized by a parallel to serial interface . Temperature analog to digital converter are serialized by a separate parallel to serial interface because analog to digital converter operates at the same ground level as the processor and does not require isolation. Interfaces and which may be integral to the analog to digital converter convert signals from the analog to digital converters into a serial form that can be interfaced to the serial interface of processor . The function of processor can be implemented using a wide range of digital signal processors microcontrollers or microprocessors. The serial output of interface is isolated from processor by an isolator . Isolator allows the processor to operate at a common system wide ground rather than the module specific ground discussed above. This allows the processors from all control boards to be powered from a single power supply.

On each board board relay is connected to processor through a driver . Driver is provided merely for giving the required control power for relay and may not be necessary in some embodiments. Processor is further connected to a network driver in communication with network . Processor can control board relay when it receives a command from control computer or when it detects a fault through the sensors provided in relation to .

Adjustable output power supply has a network driver installed to communicate with network . This allows control computer to disable the adjustable output power supply in case of fault or equalization. Network is joined to a network hub . Control computer is joined to network hub through network .

This embodiment features multiple layers of redundant fault sensing and control that are designed into the device. When charging control computer can be an external computer in constant communications with battery control boards and with power supply which has its own network interface . Control computer commands the power supply voltage to 0 VDC and disables power supply s output if it receives cell voltage or temperature data from one of the battery control boards that is out of acceptable range specified by the user. Control computer also disables power supply if it loses communication with any of the battery control boards or receives a fault message from one of the boards.

The processor on each battery control board is programmed to sample cell voltages and temperatures several times a second. Processor compares these cell voltages to high and low voltage limits defined by the user and communicated to the processor through a graphical user interface on control computer . The graphical user interface can display cell voltage module voltage module temperatures and board temperatures. The graphical user interface can also provide user control for charging and equalization. Each processor controls board relay that controls the coil of main relay . The voltage controlling main relay and passing serially through board relays on boards is supplied from an external fixed output power source . All processors must close their respective board relays in order for power to be applied to the main relay that electrically connects the charge power supply to the battery . If any of the processors senses a fault condition or loses communication with the control computer that processor will command its board relay to open which will also open the main relay disconnecting the charge power supply from the battery .

It is to be understood that the foregoing description and specific embodiments are merely illustrative of the best mode of the invention and the principles thereof and that various modifications and additions may be made to the invention by those skilled in the art without departing from the spirit and scope of this invention which is therefore understood to be limited only by the scope of the appended claims.

