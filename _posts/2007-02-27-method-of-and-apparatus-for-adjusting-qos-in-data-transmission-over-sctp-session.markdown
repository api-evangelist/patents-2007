---

title: Method of and apparatus for adjusting QoS in data transmission over SCTP session
abstract: A method of adjusting quality of service (QoS) with respect to changes in a transmission environment of a mobile terminal receiving data based on a stream control transmission protocol (SCTP) session. When the transmission environment of the mobile terminal receiving data based on the SCTP session changes, the mobile terminal transmits link information indicating a new transmission environment to a destination node, and the destination node adjusts the quality of data or the size of a transmission window based on the link information. Thus, without adding separate network devices, the QoS of the data being transmitted can be adjusted with respect to the changed transmission environment, only by adding functions with software to the transmission terminal and the reception terminal. Also, since the destination node manually adjusts the transmission window according to the link information, packet loss can be minimized compared to the conventional congestion control method.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08498271&OS=08498271&RS=08498271
owner: Samsung Electronics Co., Ltd.
number: 08498271
owner_city: Suwon-Si
owner_country: KR
publication_date: 20070227
---
This application claims the benefit of PCT International Patent Application No. PCT KR2007 000984 filed Feb. 27 2007 and Korean Patent Application No. 2006 21282 filed Mar. 7 2006 in the Korean Intellectual Property Office the disclosures of which are incorporated herein by reference.

Aspects of the present invention relate to wireless communication and more particularly to a method of and apparatus for receiving data in a mobile terminal using a stream control transmission protocol SCTP .

With the development of wireless communication technology communication devices can now be used while users are on the move in addition to using the communication devices at stationary locations. One of the most important technological factors to be considered when communicating while traveling is seamless connection to the Internet. In order to guarantee easy Internet connection research on a variety of types of networks such as a wireless local area network WLAN and a code division multiple access CDMA network have been carried out. Even when a mobile terminal performing data communication moves into a heterogeneous network as well as a homogeneous network if a mobile Internet protocol IP technology or a handover technology using an ADD IP of a stream control transmission protocol SCTP is used the user can seamlessly and continuously maintain the communication connection.

However since a variety of wireless networks have different available data transmission rates and billing systems if the transmission environment of the user changes a problem may arise.

As shown in a sender is transmitting data to a mobile terminal . The mobile terminal which belonged to an 802.11g wireless LAN is moving to a service area of a CDMA network while receiving the data. As described above the user can continuously receive data using a handover technology. However if the quantity of data transmitted by the sender exceeds a range that can be covered by the CDMA network a problem arises. The Internet tends to transmit as much data as possible using available networks to the maximum Best Effort Service . This tendency is stronger in multimedia services that should provide good sound and picture quality. Since the maximum data transmission rate supported in the CDMA network is 2.4 Mbps only 2.4 Mbps in the 10 Mbps data being transmitted by the sender through the wireless LAN is correctly transferred and 7.6 Mbps data is lost in the middle. Even though the existing session is maintained using a mobile IP a case where normal service cannot be provided occurs.

In order to solve this problem the sender should adjust the transmission rate with respect to the transmission environment of the mobile terminal and transmit data. However so far a method by which the sender can recognize the network connection environment of the mobile terminal has not been suggested.

When a mobile IP is used a method by which link information of a reception terminal is inserted into a binding update option and then is transferred to a transmission terminal can be considered. However if a new function is added when the mobile IP is used all terminals and devices participating in the communication should provide related functions.

Aspects of the present invention provide an apparatus and method which allow the mobile terminal to receive data seamlessly with quality of service QoS optimized to a new transmission environment when the transmission environment of a mobile terminal receiving data using a stream control transmission protocol SCTP changes.

According to aspects of the present invention a method of receiving data in a mobile node is provided. The method includes generating information indicating a changed transmission environment if a transmission environment changes while data is being received and transmitting the information to a destination node that is transmitting the data.

According to another aspect of the present invention the data is transmitted based on a stream control transmission protocol SCTP session and the transmitting of the information comprises transmitting an address configuration change ASCONF message including the information to the destination node.

According to another aspect of the present invention the information includes at least one of a maximum available bandwidth a signal to noise ratio SNR cost of network use and the name of a network.

According to still another aspect of the present invention a computer readable recording medium is provided having embodied thereon a computer program to execute the method of adjusting quality of service QoS .

According to another aspect of the present invention a mobile terminal apparatus is provided. The mobile terminal apparatus includes a link information generation unit to generate information indicating a changed transmission environment if the transmission environment changes while data is being received and a link information transferring unit transferring the information to a destination node that is transmitting the data.

According to another aspect of the present invention a method of transmitting data is provided. The method includes receiving information indicating changes in a transmission environment where the mobile node is positioned while transmitting data to a predetermined mobile node and adjusting the QoS of the data being transmitted based on the information.

According to another aspect of the present invention the data is transmitted based on an SCTP session and the receiving of the information indicating the changes in the transmission environment comprises receiving an ASCONF message including the information.

According to another aspect of the present invention the adjusting of the QoS of the data comprises changing at least one of the quality of the data and a transmission window based on the information.

According to still another aspect of the present invention a computer readable recording medium is provided having embodied thereon a computer program to execute the method of transmitting data.

According to another aspect of the present invention an apparatus to transmit data including a link information reception unit to receive information indicating changes in a transmission environment where the predetermined mobile node is positioned while transmitting data to a predetermined mobile node and a QoS adjustment unit to adjust the QoS of the data being transmitted based on the information.

Additional aspects and or advantages of the invention will be set forth in part in the description which follows and in part will be obvious from the description or may be learned by practice of the invention.

Reference will now be made in detail to the present embodiments of the present invention examples of which are illustrated in the accompanying drawings wherein like reference numerals refer to the like elements throughout. The embodiments are described below in order to explain the present invention by referring to the figures.

The SCTP basic standard defines that an IP address used in a session should be specified in advance in a session initialization operation. However in an extended standard m SCTP mobile SCTP a function for registering or deleting a new IP address in a session in the middle of the session has been added. Hereinafter the SCTP should be interpreted as a broader concept including the extended standard.

Referring to the network includes a mobile terminal IP based base stations and a first router a second router and a terminal at the other end. The terminal is a destination node to which the mobile terminal transmits data. The mobile terminal has a mounted SCTP protocol stack and is assigned an IP address for communication by an IP based base station or responsible for the area where the mobile terminal is positioned. The IP based base station or is positioned between the mobile terminal which moved in the communication area for which the base station is responsible and the first router and relays a signal. The IP based base station or transfers an SCTP data packet received from the mobile terminal to the first router and transfers an SCTP data packet with a destination being the mobile terminal received from the first router to the mobile terminal . The IP based base station or transmits a beacon signal and assigns an IP address for communication to the mobile terminal which moved into the communication area for which the base station is responsible.

The first router which is connected to the Internet transmits the SCTP data packet received from the IP based base station or to the second router responsible for the terminal and transmits an SCTP data packet with a destination being the mobile terminal to the IP based base station or responsible for the area where the mobile terminal is positioned. The second router transmits the SCTP data packet received from the terminal to the first router responsible for the mobile terminal and transfers the SCTP data packet to the terminal . The terminal is an apparatus with a mounted SCTP protocol stack performing communication with the mobile terminal according to the SCTP protocol.

Though an apparatus fixed to a predetermined place such as a fixed server is shown in the terminal may also be a mobile apparatus such as a mobile phone a personal digital assistant PDA or a notebook computer. The terminal performs communication through routers and IP based base stations.

In the network shown in the mobile terminal positioned in the area for which an IP based first base station is responsible establishes a communication route to the terminal connected to the Internet. The mobile terminal and the terminal perform data communication through the established communication route. While performing the communication if the mobile terminal moves into the area for which an IP based second base station is responsible the mobile terminal senses a new link up signal for example base station information included in a beacon signal transmitted by the IP based second base station and a new IP address is assigned to the mobile terminal . The mobile terminal can perform handover by adding the newly assigned IP address to the SCTP session.

When reconstruction of an IP address with respect to the SCTP session is required the mobile terminal loads related address information on an address configuration change ASCONF message and transmits the message to the terminal . In response to this the terminal transmits an ACSONF ACK message. According to an aspect of the present invention if the transmission environment of a mobile terminal is changed the mobile terminal loads link information indicating the changed transmission environment onto an ASCONF message and transmits the message to the terminal . The terminal receiving the ASCONF message adjusts the quality of data or transmission rate based on the link information included in the ASCONF message.

If a mobile terminal receiving data through an SCTP session recognizes that the transmission environment has changed in operation the mobile terminal generates link information indicating the new transmission environment in operation . Changes in the transmission environment include all the changes in the maximum bandwidth that the mobile terminal can currently use the name of the network to which the mobile terminal belongs and the billing system for use of the network.

There may be a variety of reasons for these changes in the transmission environment. The reason may be a handover to a network of a type different from that of the network to which the mobile terminal previously belonged vertical handover or a handover to a network of the same type of the network to which the mobile terminal previously belonged horizontal handover when the mobile terminal moves. Even if the position of the mobile terminal does not change if the number of terminals accessing the same subnet that the mobile terminal accesses increases and thus the maximum available bandwidth decreases this can be regarded as a change in the transmission environment.

The generated link information is inserted into an ASCONF message in operation . The ASCONF message is transmitted to a terminal at the other end which is transmitting the data in operation . The ASCONF message is a message used to change IP settings for example adding or deleting a new IP in an SCTP session as described above.

If the transmission environment is changed as the number of terminals accessing the same subnet that the mobile terminal accesses increases and thus the maximum available bandwidth decreases even though the position of the mobile terminal does not change the changes such as adding or deleting an IP address may not be needed. Accordingly an ASCONF message with a format allowing a currently used IP to be redundantly added can be used so that the existing IP settings cannot be changed.

When a terminal transmitting data to a mobile terminal through an SCTP session receives an ASCONF message from the mobile terminal in operation the terminal extracts link information in operation . An operation for changing an IP address setting according to the contents of the ASCONF message not shown may also be performed. The terminal adjusts the QoS of the data being transmitted in operation according to the extracted link information. The adjustment here may be adjustment of the quality of data or the size of a transmission window.

For example when the mobile terminal moves from a wireless LAN to a CDMA network supporting a bandwidth lower than that of the wireless LAN while receiving data such as moving pictures in real time the terminal at the other end transmitting the moving picture data may transmit the data after lowering the quality of the moving picture data. In the case of non real time data it may be more important to transmit the data without errors though the speed may be a little lower than that for real time transmission and thus the size of the transmission window may be adjusted appropriately. In some cases the two adjusting techniques can be used together or other techniques may be employed.

If the mobile terminal moves from a CDMA network to a wireless LAN supporting a bandwidth higher than that of the CDMA while receiving data in real time the terminal at the other end transmitting the moving picture data may transmit the data after increasing the quality of the moving picture data. Likewise also in the case of non real time data it may be helpful to increase a transmission rate per unit time by adjusting the size of the transmission window in respect of enhancement of satisfaction about services. The two adjusting techniques may also be used together.

The link information that is a criterion for adjusting the QoS can include a maximum available bandwidth a signal to noise ratio SNR cost for network use and the name of a network as described above. The terminal transmitting data may also adjust the QoS with respect to the cost for network use in addition to or instead of the maximum bandwidth or the SNR indicated by the link information. For example if the transmission cost per packet of a network where the mobile terminal is positioned is lower than a threshold price preset by a user moving pictures of a highest picture quality is transmitted or else the QoS can be adjusted so that the transmission cost does not exceed the threshold price. Also when only network names such as 802.11b and CDMA 1xEV D0 are included in the link information information on a maximum bandwidth provided by each network may be learned in advance. By determining for example 60 of the maximum bandwidth as an optimum transmission rate a transmission window can be adjusted to the optimum transmission rate.

Referring to the mobile terminal includes an information collection unit a link information generation unit a link information transferring unit and a reception unit . The link information transferring unit includes an information insertion unit and a transmission unit . According to other aspects of the present invention the mobile terminal may include additional and or different units. Similarly the functionality of two or more of the above units may be integrated into a single component.

When the transmission environment is changed the information collection unit receives a message from a base station or an access point and thus collects information on the new transmission environment. The link information generation unit generates link information indicating the new transmission environment based on the information collected by the information collection unit . The link information transferring unit transmits the generated link information to a terminal at the other end. The link information transferring unit includes the information insertion unit and the transmission unit . The information insertion unit inserts the link information generated in the link information generation unit into an ASCONF message and the transmission unit transmits the ASCONF message into which the link information is inserted to the terminal . The reception unit receives stream data from the terminal through an SCTP session.

The terminal is composed of a link information reception unit a QoS adjustment unit and a transmission unit . The link information reception unit receives an ASCONF message including link information indicating a transmission environment in which the mobile terminal is positioned and transfers the ASCONF message to the QoS adjustment unit . The QoS adjustment unit includes a transmission window adjustment unit and an application programming interface API . The transmission window adjustment unit adjusts the size of a transmission window based on link information. The API transfers link information to an application which determines the quality of data being transmitted so that the quality of the data being transmitted can be changed to a quality optimal to the current transmission environment of the mobile terminal . The transmission unit transmits stream data to the mobile terminal with the QoS determined by the QoS adjustment unit .

Accordingly the terminal at the other end does not reset the size of the transmission window to 1 MSS and immediately adjusts the size to an appropriate level as shown in . In this way the process according to aspects of the present invention can reduce the same packet loss as much as the shaded part compared to the conventional method.

Hereinafter it is assumed that while receiving data in a CDMA network a mobile terminal changes position and handover is performed from the CDMA network to a wireless LAN having a higher available bandwidth.

In this way the method according to aspects of the present invention can improve the transmission rate as much as the shaded part compared to the conventional method shown in .

Aspects of the present invention can also be embodied as computer readable codes on a computer readable recording medium. The computer readable recording medium is any data storage device that can store data which can be thereafter read by a computer system. Examples of the computer readable recording medium include read only memory ROM random access memory RAM CDs DVDs Blu ray discs magnetic tapes floppy disks and optical data storage devices. Aspects of the present invention may also be embodied as carrier waves such as data transmission through the Internet .

According to aspects of the present invention without adding separate network devices and only by adding a function to the mobile terminal and the terminal at the other end using software the QoS of the data being transmitted can be adjusted with respect to a changed transmission environment when the transmission environment of the mobile terminal receiving the data is changed.

According to additional aspects of the present invention in congestion control a mobile terminal transmits link information indicating a changed transmission environment to a terminal at the other end and thus the terminal at the other end can manually adjust the transmission size immediately such that packet loss can be minimized.

Although a few embodiments of the present invention have been shown and described it would be appreciated by those skilled in the art that changes may be made in this embodiment without departing from the principles and spirit of the invention the scope of which is defined in the claims and their equivalents.

