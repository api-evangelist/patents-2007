---

title: System for detecting change of name-to-IP resolution
abstract: Detection for pharming attacks and specifically for changes in name-to-IP resolutions on a computer system using rules is described. The DNS settings and the Hosts file on a computer system are monitored and their modification information is saved as a part of the historical data over time. When an IP address is determined for a host name, various rules are applied to the IP address in connection with the saved historical data, such that each rule produces a score based on various criteria. Different rules may have different weights assigned to their scores. The scores of all the rules are summed up to produce a final score. If the final score is above a predefined value, then there is a suspicious change in the IP address, and an alert is sent. Otherwise, the host name and the IP address are saved as a part of the historical data.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08316440&OS=08316440&RS=08316440
owner: Trend Micro, Inc.
number: 08316440
owner_city: Tokyo
owner_country: JP
publication_date: 20071030
---
The present invention generally relates to detecting and preventing pharming attacks on computer systems. More specifically the present invention relates to using historical data to help detect pharming attacks and especially changes in name to IP resolutions on computer systems.

Pharming is a type of malicious attacks on computer systems that aims to redirect a legitimate website s traffic to another fake or bogus website. Often the purpose is to steal the victims sensitive or private information such as access codes or passwords to financial institutions. Typically pharming is achieved by secretively manipulating the local and or global DNS server s used by the victims computer systems and particularly by changing or replacing the real IP addresses associated with the legitimate websites with IP addresses of the fake websites. Thereafter when the victims attempt to access those websites whose IP addresses have been tampered with they are directed to the fake websites instead.

Every end point on the Internet e.g. application servers mail servers work stations personal computers etc. has a globally unique IP Internet Protocol address at least for the duration that the IP address is being used. IP addresses may be static or dynamic. A static IP address once being assigned to an end point i.e. a network device usually does not change whereas a dynamic IP address may be assigned to different network devices at different times.

IP addresses especially static IP addresses may be used as identifiers or locators for computer systems or other network devices on the Internet. An IP address associated with a network device is analogous to a street address associated with a building such that just as a street address uniquely identifies the location of a building in the real world an IP address uniquely identifies a network device on the Internet.

There are two versions of the Internet Protocol currently in use. The common version is IPv4 IP version 4 which uses 32 bit 4 byte addresses. Each IPv4 address is represented as four numbers separated by dots . and each number is between 0 and 255 8 bits . Thus typical IPv4 addresses may look like 192.168.4.32 or 127.0.64.1 .

The newer and less commonly used version is IPv6 IP version 6 which uses 128 bit 16 byte addresses. Each IPv6 address is represented as eight numbers typically written in hexadecimal format separated by colons . Typical IPv6 addresses may look like 2004 0da8 90a3 02f0 1428 c34b 0040 1b3a .

Regardless of which version of the Internet Protocol is used it is usually difficult for humans to remember even one or two such IP addresses much less the IP addresses of the many websites and other network devices people frequently visit every day. To simplify the matter directories called Domain Name System DNS are created to map websites names and other network devices host names to their corresponding IP addresses. For example the IP address assigned to the URL Uniform Resource Locator www.yahoo.com may be 209.131.36.158 and the IP address assigned to the URL www.trendmicro.com may be 216.246.93.75 . When a person wishes to visit the Yahoo main home page www.yahoo.com he may enter this name into the URL field of the web browser on his computer. The computer or more specifically the web browser then queries a DNS server for the IP address associated with the application server that hosts the URL www.yahoo.com . The DNS server looks up the correct IP address for the name www.yahoo.com and returns the address 209.131.36.158 to the web browser so that the web browser may contact www.yahoo.com using the correct IP address. This process is often referred to as name to IP resolution .

Suppose a criminal wants to steal people s private information such as user names and passwords from a bank s website e.g. www.bank.com . He sets up a fake bank website e.g. www.fake bank.com that appears as an exact duplicate of the real bank website www.bank.com . The IP address assigned to the real bank website may be 192.80.0.16 while the IP address associated with the fake bank website may be 162.32.8.0 . To hijack traffic from the real bank website to the fake bank website the criminal replaces the real IP address i.e. 192.80.0.16 for www.bank.com on the DNS server with the IP address of the fake bank website i.e. 162.32.8.0 . Thereafter when the victims computers query the DNS server for the IP address of the application server serving the website www.bank.com the compromised DNS server returns 162.32.8.0 instead and the victims computers are directed to the application server hosting the fake bank website. The unsuspecting victims enter their user names and passwords at the fake bank website which are then stolen by the criminal.

Pharming attacks occur on several levels. First a criminal may attack Hosts files on individual computers. A Hosts file is a computer file that is used to store information for mapping host names to IP addresses. It may be used as a supplement to or in place of the DNS server. A Hosts file is under the control of the computer s owner or user. If a Hosts file is compromised it only affects the particular computer system on which the file is located. Next the criminal may attack local network routers. For example an attacker may replace a router s legitimate DNS server with a fake DNS server under the criminal s control. This causes more problems than Hosts file attacks because a compromised router affects computers on the entire local area network LAN as most routers specify a trusted DNS server to their clients as they join the LAN. Finally the criminal may attack DNS servers directly and replace real IP addresses for the host names with fake IP addresses.

Pharming is becoming a major concern especially to businesses hosting e commerce and online banking websites. Existing methods for combating pharming attacks i.e. anti pharming include protections for application servers DNS servers web browsers etc. Nevertheless continuous efforts are being made to improve anti pharming protections and especially to improve the ability of detecting and preventing pharming attacks on individual computer systems.

Broadly speaking the present invention generally relates to detecting and preventing pharming attacks and especially changes in name to IP resolutions on computer systems.

According to various specific embodiments of the invention methods and apparatus are provided in which historical data saved on a computer system is used in connection with various rules to detect suspicious changes in name to IP resolutions. The DNS settings and the Hosts file on the computer system are monitored and their respective historical data are saved to one or more historical tables over time.

When a name to IP value is determined i.e. a host name is mapped to an IP address one or more rules are applied to the name to IP value where each rule produces a score. The score for a particular rule may be 0 if there is no suspicious activity related to that rule. For example one rule may detect the distance of the current IP address to historically saved IP address es for the same host name. If the distance is greater than a predefined value then this rule produces a score. Another rule may indicate a change in the DNS server. If the IP address of the DNS server that performs the name to IP resolution for the same host name has changed then this rule produces a score. A third rule may focus on changes in the DNS settings on the computer system. If there has been a change to the DNS settings within a predefined time period then this rule produces a score. A fourth rule may focus on changes in the Hosts file on the computer system. If there has been a change to the Hosts file within a predefined time period then this rule produces a score.

Based on various criteria each rule produces a score. Different rules may have different weights assigned to their scores. For example an important rule may have a greater weight in the final analysis. The scores of all the rules are summed up to produced a final score. If the final score is higher than a predefined value then the change in name to IP value is considered suspicious and the owner or user of the computer system is alerted.

The present invention will now be described in detail with reference to a few preferred embodiments thereof as illustrated in the accompanying drawings. In the following description numerous specific details are set forth in order to provide a thorough understanding of the present invention. It will be apparent however to one skilled in the art that the present invention may be practiced without some or all of these specific details. In other instances well known process steps and or structures have not been described in detail in order to not unnecessarily obscure the present invention. In addition while the invention will be described in conjunction with the particular embodiments it will be understood that this description is not intended to limit the invention to the described embodiments. To the contrary the description is intended to cover alternatives modifications and equivalents as may be included within the spirit and scope of the invention as defined by the appended claims.

Pharming hijacks traffic of a legitimate website and redirects it to another fake website. Usually this is done by manipulating Hosts files on individual computers DNS settings of individual computers or network routers and or DNS servers such that name to IP resolutions produce wrong IP addresses. For example when mapping the legitimate website to an IP address the IP address of the fake website is returned instead. To combat pharming attacks methods and apparatus are provided to detect suspicious changes in name to IP values i.e. IP addresses mapped from host names.

According to various embodiments the DNS settings and the Hosts file of a computer system are monitored and their information is saved on the computer system over time as historical data. When a host name is mapped to an IP address various rules are applied to the mapped IP address to determine if there is a suspicious change in the mapped IP address. Each rule produces a score based on some criteria and the scores of different rules may be assigned different weights depending on the importance of the respective rules. The scores of all the rules are summed up to produce a final score. If the final score is higher than a predefined value then the change in the mapped IP address is considered suspicious and the owner of the computer system is alerted.

On each computer system there is a setting typically as a part of the operating system that specifies the DNS server from which queries should be made whenever the computer and more specifically the operating system or an application program running on the computer such as a web browser needs to map a particular host name to an IP address i.e. to obtain name to IP resolution. This is called the computer s DNS settings. For example for a computer having a version of Microsoft s Windows operating system the computer s DNS settings may be specified as a part of the operating system s Internet Protocol TCP IP properties. In the DNS settings the IP address of the DNS server may be specified. Often times more than one IP addresses may be specified such as one IP address for a preferred DNS server and another IP address for an alternate DNS server. For example the IP address for the preferred DNS server may be 122.36.184.3 and the IP address for the alternate DNS server may be 122.36.184.6 .

A host name is a unique name by which a network device is known on the network. The precise definition of the word host name varies slightly between various naming systems such as NIS Network Information Service DNS SMB Server Message Block etc. However on the Internet a host name typically is a combination of a host device s local hostname and its parent domain name. Each host name is associated with a unique IP address. For example the host name mail.yahoo.com may have an IP address 209.73.168.74 . As explained before a host name may be translated or mapped into an IP address via the local Hosts file on the computer or the DNS server and this is called name to IP resolution . If the DNS server is queried for the IP address of a host name then the computer sends the query request to the DNS server specified in the computer s DNS settings. In the above example the computer first sends the query request to the preferred DNS server at IP address 122.36.184.3 . If the preferred DNS server is not available then the computer sends the query request to the alternate DNS server at IP address 122.36.184.6 .

The DNS Settings Monitor monitors any changes in the computer s DNS settings. If the IP addresses of any of the DNS servers are changed in the computer s DNS settings then the previous DNS settings and a timestamp indicating the time of the change are saved in the Historical Data . In the above example suppose the DNS settings of the computer previously specify IP address 122.36.184.3 for the preferred DNS server and IP address 122.36.184.6 for the alternate DNS server. Then at some point the IP addresses for either the preferred DNS server or the alternate DNS server or both have been changed in the computer s DNS settings. The DNS Settings Monitor saves the two older IP addresses 122.36.184.3 and or 122.36.184.6 and the time the change is made e.g. Oct. 18 2007 at 11 25 am to Historical Data . The Hosts File Monitor on the other hand monitors changes made to the computer s Hosts file. As explained before a Hosts file stores information that may be used to map host names to IP addresses and may be used as a supplement to or in place of the DNS servers. A sample Hosts used by a version of Microsoft s Windows operating system may include the following entries 

If any entry in the Hosts file is changed then the new modified version of the Hosts file and a timestamp indicating the time of the change are saved in the Historical Data . Thus if for example the IP address for rhino.acme.com in the above Hosts file has been changed to 80.200.92.0 the Hosts File Monitor saves the new Hosts file having the modified IP address 80.200.92.0 for rhino.acme.com and the time the change is made e.g. Oct. 18 2007 at 12 56 pm to Historical Data . This means that the Hosts file saved in the Historical Data is always the latest most current version.

The DNS Settings Monitor and the Hosts File Monitor monitor the DNS settings and the Hosts file of the computer system respectively and continually. If any changes are made to the DNS settings and the Hosts file of the computer system the changes are recorded in the Historical Data along with a timestamp indicating the time the changes are being made.

In one or more embodiments the DNS Settings Monitor and the Hosts File Monitor periodically check the DNS settings and the Hosts File content respectively to see if any entry or value has been changed by comparing the content against the appropriate data saved in the Historical Data . The check may occur for example once per minute.

Alternatively for monitoring the Hosts file on a version of Microsoft s windows operating system the APIs Application Programming Interface provided by the operating system for monitoring a directory may be used. In this case if any file in a monitored directory is changed the operating system notifies the monitoring process. Thus the Hosts File Monitor may use the APIs to monitor the directory where the Hosts file is located and if the Hosts file is modified the operating system will notify the Hosts File Monitor .

The Detection Process detects any suspicious changes in name to IP resolution . When the computer obtains an IP address for a host name either from the local Hosts file or by querying a DNS server the Detection Process analyzes the host name and the IP address based on various rules and in connection with the data saved in Historical Data. If the analysis indicates that the IP address is suspicious then the Detection Process alerts an owner or user of the computer system.

The alert to the user may take various formats. For example the alert may be an email message an instant message a pop up window that includes a message a short text message to the user s mobile telephone or Personal Digital Assistant PDA a telephone call to the user s mobile telephone or other telephones etc. The user may specify his or her preference for receiving the alert .

On the other hand if the analysis indicates that the IP address is not suspicious and acceptable then the Detection Process saves the IP address along with the host name the IP address of the DNS server and a timestamp indicating the time when the data is stored in the Historical Data . The Detection Process is described in more detail below in .

Thus three kinds of data are saved in the Historical Data . First the DNS Settings Monitor saves the DNS settings and a last modified timestamp to the Historical Data every time the computer s DNS settings are changed. Next the Hosts File Monitor saves the most current Hosts file and a last modified timestamp to the Historical Data every time the computer s Hosts file is changed. Finally the Detection Process saves a host name its associated IP address the IP address of the DNS server that performs the name to IP resolution and a timestamp to the Historical Data every time a legitimate IP address is determined.

To prevent the Historical Data from growing too large the entries for the host name IP address DNS server sets may be periodically removed as they become expired. For examples a timeframe may be specified by a user such that entries for the host name IP address DNS server sets may be removed if they are older than the user specified timeframe. Alternatively if the user chooses not to specify a timeframe a default timeframe may be used for removing the host name IP address DNS server entries. This may be achieved by checking the timestamp saved in the Historical Data along with each set of host name IP address and DNS server IP address.

The Historical Data is a data repository that may take various forms. The data may be saved in a file on the computer or in a data base communicatively connected to the computer. The data saved in the Historical Data may be stored as a table. The following Table 1 is a sample table that may be used to store various types of historical data.

Of course depending on the actual implementation the Historical Data may be stored in multiple tables. For example there may be three separate historical tables one for storing information relating to modifications made to the DNS settings another one for storing information relating to modifications made to the Hosts file and the third one for storing information relating to legitimate name to IP resolution results. And the actual formats of the tables may vary as well. The following Table 2 is a sample table that may be used to store only historical data for mapped IP address.

The following Table 3 is a sample table that may be used to store only historical data for DNS settings.

The following Table 4 is a sample table that may be used to store only historical data for Hosts file content.

The Historical Data helps the Detection Process to detect suspicious IP addresses mapped to host names. illustrates a method of detecting suspicious IP addresses i.e. the Detection Process shown in .

Once the computer has queried a DNS server or its local Hosts file to obtain the IP address associated with a host name the DNS server for example returns the IP address . Suppose that the host name in this example is onlinebanking.bank.com and the IP address resolved by the DNS server is 64.128.90.2 . The DNS server queried by the computer is dnsl.server.com and its IP address is 97.203.132.54 The Detection Process takes these data step and applies various rules steps to determine whether the IP address 64.128.90.2 mapped by the DNS sever for the host name onlinebanking.bank.com is suspicious.

Although shows four rules the actual number of rules applied during the Detection Process may vary among the various implementations of the method. These rules aim to detect unauthorized tampering with either the DNS settings or Hosts file on the local computer or the DNS sever from which the computer queries for the name to IP resolution. The rules are described in more detail below in .

Regardless of the number of rules applied each rule produces a score. A score from a rule may be any number that is greater than or equal to 0. Usually if a particular rule does not detect anything suspicious then the score for that rule is 0 i.e. no score. Otherwise the score for that rule has a positive number.

The scores from all the rules are summed up to obtain a final score step . Each rule may be assigned a different weight depending on the importance of the rule. A more important rule may be assigned a greater weight than a less important rule and the weights of the rules may change as needed. Thus the final score may be calculated using the following formula 

In a simple example each rule may have two possible base scores. If a particular rule detects anything suspicious then the base score for that rule is 1 . On the other hand if a particular rule does not detect anything suspicious then the base score for that rule is 0 . Next each rule is assigned a weight depending on the relative importance of the rule. The more important a rule is considered the greater weight it has. Suppose that one rule referred to as Rule has a weight of 10 because it is considered a very important rule. Another rule referred to as Rule has a weight of 5 because it is considered moderately important. A third rule referred to as Rule has a weight of 1 because it is not an important rule.

Applying Rule Rule and Ruleto a pair of host name and IP address under analysis Ruleproduces a base score of 1 because Rulehas detected something suspicious in the IP address Ruleproduces a based score of 0 and Ruleproduces a based score of 1 . The final score then is 1 10 0 5 1 1 11

The final score is compared against a predefined value step . If the final score is greater than the predefined value then the IP address is considered suspicious and the owner or user of the computer is alerted step . On the other hand if the final score is less than or equal to the predefined value then the IP address is considered legitimate and the host name IP address DNS server set is saved in the Historical Data .

Using the example of onlinebanking.bank.com the current IP address associated with this host name under analysis is 64.128.90.2 hereinafter referred to as IP . In the sample historical table shown in Table 1 there are three entries for the host name onlinebanking.bank.com . The first entry indicates that the IP address 128.200.80.4 is associated with the host name onlinebanking.bank.com hereinafter referred to as IP . The second entry indicates that the IP address 128.200.80.16 is also associated with the host name onlinebanking.bank.com hereinafter referred to as IP . And the third entry indicates that the IP address 128.200.80.2 is associated with the host name onlinebanking.bank.com hereinafter referred to as IP . The respective distances between IPand IP IP and IPare calculated.

To calculate a distance between two IP addresses the two IP addresses are first converted into two 4 byte integers. Each of the four groups of numbers separated by dots . in an IP address takes 1 byte 8 bit in the integer. Thus for IP the integer written in hexadecimal format is 0x40805A02 0x40 64 0x80 128 0x5A 90 and 0x02 2 for IP the integer written in hexadecimal format is 0x80C85004 for IP the integer written in hexadecimal format is 0x80C85010 and for IP the integer written in hexadecimal format is 0x80C85002. The distance between any two IP addresses may be calculated using the following formula IP distance abs IP address1 IP address2 

The distance between IPand IPis 0x4047F602 hereinafter referred to as D . The distance between IPand IPis 0x4047F60E hereinafter referred to as D . And the distance between IPand IPis 0x4047F600 hereinafter referred to as D .

Next all the distances between the current IP address and the historically saved IP addresses for the same host name is summed up to produce a total distance D step . In the example of onlinebanking.bank.com the total distances is 04047602 040476004047600 007210

Finally the total distance D is compared against a predefined value D step . If Dis greater than D then this rule has a score step . Otherwise this rule has no score i.e. score 0 step .

Rule detects pharming attacks that replace the IP address of a host name with the IP address of a fake host on the DNS server or in the Hosts file. Typically IP addresses within the same domain tend to have similar numbers. For example network devices that belong to the same domain may have the same first two or three numbers in their IP addresses and only the last one or two numbers vary from device to device. Therefore if the IP address for a host name has been changed legitimately the new IP address is usually very similar to the old IP address. For example the old IP address for the host name onlinebanking.bank.com may be 128.200.80.4 and the new IP address for the same host name may be 128.200.80.2 . This means that the distance between these two IP addresses is small 2 in this example.

On the other hand IP addresses for network devices from different domains tend to have very different numbers. If the IP address of a host name is replaced with the IP address associated with a fake host belonging to another domain then the distance between the new IP address and the old IP address tend to be very big. By choosing an appropriate predefined value for D Rule may detect whether the IP address under analysis tend to belong to the same domain as the saved IP addresses for the same host name. For example D may be 0x10000.

Of course if no entry for a particular host name is found in the Historical Data then Rule produces no score since no distance comparison may be made in this case.

Rule determines whether the DNS server that performs the name to IP resolution for the host name has been changed. First the Historical Data is searched to determine whether an entry for the current IP address or host name under analysis has been saved there step . If no entry is found then this rule produces no score score 0 because no historical data exists for any comparison step .

On the other hand if one or more entries have been found then a determination is made as to whether the current DNS server that performs the name to IP resolution for the host name i.e. the DNS sever queried by the computer that returns the IP address under analysis has been changed step . If the IP address of the DNS server has not been changed then this rule produces no score step . Otherwise this rule produces a positive number score step .

Using the onlinebanking.bank.com example the IP address of the DNS server queried by the computer is 97.203.132.54 . This differs from the IP addresses of the DNS servers saved in the historical table Table 1 for entries associated with onlinebanking.bank.com for example the last entry associated with onlinebanking.bank.com has an associated DNS server IP address 218.0.20.4 . Thus Rule produces a score in this case.

Rule determines whether the local DNS settings of the computer system has been changed during a predefined period. Recall that the DNS Settings Monitor monitors any changes to the local DNS settings on the computer system and if any change is made to the DNS settings the old DNS settings along with a timestamp indicating the time the change is made are saved in the Historical Data .

Thus by analyzing the Historical Data and comparing the last modified timestamp for the DNS settings with the current time if it is determined that the DNS settings have been modified within the past N seconds step where N is a predefined number then this rule produces a score step . Otherwise this rule produces no score step .

Rule determines possible attacks on the computer s DNS settings. The value for N may be chosen based on the actual requirements of the computer system and may vary from time to time as needed. For example one possible value for N may be 12 hours 43 200 seconds .

Rule determines whether the local Hosts file of the computer system has been changed during a predefined period. First a determination is made as to whether the current host name under analysis is found in the Hosts file step . If the host name is not found in the Hosts file then this rule produces no score score 0 because changes to the Hosts file does not affect the IP address mapped for this host name step .

On the other hand if the host name is found in the Hosts file then a determination is made as to whether the Hosts file has been modified during the past M seconds where M is a predefined value step . Recall that the Hosts File Monitor monitors any changes to the entries of the local Hosts file on the computer system and if any change is made to the Hosts file the newly modified Hosts file along with a timestamp indicating the time the modification is made are saved in the Historical Data . By analyzing the Historical Data and compare the last modified timestamp saved for the Hosts file and the current time a time period may be calculated that shows how much time has lapsed since the last time the Hosts file has been modified. If it is determined that the Hosts file has been modified within the past M seconds then this rule produces a score step . Otherwise this rule produces no score step .

Rule determines possible attacks on the computer s Hosts file. The value for M may be chosen based on the actual requirements of the computer system and may vary from time to time as needed. For example one possible value for M may be 12 hours 43 200 seconds .

The methods shown in may be implemented as computer software programs. Similarly each component shown in i.e. DNS Settings Monitor Hosts File Monitor Detection Process and Alert may also be implemented as computer software programs. Depending on the actual implementation the software programs may be written in computer languages such as C C Java Pascal etc. Alternatively it is also possible to implement some of the functionalities for these components in hardware.

The software program implementing various embodiments may be executed on the desktop computer notebook computer handheld computer etc. These computers may access the Network either via wired connections or wireless connections.

One or more various types of servers are also communicatively connected to the Network . For example application server may be hosting one or more websites while DNS server may perform name to IP resolutions for the various computer systems .

The present invention has several advantages. First the methods described in may be implemented as stand alone software applications. Once such a software application is installed on a computer it may be executed independently and does not require support from other devices such as servers or databases. Second by applying multiple rules during the detection process different aspects of the pharming attacks are addressed. That is different rules aim to protect the computer system from different types of pharming attacks e.g. attacks on the DNS server on the local DNS settings and or Hosts file etc. Although only describes four rules additional rules may be applied that address other aspects of the pharming attacks. Similarly although only shows two monitors the DNS Settings Monitor and the Hosts File Monitor additional monitors may be added to monitor other changes to the computer system especially changes to the Internet Protocol properties and or settings.

CPU is also coupled to a variety of input output devices such as display keyboard mouse and speakers . In general an input output device may be any of video displays track balls mice keyboards microphones touch sensitive displays transducer card readers magnetic or paper tape readers tablets styluses voice or handwriting recognizers biometrics readers or other computers. CPU optionally may be coupled to another computer or telecommunications network using network interface . With such a network interface it is contemplated that the CPU might receive information from the network or might output information to the network in the course of performing the above described method steps. Furthermore method embodiments of the present invention may execute solely upon CPU or may execute over a network such as the Internet in conjunction with a remote CPU that shares a portion of the processing.

In addition embodiments of the present invention further relate to computer storage products with a computer readable medium that have computer code thereon for performing various computer implemented operations. The media and computer code may be those specially designed and constructed for the purposes of the present invention or they may be of the kind well known and available to those having skill in the computer software arts. Examples of computer readable media include but are not limited to magnetic media such as hard disks floppy disks and magnetic tape optical media such as CD ROMs and holographic devices magneto optical media such as floptical disks and hardware devices that are specially configured to store and execute program code such as application specific integrated circuits ASICs programmable logic devices PLDs and ROM and RAM devices. Examples of computer code include machine code such as produced by a compiler and files containing higher level code that are executed by a computer using an interpreter.

While this invention has been described in terms of several preferred embodiments there are alterations permutations and various substitute equivalents which fall within the scope of this invention. It should also be noted that there are many alternative ways of implementing the methods and apparatuses of the present invention. For example despite the references to the Internet and virtual communities above embodiments are contemplated in which most or even all of the functionalities described herein for generating a profile are performed on a single stand alone computing device. It is therefore intended that the following appended claims be interpreted as including all such alterations permutations and various substitute equivalents as fall within the true spirit and scope of the present invention.

