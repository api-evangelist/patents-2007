---

title: Light illumination compensation for mobile computing devices
abstract: A mobile computing device includes a housing, a light source, a power circuit, and a processing circuit. The housing is configured to be carried by a user while in use. The power circuit is coupled to the light source. The processing circuit is configured to provide control signals to the power circuit to illuminate the light source. The processing circuit is configured to count the illuminations of the light source, to store usage data based on the counted illuminations, and to adjust the control signals based on the usage data.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08060136&OS=08060136&RS=08060136
owner: Hewlett-Packard Development Company, L.P.
number: 08060136
owner_city: Houston
owner_country: US
publication_date: 20070808
---
Light sources may be used on mobile computing device of many types. Light sources may be used for camera flash flashlights backlighting flat screen displays and many other functions. The intensity of light sources may change with usage whether usage over a lifetime of the light source usage in the short term or other usage.

Referring first to a mobile computing device is shown. Device is a smart phone which is a combination mobile telephone and handheld computer having personal digital assistant functionality. The teachings herein can be applied to other mobile computing devices e.g. a laptop computer digital camera camera phone personal navigation device etc. which may be configured to be carried by a user while in use or other electronic devices e.g. a desktop personal computer etc. . Personal digital assistant functionality can comprise one or more of personal information management functions e.g. e mail calendar contacts address book notes bookmarks favorites etc. database functions word processing spreadsheets voice memo recording etc. and may be configured to synchronize personal information from one or more applications with a computer e.g. desktop laptop remote networked server etc. . Device may comprise a general purpose microprocessor which is further configured to receive and operate additional applications provided to device after manufacture e.g. via wired or wireless download SecureDigital card etc.

Device comprises a housing having a front side and a back side . An earpiece speaker a loudspeaker and a user input device e.g. a plurality of keys are coupled to housing . Housing is configured to hold a screen in a fixed or slidable relationship above a user input device in a substantially parallel or same plane as the user input device. This fixed or slidable relationship excludes a hinged relationship between the screen and plurality of keys. Device may be a handheld computer which is a computer small enough to be carried in a typical front pocket found in a pair of pants comprising such devices as typical mobile telephones personal digital assistants and some digital cameras but excluding typical laptop computers tablet PCs and larger digital cameras. In alternative embodiments display user input device earpiece and loudspeaker may each be positioned anywhere on front side back side or the edges therebetween.

In various embodiments device has a width shorter dimension of no more than about 200 mm or no more than about 100 mm. According to some of these embodiments housing has a width of no more than about 85 mm or no more than about 65 mm. According to some embodiments housing has a width of at least about 30 mm or at least about 50 mm. According to some of these embodiments housing has a width of at least about 55 mm.

In some embodiments housing has a length longer dimension of no more than about 200 mm or no more than about 150 mm. According to some of these embodiments housing has a length of no more than about 135 mm or no more than about 125 mm. According to some embodiments housing has a length of at least about 70 mm or at least about 100 mm. According to some of these embodiments housing has a length of at least about 110 mm.

In some embodiments housing has a thickness smallest dimension of no more than about 150 mm or no more than about 50 mm. According to some of these embodiments housing has a thickness of no more than about 30 mm or no more than about 25 mm. According to some embodiments housing has a thickness of at least about 10 mm or at least about 15 mm. According to some of these embodiments housing has a thickness of at least about 50 mm.

In some embodiments housing has a volume of up to about 2500 cubic centimeters and or up to about 1500 cubic centimeters. In some of these embodiments housing has a volume of up to about 1000 cubic centimeters and or up to about 600 cubic centimeters.

While described with regards to a hand held device many embodiments are usable with portable devices which are not handheld and or with non portable devices systems.

Device may provide voice communications functionality in accordance with different types of cellular radiotelephone systems. Examples of cellular radiotelephone systems may include Code Division Multiple Access CDMA cellular radiotelephone communication systems Global System for Mobile Communications GSM cellular radiotelephone systems etc.

In addition to voice communications functionality device may be configured to provide data communications functionality in accordance with different types of cellular radiotelephone systems. Examples of cellular radiotelephone systems offering data communications services may include GSM with General Packet Radio Service GPRS systems GSM GPRS CDMA 1xRTT systems Enhanced Data Rates for Global Evolution EDGE systems Evolution Data Only or Evolution Data Optimized EV DO systems etc.

Device may be configured to provide voice and or data communications functionality in accordance with different types of wireless network systems. Examples of wireless network systems may further include a wireless local area network WLAN system wireless metropolitan area network WMAN system wireless wide area network WWAN system and so forth. Examples of suitable wireless network systems offering data communication services may include the Institute of Electrical and Electronics Engineers IEEE 802.xx series of protocols such as the IEEE 802.11a b g n series of standard protocols and variants also referred to as WiFi the IEEE 802.16 series of standard protocols and variants also referred to as WiMAX the IEEE 802.20 series of standard protocols and variants a wireless personal area network PAN system such as a Bluetooth system operating in accordance with the Bluetooth Special Interest Group SIG series of protocols.

As shown in the embodiment of device may comprise a processing circuit which may comprise a dual processor architecture including a host processor and a radio processor e.g. a base band processor . The host processor and the radio processor may be configured to communicate with each other using interfaces such as one or more universal serial bus USB interfaces micro USB interfaces universal asynchronous receiver transmitter UART interfaces general purpose input output GPIO interfaces control status lines control data lines shared memory and so forth.

The host processor may be responsible for executing various software programs such as application programs and system programs to provide computing and processing operations for device . The radio processor may be responsible for performing various voice and data communications operations for device such as transmitting and receiving voice and data information over one or more wireless communications channels. Although embodiments of the dual processor architecture may be described as comprising the host processor and the radio processor for purposes of illustration the dual processor architecture of device may comprise additional processors may be implemented as a dual or multi core chip with both host processor and radio processor on a single chip etc. Alternatively processing circuit may comprise any digital and or analog circuit elements comprising discrete and or solid state components suitable for use with the embodiments disclosed herein.

In various embodiments the host processor may be implemented as a host central processing unit CPU using any suitable processor or logic device such as a general purpose processor. The host processor may comprise or be implemented as a chip multiprocessor CMP dedicated processor embedded processor media processor input output I O processor co processor a field programmable gate array FPGA a programmable logic device PLD or other processing device in alternative embodiments.

The host processor may be configured to provide processing or computing resources to device . For example the host processor may be responsible for executing various software programs such as application programs and system programs to provide computing and processing operations for device . Examples of application programs may include for example a telephone application voicemail application e mail application instant message IM application short message service SMS application multimedia message service MMS application web browser application personal information manager PIM application contact management application calendar application scheduling application task management application word processing application spreadsheet application database application video player application audio player application multimedia player application digital camera application video camera application media management application a gaming application and so forth. The application software may provide a graphical user interface GUI to communicate information between device and a user.

System programs assist in the running of a computer system. System programs may be directly responsible for controlling integrating and managing the individual hardware components of the computer system. Examples of system programs may include for example an operating system OS device drivers programming tools utility programs software libraries an application programming interface API graphical user interface GUI and so forth. Device may utilize any suitable OS in accordance with the described embodiments such as a Palm OS Palm OS Cobalt Microsoft Windows OS Microsoft Windows CE Microsoft Pocket PC Microsoft Mobile Symbian OS Embedix OS Linux Binary Run time Environment for Wireless BREW OS JavaOS a Wireless Application Protocol WAP OS and so forth.

Device may comprise a memory coupled to the host processor and a memory coupled to radio processor . In various embodiments the memory may be configured to store one or more software programs to be executed by the host processor or radio processor . Memory may be implemented using any machine readable or computer readable media capable of storing data such as volatile memory or non volatile memory removable or non removable memory erasable or non erasable memory writeable or re writeable memory and so forth. Examples of machine readable storage media may include without limitation random access memory RAM dynamic RAM DRAM Double Data Rate DRAM DDRAM synchronous DRAM SDRAM static RAM SRAM read only memory ROM programmable ROM PROM erasable programmable ROM EPROM electrically erasable programmable ROM EEPROM flash memory e.g. NOR or NAND flash memory or any other type of media suitable for storing information.

Although memory may be shown as being separate from the host processor and radio processor for purposes of illustration in various embodiments some portion or the entire memory may be included on the same integrated circuit as the host processor . Alternatively some portion or the entire memory may be disposed on an integrated circuit or other medium e.g. hard disk drive external to the integrated circuit of host processor . In various embodiments device may comprise an expansion slot to support a multimedia and or memory card for example.

Device may comprise a user input device coupled to the host processor . The user input device may comprise for example a QWERTY key layout and an integrated number dial pad. Device also may comprise various keys buttons and switches such as for example input keys preset and programmable hot keys left and right action buttons a navigation button such as a multidirectional navigation button phone send and power end buttons preset and programmable shortcut buttons a volume rocker switch a ringer on off switch having a vibrate mode a keypad an alphanumeric keypad and so forth.

The host processor may be coupled to a display . The display may comprise any suitable visual interface for displaying content to a user of device . For example the display may be implemented by a liquid crystal display LCD such as a touch sensitive color e.g. 16 bit color thin film transistor TFT LCD screen. In some embodiments the touch sensitive LCD may be used with a stylus and or a handwriting recognizer program.

Device may comprise an input output I O interface coupled to the host processor and a I O interface coupled to the radio processor. I O interfaces may comprise one or more I O devices such as a serial connection port an infrared port integrated Bluetooth wireless capability and or integrated 802.11x WiFi wireless capability to enable wired e.g. USB cable and or wireless connection to a local computer system such as a local personal computer PC . In various implementations device may be configured to transfer and or synchronize information with the local computer system.

The host processor may be coupled to various audio video A V devices that support A V capability of device . Examples of A V devices may include for example a microphone one or more speakers an audio port to connect an audio headset an audio coder decoder codec an audio player a digital camera a video camera a video codec a video player and so forth.

The host processor may be coupled to a power supply configured to supply and manage power to the elements of device . In various embodiments the power supply may be implemented by a rechargeable battery such as a removable and rechargeable lithium ion battery to provide direct current DC power and or an alternating current AC adapter to draw power from a standard AC main power supply.

Device may comprise a transceiver coupled to the radio processor . The transceiver may comprise one or more transceivers configured to communicate using different types of protocols communication ranges operating power requirements RF sub bands information types e.g. voice or data use scenarios applications and so forth.

The transceiver may be implemented using one or more chips as desired for a given implementation. Although the transceiver may be shown as being separate from and external to the radio processor for purposes of illustration in various embodiments some portion or the entire transceiver may be included on the same integrated circuit as the radio processor .

Device may comprise an antenna system for transmitting and or receiving electrical signals. As shown the antenna system may be coupled to the radio processor through the transceiver . The antenna system may comprise or be implemented as one or more internal antennas and or external antennas.

Device may comprise a subscriber identity module SIM coupled to the radio processor . The SIM may comprise for example a removable or non removable smart card configured to encrypt voice and data transmissions and to store user specific data for allowing a voice or data communications network to identify and authenticate the user. The SIM also may store data such as personal settings specific to the user.

In various embodiments device may comprise location or position determination capabilities. Device may employ one or more location determination techniques including for example Global Positioning System GPS techniques Cell Global Identity CGI techniques CGI including timing advance TA techniques Enhanced Forward Link Trilateration EFLT techniques Time Difference of Arrival TDOA techniques Angle of Arrival AOA techniques Advanced Forward Link Trilateration AFTL techniques Observed Time Difference of Arrival OTDOA Enhanced Observed Time Difference EOTD techniques Assisted GPS AGPS techniques hybrid techniques e.g. GPS CGI AGPS CGI GPS AFTL or AGPS AFTL for CDMA networks GPS EOTD or AGPS EOTD for GSM GPRS networks GPS OTDOA or AGPS OTDOA for UMTS networks etc.

Device may be configured to receive location data and associate the location data with a digital image captured by device or for use with other applications such as navigation applications. Device may comprise a local position determination circuit e.g. a GPS receiver which may be integrated within housing configured to receive satellite data via an antenna and to calculate a position fix. Local position determination circuit may alternatively comprise a GPS receiver in a second housing separate from housing but in the vicinity of device and configured to communicate with device wirelessly e.g. via a PAN such as Bluetooth . Device may be configured to communicate over a radio access network e.g. UMTS radio access network with a remote computer e.g. a location determination entity PDE a location proxy server LPS and or a mobile positioning center MPC etc. .

When assisting the mobile computing device the remote computer may handle various processing operations and also may provide information to aid location determination. Examples of position assist data may include satellite based measurements terrestrial based measurements and or system based measurements such as satellite almanac information GPS code phase measurements ionospheric data ephemeris data time correction information altitude estimates timing offsets forward reverse link calibration coarse data and so forth.

The host processor may comprise and or implement at least one LBS location based service application. In general the LBS application may comprise any type of client application executed by the host processor such as a GPS application configured to communicate location requests e.g. requests for position fixes and location responses. Examples of LBS applications include without limitation wireless 911 emergency services roadside assistance asset tracking fleet management friends and family locator services dating services and navigation services which may provide the user with maps directions routing traffic updates mass transit schedules information regarding local points of interest POI such as restaurants hotels landmarks and entertainment venues and other types of LBS services in accordance with the described embodiments.

Referring now to a system for light illumination compensation will be described. In this embodiment processing circuit is coupled to a power circuit which is coupled to a light source . Power circuit may be configured to receive a control signal from processing circuit and power from power supply . A camera may be coupled to processing circuit . Light source may comprise a light emitting diode e.g. a white phosphor light emitting diode different colored light emitting diodes such as red blue green etc. a xenon flash source an incandescent source or other light source. Power circuit may comprises one or more circuit components e.g. transistors resistors capacitors switches etc. configured to provide power to the light source based on control signals received from processing circuit . Power circuit may comprise one control or output line for a plurality of light sources or may provide a plurality of control or output lines for each of the plurality of light sources to provide independent control of each light source. The control signals may be digital or analog signals and may comprise a pulse width modulated signal a phase modulated signal a pulse amplitude modulated signal an on off signal or any other type of control signal.

Processing circuit is configured to store usage data representing usage of the light source and to adjust the control signals based on the usage data. Usage data may comprise a quantity of usage over a lifetime of the light source e.g. aging which may be monitored by processing circuit . Usage data may comprise short term usage of the light source represented by a temperature of the light source. Short term usage refers to the amount of usage of light source in a period of time beginning when the light source temperature is raised above ambient temperature and ending when the light source temperature returns to ambient temperature. The temperature of the light source may be measured by a temperature sensor or one temperature sensor for each of the plurality of different colored LEDs . Instead of or in addition to measuring the temperature of the light source processing circuit may be configured to estimate the temperature of the light source based on usage parameters of the device such as number of flashes duration of flashes duration of continuous light timing of flashes intensity or power level of flashes etc. . Usage data for light source may be obtained in other ways.

Aging is a total accumulation of usage over a lifetime of an LED resulting in a reduction in intensity. Short term usage is a thermal characteristic of an LED resulting in a reduction in intensity as temperature rises.

Processing circuit may be configured to store usage data statistics or coefficients in memory . Usage data may comprise one or more values numbers or parameters indicating one or more characteristics of the usage of light source . For example processing circuit may be configured to count track or monitor a number of illuminations of light source and to store that number as usage data. The usage data may comprise data based on a quantity of illuminations over a lifetime of the light source. The usage data may also or alternatively comprise data based on a quantity of illuminations over a short predetermined period of time such as less than 1 day less than 1 hour or less than 15 minutes. Short term usage data can provide an indication of the estimated temperature of the light source. Short term usage data may be augmented or combined with actual sensed temperature data from temperature sensor disposed in close proximity to or attached to light source . In an alternative embodiment sensed temperature from sensor may be used to generate usage data instead of estimating temperature based on counted illuminations representing a closed loop control system as opposed to the open loop control system of counting illuminations.

The usage data may be data which is determined in part based on a counted number of illuminations of light source and in part based on other data. For example the usage data may also be calculated based on a measured temperature. As another example the usage data may be calculated based on a quantity of power provided to light source which may be estimated based on the control signals sent by processing circuit to power circuit or may be measured . The quantity of power may be for a lifetime of the light source or otherwise a running total of power provided to light source . As another example a time of illumination may be stored representing a total time light source has been illuminated over its lifetime representing a number of illuminations times a duration of each illumination. As another example the usage data may be stored or calculated based on number of flashes intensity or power of each flash types of flash e.g. red eye reduction flicker standard flash etc. duration of illumination e.g. flash or continuous for video camera functionality number of flashes within a predetermined time period i.e. short term flash rate etc.

The usage data may be stored as a single variable or multiple variables. For example each of lifetime usage and short term usage may be represented as a number of illuminations total duration of illuminations total power provided to each light source number of each type of flash e.g. red eye reduction flicker standard flash user selected intensity of flash etc. or any other types of variables constants or values. For example mobile computing device may be configured to allow user control of flash intensity on off control of red eye mode e.g. flash one or more times to provoke the iris to close in the subject . Processing circuit may be configured to compensate for the temperature rise caused by the red eye flashes and adjust the actual flash following the red eye flashes. In one embodiment compensation data may be stored which is based on the usage data and which represents coefficients for corrections based on characterization data which may comprise usage data initial calibration data and or other data.

Processing circuit may be configured to generate correct and or adjust control signals based on the usage data e.g. to compensate for changes in light intensity . For example a look up table linear or non linear function proportional relationship or other function or relationship may be defined in a memory of processing circuit . An algorithm which models the characteristics of each LED may be stored in memory and used for control signal adjustment which may be created based on empirical data or data from the specifications of the LEDs. Each LED may have a different current characteristic and voltage drop. Processing circuit may be configured to generate control signals for light source by selecting a desired illumination intensity for a particular illumination operation e.g. flash backlight etc. modifying or adjusting the desired illumination intensity based on the usage data as defined by the function or relationship and providing the modified or adjusted control signals to power circuit .

Light source may comprise a plurality of different colored light emitting diodes configured to emit substantially white light e.g. red green and blue or other combinations . Substantially white light can be daylight color fluorescent color incandescent color etc. Power circuit may comprise a plurality of power output lines each power output line coupled to a different one of the plurality of different colored light emitting diodes. Processing circuit may be configured to provide control signals which independently control the different light emitting diodes. In this embodiment processing circuit may be configured to control at least one or a plurality of the different light emitting diodes based on the usage data. For example processing circuit may be configured to determine a chromaticity shift e.g. color shift white point shift white balance shift color rendering shift etc. in light provided by the different light emitting diodes based on the usage data and to variably adjust or control at least one of the different light emitting diodes to correct or compensate for the chromaticity shift.

Chromaticity shift is a shift a white point of an illumination source. For example where red green and blue LEDs are used to produce white light processing circuit provides control signals to drive each LED with an intensity such that when illuminations are combined substantially white light is produced. Over the lifetime of the LEDs and with temperature change the intensities of the LEDs change in response to the same control signal. The aging characteristics of the LEDs are different. Since the intensities of each LED change differently than the others a chromaticity shift occurs.

Light source may comprise non LED light sources such as an incandescent or xenon light source. In this embodiment processing circuit may be configured to variably adjust the control signals provided to the light source to adjust the intensity or overall light output of the light source based on the usage data.

According to one exemplary embodiment light source is configured to provide illumination to display which may be a flat screen display. In this embodiment light source may comprise a white phosphor light emitting diode or a plurality of different colored light emitting diodes configured to provide substantially white light. For example display may comprise color matching or color compensation software and circuitry configured to optimize the display for color matching applications.

Processing circuit may be configured to use usage data to ameliorate variability of LEDs or other light sources caused by long term or lifetime usage and or short term usage relating to temperature increases.

Referring now to an exemplary method of compensating for chromaticity shift in a light source will be described. At step the method comprises generating control signals in a mobile computing device to illuminate a plurality of different colored light emitting diodes to emit substantially white light. Each of the light emitting diodes may be controlled to provide light at independently controllable intensities according to predetermined data known about the light emitting diodes to produce substantially white light. At step the method comprises storing usage data based on the usage of the light emitting diodes using one or more of the methods described herein. At step the method comprises independently adjusting the control signals to at least one of the light emitting diodes to produce the substantially white light based on the usage data. For example the method may comprise identifying that after a predetermined usage of a red LED that the intensity of the red LED in response to a control signal has reduced due to usage. The method may comprise independently adjusting the control signal to the red LED to increase the intensity to cause the combination of the red LED with green and blue LEDs to emit substantially whiter light than was emitted before the adjustment.

According to another exemplary embodiment a digital camera phone may comprise a housing configured to be carried by a user while in use a wireless telephone circuit configured for telephone communication a digital camera a light source a power circuit coupled to the light source and a processing circuit configured to provide control signals to the power circuit to illuminate the light source and to variably adjust the intensity of the light source. For example the intensity may be varied to increase based on a user input indicating a user desired intensity level for a camera flash. The processing circuit may be configured to store usage data representing usage of the light source and to variably adjust the control signals based on the usage data. The processing circuit may be configured to count the illuminations of the light source and to store the usage data based on the counted illuminations of the light source.

According to one alternative embodiment processing circuit may be configured to process a captured image from camera based on the usage data. This step may occur instead of or in addition to adjusting control signals to light source based on the usage data. Once an image is captured and converted to a digital image file processing circuit may be configured to adjust the color of one or more pixels of the digital image file based on known usage data about the light source at the time it was used to capture the image. The processing may further be done based on a detected quality or whiteness of ambient light on the subject during the image capture. For example if the light source was hot due to a number of illuminations occurring in a short period of time processing circuit may be configured to determine the chromaticity shift of light source based on temperatures of one or more of the LEDs used to create substantially white light and to adjust the color of the captured image based on the determination of chromaticity shift.

According to yet another alternative embodiment usage data may be stored along with a digital image file e.g. in EXIF data or other metadata indicative of usage of the LEDs at the time the image was captured. This usage data may be used during subsequent processing of the image file by a computer separate from processing circuit e.g. a desktop personal computer laptop computer server computer etc. . The usage data may comprise the lifetime usage data e.g. total operating time and short term operation time e.g. how many flashes have occurred in a predetermined amount of time the measured temperature of the LEDs at the time of the illumination and image capture. Also other data may be stored such as factory calibration data for the LEDs etc.

According to one exemplary embodiment an initial calibration of LEDs on a mobile computing device may be done during manufacturing or at a point of sale. Light from light source can be generated using this calibration data to create substantially white light. Usage data can then be generated and stored separately or combined with the calibration data to create the usage data used by processing circuit in subsequent light generating operations.

According to one exemplary embodiment processing circuit is configured to count the number of flashes taken when mobile computing device comprises a digital camera. After a predetermined number of pictures taken with flash e.g. comprising a plurality of different colored LEDs to provide substantially white light within a predetermined period of time processing circuit is configured to determine that one or more of the LEDs is increasing in temperature. Processing circuit then computes the next control signal based on an adjustment factor based on the usage data to alleviate color shift. After the user turns device off and later providing sufficient time for device to cool resumes taking pictures processing circuit may be configured to determine how far along an aging curve e.g. plotting lifetime usage versus illumination variance stored in memory each LED is and to provide further adjustment or correction favor based on the lifetime aging.

A backlight LED may have a flat narrow LED suitable for continuous illumination. A flash LED may be designed for high pulse currents and have a beam spread angle of about 60 degrees or more or less than 60 degrees in various applications.

With reference to the disclosure and claims use of the phrase based on means based in least in part on and use of the term a or an means one or more or at least one. Further any of the steps of any of the methods disclosed herein may be combined with any of the other steps and or rearranged with other steps in alternative embodiments. Specifically various embodiments may make use of different combinations of parts or all of the methods disclosed herein.

While the exemplary embodiments illustrated in the FIGs. and described above are presently exemplary it should be understood that these embodiments are offered by way of example only. Accordingly the present invention is not limited to a particular embodiment but extends to various modifications that nevertheless fall within the scope of the appended claims.

