---

title: Methods and apparatus to manage internet protocol (IP) multimedia subsystem (IMS) network capacity
abstract: Methods and apparatus to manage Internet Protocol (IP) Multimedia Subsystem (IMS) network capacity are disclosed. An example method comprises identifying a terminating voice over Internet protocol (VoIP) call server associated with a called device, and returning a call rejection indicator when the terminating VoIP call server is in a first condition, the call rejection indicator returned without a call initiation request message sent to the terminating VoIP call server.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09497229&OS=09497229&RS=09497229
owner: AT&T Intellectual Property I, L.P.
number: 09497229
owner_city: Atlanta
owner_country: US
publication_date: 20070516
---
This disclosure relates generally to Internet Protocol IP Multimedia Subsystem IMS networks and more particularly to methods and apparatus to manage IMS network capacity.

In communication networks such as Internet Protocol IP Multimedia Subsystem IMS networks communication sessions are routed through a communication network from an originating device e.g. a voice over IP VoIP telephone and or plain old telephone service POTS telephone to a terminating device e.g. a VoIP telephone and or a POTS telephone . If at a particular moment a terminating server e.g. a serving call session control function S CSCF server associated with the terminating device is unable to support and or handle the communication session directed to the terminating device e.g. due to a current processing load a current lack of available resources a current transmission facility load etc. the terminating server may reject the communication session prior to it being established to the terminating device.

Methods and apparatus to manage Internet Protocol IP Multimedia Subsystem IMS network capacity are disclosed. A disclosed example method includes identifying a terminating voice over Internet protocol VoIP call server associated with a called device and returning a call rejection indicator when the terminating VoIP call server is in a first condition the call rejection indicator returned without a call initiation request message sent to the terminating VoIP call server.

A disclosed example usage and capacity control server for an Internet protocol IP Multimedia Subsystem IMS network includes an interface to receive an identifier associated with a called device in response to an tElephone NUMber mapping ENUM query and a call admission controller to determine whether to admit a communication session between the called device and a calling device based on a state of a terminating call server associated with the called device without a call initiation request message sent to the terminating call server. A disclosed example apparatus includes an interface to receive a called device identifier and a processor to identify a terminating voice over Internet protocol VoIP call server associated with the called device identifier and to return a call rejection indicator when the terminating VoIP call server is in a first condition the call rejection indicator returned without a call initiation request message sent to the terminating VoIP call server.

In the interest of brevity and clarity throughout the following disclosure references will be made to the example IMS communication system the example IMS network the example IP networks and the example access networks and and or the example IMS devices and of . Moreover the following disclosure will utilize session initiation protocol SIP messages and or message exchanges. However it should be understood that the methods and apparatus to manage the capacity of the example IMS network described herein are applicable to other VoIP communication systems and or networks e.g. based on soft switches IMS devices access networks IP networks IMS networks and or IMS communication systems and or other types of protocols messages and or message exchanges.

To access IMS communication services throughout and or within a site location building geographic area and or geographic region the example IMS communication system of includes any number and or type s of access networks two of which are designated in with reference numbers and . In general the example access networks and provide and or facilitate a communicative coupling of the IMS devices and to and or with an IMS network which provides and or enables IMS communication services to the IMS device and . However in some examples one or more of the IMS devices and may access the IMS network without use of an access network . The example access networks and can be implemented using any number and or type s of past present and or future standards specifications communication devices networks technologies and or systems such as public switched telephone network PSTN systems public land mobile network PLMN systems e.g. cellular wireless distribution systems wired or cable distribution systems coaxial cable distribution systems Ultra High Frequency UHF Very High Frequency VHF radio frequency systems satellite or other extra terrestrial systems cellular distribution systems power line broadcast systems fiber optic networks and or any combinations and or hybrids of these devices systems and or networks.

While in the illustrated example of each of the example IMS devices and are depicted as having an associated access network such depictions are merely illustrative. For example the example IMS devices and may utilize a common access network an IMS device may be configured and or capable to utilize more than one access network at the same and or different times an IMS device may be configured to access the IMS network directly or via the IP network without an intervening access network etc.

To provide IMS communication services e.g. telephone services Internet services data services messaging services instant messaging services electronic mail email services chat services video services audio services gaming services etc. the example IMS communication system of includes one or more IMS networks one of which is designated in with reference numeral . As described more fully below the example IMS network of tracks and or determines the current processing loads and or current resource utilizations of the IMS network and uses the same to make call admission decisions. When a request to initiate a communication session e.g. a session initiation protocol SIP INVITE message is received by the IMS network the communication session request is initially handled by a call server associated with the calling party that sent the communication session request. As used herein the term originating call server will be used to designate the call server associated with the calling party. The originating call server determines and or locates the call server responsible for handling the communication session for the called party e.g. by querying an tElephone NUMber mapping ENUM server and or an interrogating call session control function I CSCF server and forwards and or sends the communication session request to the terminating call server so that the communication session may be and or may be attempted to be established to the called party. As used herein the term terminating call server will be used to designate the call server associated with the called device and or party. Example originating and terminating call servers include but are not limited to a serving call session control function S CSCF server a media gateway control function MGCF server and or a softswitch. Depending upon whether a call server is associated with a calling or a called party the call server may be either an originating call server or a termination call server. Moreover a call server may be simultaneously an originating call server for a first communication session and a terminating call server for a second communication session. Thus the designations of originating and termination in are merely to facilitate ease of understanding of the methods and apparatus described here.

In the illustrated example of originating call servers in conjunction with other elements of the IMS network e.g. the example ENUM server and or an example usage and capacity control server UCCS utilizes information regarding the condition and or workload e.g. processor load and or memory utilization of terminating call servers and or the condition and or utilization of one or more communication resource associated with the terminating call servers e.g. switches trunk groups trunks terminating tenant group terminating tenant terminating phone number terminating SIP uniform resource identifier URI terminating IP subnets terminating realm etc. to manage the capacity of the IMS network . In particular for a requested communication session the associated originating call server in conjunction with other elements of the IMS network determines and or decides whether the communication session should be admitted. If the communication session should be rejected i.e. not admitted the originating call server notifies the calling party of the rejection without sending and or forwarding the communication session request to the terminating call server. If the communication session can be accepted i.e. admitted by the IMS network and or the terminating call server the originating call server sends and or forwards the communication session request to the terminating call server. As used herein the term call rejection indicator refers to a call rejection message sent by the ENUM server to a S CSCF server and or a call admission response message that indicates a call is rejected sent by the UCCS to the ENUM server .

In some examples admission control decisions are made independently of the state of called devices. For example a communication session directed to a called party may be rejected at an originating call server even though a device e.g. a telephone associated with the called party is not busy and or is available to accept new and or additional communication sessions. By making call admission control decisions at originating call servers in the example IMS network of the unnecessary utilization of additional communication and or processing resources by and or within the IMS network and or terminating call servers is substantially reduced. For example if a terminating call server has insufficient resources to process a new communication session sending a communication session request for the new communication session to the terminating call server unnecessarily wastes resources of the terminating call server and or unnecessarily wastes communication resources associated with the terminating call server. In contrast existing IMS networks reject calls at the terminating call servers if the terminating call servers are overloaded.

In the example IMS communication system of the example IMS devices and are communicatively coupled to the example IMS network via one or more of the example access networks and or and or any number and or type s of private and or public IP based communication networks such as for example the Internet two of which are illustrated in with reference numerals and . While in the illustrated example of each of the example IMS devices and are depicted as having an associated IP network such depictions are merely illustrative. For example the example IMS devices and may utilize the same public IP network an IMS device may be configured and or capable to utilize more than one IP network at the same and or different times etc. In general the example IP networks and of provide and or facilitate a communicative coupling of the IMS devices and to and or with the IMS network .

In some examples the IMS devices and may be communicatively coupled to the access networks and via one or more additional IP based networks and or devices not shown such as a local area network LAN a gateway and or a router located within a place of business a school and or a residence. The example IMS devices and of are communicatively coupled to the example access networks and the example IP networks and and or more generally the example IMS network via any number and or type s of past current and or future communication network s communication system s communication device s transmission path s protocol s technique s specification s and or standard s . For instance the example IMS devices and may be coupled to the example access networks and the example IP networks and and or the example IMS network via any type s of voice band modem s digital subscriber line DSL modem s cable modem s Ethernet transceiver s optical transceiver s IP virtual private network VPN connection s Institute of Electrical and Electronics Engineers IEEE 802.11x a.k.a. WiFi transceiver s IEEE 802.16 a.k.a. WiMax wireless local area network WLAN access point s general packet radio services GPRS networks in 3G wireless networks etc. Moreover any or all of the example IMS network the example access networks and and or the example IP networks and of may extend geographically to include one or more locations near to and or encompassing one or more of the IMS devices and . For example the access network may include a wireless access point not shown by which for example a WiFi IP phone connects to the IP network and the IMS network .

In the example IMS communication system of the example access networks and the example IP networks and and the IMS network need not be owned implemented and or operated by a single service provider. For example the IMS devices and may access IMS services provided by an IMS network owned operated and or implemented by a first service provider via access networks and which are owned operated and or implemented by one or more additional service providers. However any or all of the access networks and the IMS network and or the IP networks and may be operated by a single service provider.

In the illustrated example IMS communication system of each IMS device e.g. the example IMS devices and that is registered to the example IMS network is associated with and or assigned to an S CSCF server two of which are designated in with reference numerals and . The example S CSCF servers and of are responsible for handling incoming and or outgoing IMS communication sessions e.g. telephone calls and or data and or video sessions associated with its registered IMS devices and . An example manner of implementing any or all of the example S CSCF servers and of is described below in connection with .

In the IMS communication system of the IMS devices and may serve as calling and or called devices and the example S CSCF servers and may function as originating and or terminating call servers. However for ease of discussion the following descriptions assume that a communication session is being initiated from the example IMS device i.e. the calling party to the example IMS device i.e. the called party and thus the example S CSCF server is the originating call server for the communication session and the example S CSCF server is the terminating call server for the communication session. However the methods and apparatus described herein to make call admission decisions and or to manage the capacity of the IMS network may be applied to other communication sessions. For example for a communication session from a POTS telephone not shown to the example IMS device the example MGCF of could serve as the originating call server with the example S CSCF server serving as a terminating call server for a communication session from the IMS device to the IMS device the S CSCF would serve as the originating call server and the S CSCF serving as the terminating call server and or for a communication session from the IMS device to a POTS telephone not shown the S CSCF would serve as the originating call server and the MGCF would serve as the terminating call server.

The example S CSCF servers and of perform session control and or maintain session states for its associated and or registered IMS devices and . For instance when the calling IMS device initiates an outgoing telephone call to a called device a SIP INVITE message is routed by the IMS network from the IMS device to the originating S CSCF server associated with that particular IMS device . The example S CSCF servers and also enable communication with call feature servers e.g. the example application servers and of for its associated and or registered IMS devices and . The example S CSCF server in conjunction with the example ENUM server and or the example usage and capacity control server UCCS make a call admission decision for the requested communication session. For admitted communication sessions the originating S CSCF server routes and or assists in establishing an IMS communication path and or IMS communication session e.g. a telephone call with the called device via its associated terminating S CSCF server . While two S CSCF servers and are illustrated in the IMS network may include any number and or type s of S CSCF servers and each such S CSCF server may support any number and or type s of IMS devices and .

To locate and or identify the IMS device associated with a called party e.g. a called telephone number the example IMS network of includes any number of ENUM servers one of which is designated in with reference numeral . Based upon an ENUM query request message received from the originating S CSCF server the example ENUM server of performs a lookup of an ENUM database e.g. the example ENUM database of that stores associations of called party identifiers e.g. E.164 telephone numbers to URIs e.g. a SIP URI an application URI and or an hypertext transfer protocol HTTP URI . Thus for example by performing an ENUM lookup a SIP URI e.g. an IP address for a called device can be identified based upon a called telephone number assigned to the called device. However the ENUM database may store any number and or type s of associations between any number and or type s of identifiers. In addition to performing the requested ENUM lookup the example ENUM server of consults with the example UCCS to determine whether the requested communication session to the called party should be admitted. If the example UCCS of determines that the communication session is to be admitted the ENUM server returns the SIP URI obtained from the ENUM database query to the originating S CSCF server . If the communication session to the called party is to be rejected i.e. not admitted the ENUM server returns an error and or call rejection message. When the originating S CSCF server receives the error and or call rejection message the originating S CSCF server notifies the calling device that the requested communication session can not be established without sending and or forwarding a communication session initiation request to the terminating S CSCF server thereby saving resources of the terminating S CSCF server and any communication resources between the originating S CSCF server and the terminating S CSCF server . For example the originating S CSCF server may return a SIP Temporarily Unavailable Message to the calling device provide engaged and or network busy tones and or messages connect the calling party to an announcement server that notifies the calling party that the communication session can not be established and or connect the calling party to a voicemail server and or a messaging server. An example manner of implementing the example ENUM server of is described below in connection with .

To make call admission decisions the example IMS network of includes any number of usage and capacity control servers UCCSs one of which is designated at reference numeral . The example UCCS of receives call admission requests from the example ENUM server and based on the current and or historical condition and or workload e.g. processor and or memory utilization of the terminating S CSCF server and or its associated communication paths e.g. switches trunk groups trunks terminating tenant group terminating tenant terminating phone number terminating SIP URI terminating IP subnets terminating realm etc. makes a call admission decision for the requested communication session.

The example UCCS of may for some conditions admit a communication session request even though the terminating S CSCF server and or its communication resources are heavily loaded. For example the workload of the terminating S CSCF server may be ignored if the calling party and or the called party have a sufficiently high class of service i.e. a class of service exceeding a threshold . The example UCCS also periodically and or aperiodically monitors and or tracks the dynamic and or current workload of the S CSCF servers and and or the dynamic and or current utilization of their associated communication paths to facilitate call admission decisions. For example the example S CSCF servers and can periodically and or aperiodically report their condition workload and or communication resource utilization to the example UCCS . Additionally or alternatively the example UCCS can periodically and or aperiodically query and or poll the S CSCF servers and and or the MGCF server for their conditions workloads and or communication resource utilizations. An example manner of implementing the example UCCS of is described below in connection with .

Because in the illustrated example of the example UCCS is queried and or consulted by the example ENUM server rather than by the originating call server not all of the call servers of the example IMS network need to be modified and or updated to support the example methods and or apparatus described herein. However in some examples one or more of the call servers may be modified to provide and or implement additional capabilities functionalities and or responses when a communication session request is to be rejected. For example a call server may be updated to support additional error codes that may be returned by the example ENUM server when a communication session is rejected and or may include an error handler and or additional error filtering criteria that forward a rejected communication session to a call rejection handler. However such modifications and or enhancements need not be present to support and or implement the example methods and or apparatus described herein. Example call rejection handlers include but are not limited to any type of announcement server and or any type of voicemail server.

To provide an access entry point for an IMS device into the IMS network the example IMS network of includes any number and or type s of proxy call session control function P CSCF servers two of which are designated in with reference numerals and . The example P CSCF servers and of among other things route SIP messages between IMS devices and and their associated S CSCF servers and .

To locate and or identify the S CSCF server associated with an IMS device the example IMS network of includes any number and or type s of interrogating call session control function I CSCF servers one of which is designated in with reference number . The example I CSCF server of serves as a contact point within the example IMS network for connections destined for an IMS device of the IMS communication system and or for an IMS device currently located within the serving area of the IMS communication system e.g. a roaming subscriber . For example for an incoming communication session e.g. a telephone call directed to an IMS device the example I CSCF identifies the S CSCF server to which the destination IMS device is registered e.g. the I CSCF queries an HSS not shown using a DIAMETER interface . Based upon the terminating S CSCF server identified by the I CSCF the originating S CSCF for the communication session routes IMS protocol messages between the IMS device and the terminating S CSCF server .

To process and or handle communication service data between any or all of the example IMS devices and and a public land mobile network PLMN e.g. a cellular communication network and or a public switched telephone network PSTN the example IMS network of includes any number and or type s of media gateways one of which is designated in with reference number . Using any number and or type s of technique s method s and or algorithm s the example media gateway of performs any appropriate media data conversion s between for example a circuit based transmission format used by the PSTN and a packet based format and or data structure used by any or all of the PLMN the IMS network the IP networks and or the IMS devices and .

To control the example media gateway the example IMS network of includes any number and or type s of MGCF servers one of which is designated in with reference number . Using any number and or type s of technique s method s and or in accordance with any past present and or future specification s and or standard s such as for example Internet Engineering Task Force IETF Request for Comment RFC 3015 and or the International Telecommunications Union ITU H.248 standard the example MGCF server of performs signaling session control and or session management for incoming and or outgoing IMS communication sessions that originate in and or terminate in for example the example PLMN and or the example PSTN .

To select the network e.g. the PLMN the PSTN etc. over which a communication session directed to a non IMS destination e.g. a POTS telephone is to be routed the example IMS network of includes any number and or type s of breakout gateway control function BGCF severs one of which is designated at reference numeral . If an IMS session is directed to a non IMS destination the example BGCF of selects the MGCF server that will be responsible for inter working with the non IMS network e.g. the PLMN the PSTN etc. . The example BGCF server also provides and or routes the SIP signaling for the communication session to the example MGCF server .

As illustrated in the example IMS network may include an interface to and or contain a portion of the PLMN an interface to and or contain a portion of the PSTN and or an interface to and or contain a portion of any number and or type s of additional communication networks. For example using any number and or type s of technique s method s protocol s and or technology ies the example BGCF server the example MGCF server the example media gateway and the PSTN can facilitate telephone calls and or data communication between a PSTN based phone not shown and one or more of the example IMS devices and .

The example PLMN and or the example PSTN of may be implemented by any number and or type s of communication devices switches protocols systems and or technologies. For instance the example PLMN may include any number of cellular base stations that can transmit cellular signals to and or receive cellular signals from a cellular communication device not shown using any type s of protocols e.g. time division multiple access TDMA code division multiple access CDMA orthogonal frequency division multiple access OFDM Global System for Mobile Communications GSM etc. . In some examples an interface between the media gateway and the PLMN is implemented via the PSTN .

To provide one or more additional call features the example IMS network of includes any number and or type s of application servers two of which are designated in with reference numerals and . The example application servers and of provide and or implement additional service features to subscribers e.g. voicemail announcement servers call trees etc. . As illustrated in for a particular communication session the example application servers and may be associated and or utilized by the originating S CSCF server and or the terminating S CSCF server . That is the application servers and may be used to provide additional service features to one or both calling and or called parties.

While an example IMS communication system example IMS devices and and an example IMS network have been illustrated in the devices networks systems servers and or processors illustrated in may be combined divided re arranged eliminated and or implemented in any way. For example it will be readily appreciated by persons of ordinary skill in the art that the example S CSCF servers and the example ENUM server the example UCCS the example P CSCF servers and the example I CSCF server the example media gateway the example MGCF server the example BGCF server and or the example application servers and illustrated in are logical entities of the example IMS network . They may therefore be implemented separately and or in any combination using for example machine accessible instructions executed by one or more computing devices and or computing platforms. Further the example IMS devices and the example S CSCF servers the example ENUM server the example UCCS the example P CSCF servers and the example I CSCF server the example media gateway the example MGCF server the example BGCF server the example application servers and and or more generally the example IMS network may be implemented by hardware software firmware and or any combination of hardware software and or firmware. Further still the example IMS communication system the example IMS devices and and or the example IMS network may include additional devices servers systems networks gateways portals and or processors in addition to or instead of those illustrated in and or may include more than one of any or all of the illustrated devices servers networks systems gateways portals and or processors. For example an IMS network may include any number and or type s of home subscriber servers HSSs and or session border controllers.

To allow the example UCCS of to operate as a SIP application server the example UCCS includes a SIP interface . The example SIP interface of allows a SIP registrar e.g. any of the example S CSCF servers to notify the UCCS via a SIP message when an IMS device has been registered to the IMS network . Such notifications are used by the UCCS to for example update subscriber data so that the UCCS can determine which S CSCF server is associated with the IMS device .

To interact with an ENUM server e.g. the example ENUM server of the example UCCS of includes an ENUM server interface . The example ENUM server interface of is used to receive call admission control inquiry messages from the ENUM server and to provide call admission response messages to the ENUM server and may be implemented using any suitable protocol s message s frame s and or logic.

To monitor call servers e.g. any of the example S CSCF servers and and or the example MGCF of the example UCCS of includes a system monitoring interface . The example system monitoring interface of enables call servers to periodically and or aperiodically provide the UCCS with information and or data concerning their current condition workload e.g. processor loading and or memory usage and or current utilization of their associated communication resources. The example system monitoring interface may additionally or alternatively be used to periodically and or aperiodically query or poll the call servers for their current condition workload and or current communication resource utilization information and or data. Data received via the system monitoring interface is used to update call server load data .

The example policy rules the example subscriber data and the example call server load data may be implemented using any number and or type s of data structures and may be stored in any number and or type s of memories and or memory devices . An example data structure that may be used to implement the example subscriber database of is described below in connection with . For each supported call server the example call server load database stores one or more values that represent its historical and or current condition workload and or its historical and or current communication resource condition and or utilization. The example policy rules database of stores one or more values e.g. thresholds and or weights for one or more call gapping factors and or equations mathematical expressions that can be used to make call admission control decisions.

To update and or access the subscriber database the example UCCS of includes a subscriber tracker . The example subscriber tracker of receives information e.g. associating a subscriber with an S CSCF server via the example SIP interface and uses the received information to update the subscriber data . The example subscriber tracker can also be used by for example the example call admission controller to identify the terminating S CSCF server for a requested communication session based on data from the subscriber database . For example as described below in connection with the example subscriber tracker may receive a telephone number and or SIP URI for a called party and may use the telephone number and or SIP URI to query the subscriber database to obtain and or identify the terminating S CSCF server for the called party and or to obtain other associated information such as a MGCF server identifier trunk group information class of service information etc. The example subscriber tracker of also manages a static routing translation table for telephone numbers e.g. similar to the table implemented in a BGCF server e.g. the example BGCF server of that allows call admission decisions to be made for calls placed to a non IMS device e.g. a PSTN based telephone . The static routing translation table may be for example imported from a BGCF server an MGCF server and or may be created locally e.g. via the example administrative interface based on the North American numbering plan area NPA codes prefix locations NXX and telephone number blocks.

To perform call admission control the example UCCS of includes the example call admission controller . The example call admission controller of receives call admission request messages via the example ENUM server interface and based on data in the call server load database makes call admission decisions for the requested communication sessions. The example call admission controller may for some conditions admit a communication session request even though the terminating S CSCF server and or its communication resources are overloaded. For example the workload of the terminating S CSCF server may be ignored if one or both of the calling party and or the called party has a sufficiently high class of service i.e. a class of service exceeding a threshold . The example call admission controller returns a call admission response message to the ENUM server via the ENUM server interface . Example machine accessible instructions that may be executed to implement the example call admission controller and or more generally the example UCCS are described below in connection with .

To update and or access the call server load database the example UCCS of includes a call server monitor . The example call server monitor of receives queries for polls for and or otherwise obtains terminating call server workload and or communication resource utilization information and or data via the example system monitoring interface and uses the obtained information and or data to update the call server load data .

While an example manner of implementing the example UCCS of has been illustrated in one or more of the interfaces databases elements processes and or devices illustrated in may be combined divided re arranged omitted eliminated and or implemented in any other way. Further the example interfaces and the example databases and the example subscriber tracker the example call admission controller the example call server monitor and or more generally the example UCCS may be implemented by hardware software firmware and or any combination of hardware software and or firmware. Further still the example UCCS may include interfaces databases elements processes and or devices instead of or in addition to those illustrated in and or may include more than one of any or all of the illustrated interfaces databases elements processes and or devices.

To identify call servers associated with the subscriber the example entry of contains one or more fields . The example fields of contains values and or entries that point and or refer to respective data structures and . Once an entry is identified for a called subscriber one or more of the example fields may be utilized to identify the terminating call server and or communication resources associated with the called subscriber. For example for an IMS subscriber the contents of a SERVING S CSCF ID field may be used to obtain information regarding the terminating call server associated with the IMS subscriber e.g. to identify a particular data structure . The obtained information may then be used to obtain condition and or workload information for the terminating call server from for example the example call server load database of so that a call admission decision may be made. Likewise the entry may be used to obtain information regarding a MGCF server associated with the called number to obtain information regarding communication resources e.g. a trunk group used to provide communication services to the called number and or to obtain class of service information for the called number. For example the entry together with the MGCF information and may be used to implement a call gapping policy for trunk groups from IMS VoIP network to PSTN and or PLMN connectivity. Persons of ordinary skill in the art will readily recognize that one or more of the fields may be blank and or contain NULL values. For example for a non IMS called party the SERVING S CSCF ID field will not be used as there is no S CSCF server associated with the non IMS called party.

To track and or record communication session rejections for the called subscriber the example entry of includes a rejection count field and a time of last rejection field . The example rejection count field of includes a numeric value that represents the number of call admission rejections for the called subscriber over a particular time period. The example time of last rejection field of includes one or more numbers and or alphanumeric characters that represent the last time and or last date that a communication session to the called subscriber was rejected.

To store a SIP URI for a call rejection handler the example entry of includes a redirection URI field . The example redirection URI field of contains one or more numbers and or alphanumeric characters that represent and or identify a call rejection handler to handle call admission denials for the called subscriber. Example call rejection handlers include but are not limited to any type of announcement server and or any type of voicemail server.

While an example data structure that may be used to implement the example subscriber database of is illustrated in the example data structure of may be implemented using any number and or type s of other and or additional entries fields and or data. Further the entries fields and or data illustrated in may be combined divided re arranged eliminated and or implemented in any way. Moreover the example data structure may include additional entries fields and or data than those illustrated in and or may include more than one of any or all of the illustrated entries fields and or data.

To allow the example S CSCF server of to receive and or send SIP messages the example S CSCF server includes any type of SIP interface . The example SIP interface of allows the example S CSCF server to exchange one or more SIP messages with one or more other devices such as an IMS device an I CSCF server an HSS and or any other call server.

To interact with an ENUM server e.g. the example ENUM server of the example S CSCF server of includes an ENUM server interface . The example ENUM server interface of is used to send an ENUM query message to an ENUM server and or to receive an ENUM query response message from the ENUM server. An example ENUM server interface is implemented in accordance with Internet Engineering Task Force IETF Request for Comment RFC 3761.

To process and or handle SIP messages the example S CSCF of includes SIP server logic . The example SIP server logic of implements a state engine and or maintains state information for SIP transactions dialogs and or communication sessions including for example handling registrations and or handling incoming outgoing calls as defined in Internet Engineering Task Force IETF Request for Comment RFC 3261. For example when a communication session request is received from a calling party at the S CSCF the example SIP server logic performs an ENUM lookup for the called party by sending an ENUM query message to an ENUM server e.g. the example ENUM server of via the example ENUM server interface . Example machine accessible instructions that may be executed to implement the example SIP server logic and or more generally the example S CSCF to take advantage of ENUM servers capable of indicating call admission control decision are described below in connection with .

To handle errors the example S CSCF of includes an error handler . The example error handler of processes errors error codes response messages e.g. call admission denial messages received from an ENUM server and or error messages received at and or generated by the S CSCF . For example an ENUM server response message that indicates that a call is rejected may identify a call rejection handler e.g. an announcement server and or a voicemail server to which the calling party is to be connected. Additionally or alternatively the example error handler handles received and or generated errors based on the error filters . For example an error can be compared with entries of the error filters to identify if how and or when a particular error is to be processed and or handled. An example error filter defines that a call rejection for a communication session directed to a non IMS device is forwarded to an announcement server while a communication session directed to an IMS device is forward to a voicemail server.

To monitor the condition and or workload of the example S CSCF of the S CSCF includes a load monitoring agent . Using any method s algorithm s and or logic the example load monitoring agent of monitors the condition and or workload of the S CSCF by for example monitoring processor condition utilization s memory utilization s storage utilization s and or utilization s of communication resources associated with the S CSCF . The example load monitoring agent periodically and or aperiodically provides the condition and or workload of the S CSCF to for example the example UCCS . Additionally or alternatively the example load monitoring agent may be periodically and or aperiodically polled by the UCCS for the condition and or workload data and or information.

While an example manner of implementing the example S CSCF of has been illustrated in one or more of the interfaces data structures elements processes and or devices illustrated in may be combined divided re arranged omitted eliminated and or implemented in any other way. For example the S CSCF may be implemented by modifying and or enhancing a traditional and or existing S CSCF by the addition of one or more functions of the example error handler and or the example load monitoring agent . Further the example interfaces and the example error filters the example SIP server logic the example error handler the example load monitoring agent and or more generally the example S CSCF may be implemented by hardware software firmware and or any combination of hardware software and or firmware. Further still the example S CSCF may include interfaces data structures elements processes and or devices instead of or in addition to those illustrated in and or may include more than one of any or all of the illustrated interfaces data structures elements processes and or devices. For example the S CSCF may include and or implement one or more additional capabilities interfaces and or protocols in accordance with one or more past present and or future standards and or specifications e.g. a DIAMETER interface and or protocol for interacting with a HSS . Such standards and or specifications may be developed by organizations such as for example 3GPP TISPAN and or IETF.

To allow the example ENUM server of to receive and or respond to ENUM queries the example ENUM server includes any type of S CSCF interface . The example S CSCF interface of allows the example ENUM server to receive ENUM lookup requests and to respond with a SIP URI and or a call rejection message. The example S CSCF interface is implemented in accordance with IETF RFC 3761.

To interact with UCCS servers e.g. the example UCCS of the example ENUM server of includes a UCCS server interface . The example UCCS server interface of is used to send call admission control inquiry messages to UCCS servers and to receive call admission response messages from the UCCS servers.

To perform ENUM lookups the example ENUM server of includes an ENUM querier . The example ENUM querier of receives an ENUM lookup request message via the example S CSCF interface and performs a lookup for the called party in the ENUM database . The example ENUM querier forwards the results of the ENUM lookup to call admission control agent .

To perform call admission control the example ENUM server of includes the example call admission control agent . When the example ENUM querier provides the results of an ENUM lookup the example call admission control agent generates and or sends a call admission control inquiry message to a UCCS server i.e. consults with the UCCS server via the example UCCS server interface to determine whether the requested communication session to the called party should be admitted. When the call admission control agent receives a call admission response from the UCCS server via the UCCS server interface the call admission control agent forwards the corresponding response to the originating call server via the S CSCF interface . For example if the UCCS determines that the communication session is to be admitted the call admission control agent returns to the originating S CSCF server the SIP URI obtained by the ENUM querier from the ENUM database query. If the communication session to the called party is to be rejected i.e. not admitted the call admission control agent instead returns an error and or call rejection message e.g. a SIP Temporarily Unavailable message . Example machine accessible instructions that may be executed to implement the example call admission control agent and or more generally the example ENUM server are described below in connection with .

While an example manner of implementing the example ENUM server of has been illustrated in one or more of the interfaces data structures elements processes and or devices illustrated in may be combined divided re arranged omitted eliminated and or implemented in any other way. Further the example interfaces and the example ENUM database the example ENUM querier the example call admission control agent and or more generally the example ENUM server may be implemented by hardware software firmware and or any combination of hardware software and or firmware. Further still the example ENUM server may include interfaces data structures elements processes and or devices instead of or in addition to those illustrated in and or may include more than one of any or all of the illustrated interfaces data structures elements processes and or devices.

The illustrated example of begins with a calling IMS device sending a SIP INVITE message to the IMS network . The SIP INVITE message is received by the example P CSCF and forwarded to the originating S CSCF server associated with the calling IMS device . Based on the called party identified in the SIP INVITE message the originating S CSCF server performs an ENUM query by sending an ENUM query request message to the ENUM server .

The ENUM server performs the requested ENUM query and sends a call admission control inquiry message to the UCCS . The UCCS determines the condition and or workload of the terminating S CSCF server and or the utilization of communication resources associated with the terminating S CSCF server block . In the illustrated example of the UCCS determines that the terminating S CSCF server and or its associated communication resources are currently overloaded block and sends a call admission response message that indicates that the call is rejected to the ENUM server .

The ENUM server receives the call admission response message and sends an appropriate call rejection message to the originating S CSCF . When the originating S CSCF receives the call rejection message the originating S CSCF sends for example a SIP message e.g. a SIP Temporarily Unavailable message via the P CSCF to the calling IMS device .

Picking up the description of at block in contrast to the example of in the illustrated example of the UCCS determines that the terminating S CSCF server and or its associated communication resources are not currently overloaded block and sends a call admission acceptance message to the ENUM server . Because the UCCS accepted the requested communication session the example ENUM server sends to the originating S CSCF server the SIP URI determined via the ENUM lookup in an ENUM query response message .

When the originating S CSCF server receives the SIP URI for the called party in the response message the originating S CSCF server sends a SIP INVITE message to the I CSCF server . The I CSCF send a query to and receives a response from an HSS and then sends a SIP INVITE message to the terminating S CSCF . Call setup for the requested communication session may then continue as is commonly performed in any desired fashion.

The example machine accessible instructions of begin when an originating communication session request is received by an originating S CSCF server e.g. any of the example S CSCF servers and described herein . The originating S CSCF server e.g. the example SIP server logic of performs and or initiates feature processing if applicable by for example initiating processing for the calling party by an application server e.g. the example application server block . The SIP server logic then sends an ENUM query message to an ENUM server block .

If the SIP server logic receives a call rejection response message and the response message identifies a SIP URI of a call rejection handler block an error handler e.g. the example error handler of forwards the communication session to the identified call rejection handler block . Control then exits from the example machine accessible instructions of .

If the SIP server logic receives a call rejection response message but the response message does not identify a SIP URI of a call rejection handler block the error handler sends for example a SIP Temporarily Unavailable message to the calling IMS device block . For example the error handler can process the error identified in the response message by for example comparing an error code contained in the response message with one or more error filters e.g. the example error filters of . Control then exits from the example machine accessible instructions of .

If the SIP server logic receives a SIP URI for the called party block the SIP server logic continues call processing for the requested communication sessions in any desired fashion e.g. in a conventional fashion block . When call processing for the requested communication session has completed control exits from the example machine accessible instructions of .

If the SIP server logic receives any other response and or error code than those handled by blocks and or e.g. SIP URI not found block the SIP server logic performs appropriate alternative treatment for the communication session block . For example if the called party is associated with a PSTN telephone number thus having no associated SIP URI the SIP server logics sends the communication session to a BGCF server e.g. the example BGCF server of which routes the communication session to the appropriate MGCF server e.g. the example MGCF server . Additionally or alternatively the error handler can processes the error identified in the response message by for example comparing an error code contained in the response message with one or more error filters e.g. the example error filters of . When treatment of the returned error code is completed block control exits from the example machine accessible instructions of .

The example machine accessible instructions of begin when an ENUM query message is received at an ENUM server e.g. any of the example ENUM servers described herein . The ENUM server e.g. the example call admission control agent of sends a call admission control inquiry message to a UCCS e.g. the example UCCS described herein block . If the call admission control agent receives a response message indicating that the communication session is to be admitted block the ENUM server e.g. the example ENUM querier performs an ENUM lookup in an ENUM database e.g. the example ENUM database block . If no ENUM record for the called party is located block the ENUM querier sends an ENUM query response message indicating that no SIP URI was identified for the calling party block . Control then exits from the example machine accessible instructions of .

If an ENUM record is located block the ENUM server e.g. the example call admission control agent of sends a response message to the originating S CSCF server that contains the SIP URI previously identified by the ENUM querier block . Control then exits from the example machine accessible instructions of .

Returning to block if the call admission control agent receives a response indicating that the communication session is to be rejected block the call admission control agent determines whether the response message identified a call rejection handler block . If the response message identified a call rejection handler block the call admission control agent sends a call rejection response message that identifies the call rejection handler to the originating S CSCF block . Control then exits from the example machine accessible instructions of .

If the rejection response message did not identified a call rejection handler block the call admission control agent sends a call rejection response message that does not identify the call rejection handler to the originating S CSCF block . Control then exits from the example machine accessible instructions of .

The example machine accessible instructions of may be executed to implement the example UCCS described herein. If administrative updates are received via for example the example administrative interface of block the UCCS updates the policy rules the MGCF information e.g. static routing translation table information and or other configuration parameters of the UCCS block . Control then returns to block to check for administrative updates.

If administrative updates were not received block the UCCS e.g. the call server monitor of determines if updated call server condition and or workload data and or information was received and or otherwise obtained block . If updated call server condition and or workload data and or information was received and or otherwise obtained block the call server monitor updates call server load data e.g. in the example call server load database of block . Control then returns to block to check for administrative updates.

Returning to block if updated call server condition and or workload data and or information was not received block the UCCS e.g. the example subscriber tracker of determines if updated subscriber information was received e.g. a SIP registration notification message for example SIP third party registration message block . If updated subscriber information was received block the subscriber tracker updates subscriber information e.g. in the example subscriber database block . Control then returns to block to check for administrative updates.

Returning to block if updated subscriber information was not received block the UCCS e.g. the example call admission controller of determines is a call admission control CAC inquiry message e.g. the example CAC inquiry message of was received block . If a call admission control inquiry message was received block the call admission controller makes a call admission decision by for example executing the example machine accessible instructions of block . Control then returns to block to check for administrative updates. If a call admission control inquiry was not received block then control returns to block to check for administrative updates.

The example machine accessible instructions of may be executed to make a call admission decision and or more specifically to implement the example call admission controller of . The example machine accessible instructions of begin when a call admission control inquiry message is received by a call admission controller e.g. the example call admission controller at for example block of . The call admission controller identifies the subscriber information for the called party e.g. the example entry of associated with the called party and obtains the corresponding class of service information e.g. the example entry for the called party block . The call admission controller then identifies the terminating S CSCF server for the called party if applicable by for example using the contents of the example field block .

If information for the terminating S CSCF is found block and if the terminating S CSCF server is not overloaded block the call is accepted block and control exits from the example machine accessible instructions of to for example the example machine accessible instructions of .

Returning to block if the terminating S CSCF server is overloaded e.g. the current workload of the terminating S CSCF server is above a workload threshold block the call admission controller makes a call admission decision based upon the current workload of the terminating S CSCF and the class of service for the called party block . For example one or more of the following policy rules e.g. from the example policy rules database may be applied to make the call admission decision 

Returning to block if information for the terminating S CSCF is not found block control continues to block without making a call admission decision based on the current workload of the terminating S CSCF. The call admission controller obtains if applicable information regarding a terminating MGCF server associated with the called party e.g. the example MGCF server of block . If there is an applicable terminating MGCF server for the requested communication session and the MGCF server is overloaded block the call admission controller makes a call admission decision based upon the current workload of the MGCF server and the class of service block and control proceeds to block . For example one or more of the following policy rules e.g. from the example policy rules database may be applied to make the call admission decision 

Returning to block if the terminating MGCF server is not overloaded block control proceeds to block without making a call admission decision based on the current workload of the MGCF server. The call admission controller obtains if applicable information regarding a trunk group for the communication session block . If there is an applicable trunk group for the requested communication session and the trunk group is overloaded block the call admission controller makes a call admission decision based upon the current utilization of the trunk group and the class of service block . Control then returns from the example machine accessible instructions of to for example the example machine accessible instructions of . For example one or more of the following policy rules e.g. from the example policy rules database may be applied to make the call admission decision 

Returning to block if the trunk group is not overloaded block and the call has not been rejected at block the request call is admitted block . Control then returns from the example machine accessible instructions of to for example the example machine accessible instructions of .

The processor platform of the example of includes at least one general purpose programmable processor . The processor executes coded instructions and or present in main memory of the processor e.g. within a RAM and or a ROM . The processor may be any type of processing unit such as a processor core a processor and or a microcontroller. The processor may execute among other things the example exchanges and or the example machine accessible instructions of to implement the example methods and apparatus described herein.

The processor is in communication with the main memory including a ROM and or the RAM via a bus . The RAM may be implemented by DRAM SDRAM and or any other type of RAM device and ROM may be implemented by flash memory and or any other desired type of memory device. Access to the memory and may be controlled by a memory controller not shown . The RAM may be used to store and or implement for example the example policy rules database the example subscriber database the example call server load database the example error filters and or the example ENUM database .

The processor platform also includes an interface circuit . The interface circuit may be implemented by any type of interface standard such as an external memory interface serial port general purpose input output etc. One or more input devices and one or more output devices are connected to the interface circuit . The input devices and or output devices may be used to for example implement the example interfaces and of the example interfaces and of and or the example interfaces and of .

Of course persons of ordinary skill in the art will recognize that the order size and proportions of the memory illustrated in the example systems may vary. Additionally although this patent discloses example systems including among other components software or firmware executed on hardware it will be noted that such systems are merely illustrative and should not be considered as limiting. For example it is contemplated that any or all of these hardware and software components could be embodied exclusively in hardware exclusively in software exclusively in firmware or in some combination of hardware firmware and or software. Accordingly persons of ordinary skill in the art will readily appreciate that the above described examples are not the only way to implement such systems.

At least some of the above described example methods and or apparatus are implemented by one or more software and or firmware programs running on a computer processor. However dedicated hardware implementations including but not limited to an ASIC programmable logic arrays and other hardware devices can likewise be constructed to implement some or all of the example methods and or apparatus described herein either in whole or in part. Furthermore alternative software implementations including but not limited to distributed processing or component object distributed processing parallel processing or virtual machine processing can also be constructed to implement the example methods and or apparatus described herein.

It should also be noted that the example software and or firmware implementations described herein are optionally stored on a tangible storage medium such as a magnetic medium e.g. a disk or tape a magneto optical or optical medium such as a disk or a solid state medium such as a memory card or other package that houses one or more read only non volatile memories random access memories or other re writable volatile memories or a signal containing computer instructions. A digital file attachment to e mail or other self contained information archive or set of archives is considered a distribution medium equivalent to a tangible storage medium. Accordingly the example software and or firmware described herein can be stored on a tangible storage medium or distribution medium such as those described above or equivalents and successor media.

To the extent the above specification describes example components and functions with reference to particular devices standards and or protocols it is understood that the teachings of the invention are not limited to such devices standards and or protocols. Such systems are periodically superseded by faster or more efficient systems having the same general purpose. Accordingly replacement devices standards and or protocols having the same general functions are equivalents which are intended to be included within the scope of the accompanying claims.

Although certain example methods apparatus and articles of manufacture have been described herein the scope of coverage of this patent is not limited thereto. On the contrary this patent covers all methods apparatus and articles of manufacture fairly falling within the scope of the appended claims either literally or under the doctrine of equivalents.

