---

title: Session application records
abstract: Some embodiments of the present invention provide a method and system for correlating information regarding an interactive communication. A session application record is provided to store information of a session that represents an interactive communication that is at least between two endpoints. An application programming interface (API) is provided for users to create and manipulate session application records. Application specific data or customized data can be stored with the session application record using a tag that includes a name and value pair. One session application record can be associated with another session application record by using a relation. Any information that is gathered during a session can be accessible even when one of the endpoints is replaced by another endpoint.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08635275&OS=08635275&RS=08635275
owner: Aspect Software, Inc.
number: 08635275
owner_city: Lombard
owner_country: US
publication_date: 20070802
---
This application claims priority to U.S. Provisional Patent Application Ser. No. 60 835 378 filed Aug. 3 2006 the contents of which are hereby incorporated by reference.

The present invention relates generally to an interactive communication system and more particularly to a method system and medium for providing a data construct that is used to describe an interactive communication session.

The conventional telephony network allows users to communicate with each other through a central system of switches which can be referred to as telephone exchanges. The telephone exchanges provide electrical or optical switches to connect users and allow communication. The conventional telephony network is often referred to as a public switched telephone network PSTN . The switches and other equipment necessary to make a connection can be located for example in central offices COs and in customer premises. The PSTN can have local exchanges that allow a user to call another user of the PSTN through COs of the local exchange. The PSTN can also have long lines that allow long distance call transmission such that a user can call another user on the PSTN that is not part of the local exchange. In this case the call may be routed through multiple COs until the call reaches the called party s local exchange.

In recent years Voice over Internet Protocol VoIP has provided an alternative to conventional telephone exchanges. VoIP employs the routing of voice conversations over the Internet or other IP based networks. VoIP is a technology that allows a user to make telephone calls using a network connection instead of a traditional analog phone line connection. VoIP converts the voice signal from a telephone or a computer into a digital signal that is packetized over a network then converts it back at the other end so that a user can speak to anyone with a regular phone number or anyone who also uses VoIP technology. VoIP uses the network as the transmission medium for telephone calls by sending voice data in packets using IP rather than sending a voice signal over the PSTN.

Currently a great deal of information concerning a telephone call is not correlated or stored together. This creates the inconvenience of having to supply or store the same information multiple times. For example when a user calls a credit card company the automated service asks the user to enter the user s credit card number and other information that identifies the user and the service that the user wants. However once a user decides to speak to a customer representative the user needs to repeat to the customer representative much of the information that was previously entered using the automated service such as the credit card number. The problem of repeatedly providing the same information also occurs when calls are transferred between different departments or enterprises. For example a user may call a brokerage house to inquire a specific investment product offered through the brokerage house and the brokerage house transfers the call to an investment company who offers the investment product. Whatever information the user provides the brokerage house the user needs to repeat again with the investment company as the investment company cannot have access to the brokerage house s records where the information is stored.

Some embodiments of the present invention provide a method and system for correlating information regarding an interactive communication session. A session application record is provided to store information of a session that represents an interactive communication such as a telephone call a chat session an on line multimedia conference that is between at least two endpoints. An application programming interface API is provided for users to create and manipulate session application records. Application specific data or customized data can be stored with the session application record using a tag that includes a name and an optional value. One session application record can be associated with another session application record by using a relation. Any information that is gathered during a session can be accessible even when one of the endpoints in the session is replaced by another endpoint.

In one embodiment of the present invention a method of correlating data with an interactive communication is provided. The method includes creating a first session representing an interactive communication including a first endpoint and a second endpoint creating a first session application record SAR recording data related to the first session terminating the first session and storing the first session application record.

In one aspect of the present invention the creation of the first session application record is before the creation of the first session. The first session application record may include at least one of an identification number a session start time a session end time a session status a controller component identification number a completion status and a revision number. In a further aspect of the present invention the method further includes creating a first endpoint record EPR for the first endpoint and creating a second endpoint record for the second endpoint wherein the first endpoint record and the second endpoint record associates with the first session application record. Each endpoint record may include at least one of an identification number a uniform resource identifier a status flag a session join time a session leave time a completion status an identification number of an endpoint record that it is replacing an identification number of an endpoint record that it is replaced by and an identification number of the associated session application record. In another aspect of the present invention the method further includes storing the first endpoint record and the second endpoint record. The method may further include the step of creating a tag for the first session application record where the tag includes a name and an optional value. In another aspect of the present invention the method may further include the step of creating a relation between the first session application record and a second session application record wherein the second session application record includes data related to a second session. The second session may include the first endpoint the second endpoint or completely different endpoints from the first session. A tag may be created for the relation. In yet another aspect of the present invention the method also includes querying for information in the first session application record.

In still another aspect of the present invention the method further includes the step of replacing the first endpoint with a third endpoint providing data stored in the first session application record to the third endpoint and storing communication information between the second endpoint and the third endpoint in the first session application record. The method may also include the step of creating a third endpoint record for the third endpoint including information identifying which endpoint was replaced by the third endpoint. The information identifying which endpoint was replaced can include an identification number of the first endpoint record for the first endpoint. The first endpoint record for the first endpoint may include information identifying the third endpoint that replaces the first endpoint. The information identifying the third endpoint can include an identification number of the third endpoint record for the third endpoint.

In another embodiment of the present invention a system for correlating data with an interactive communication is provided. The system includes an application programming interface for creating a session that represents an interactive communication including a first endpoint and a second endpoint and a session application record that stores information of the session wherein the session application record still exists after the session is terminated. In one aspect of the present invention the application programming interface manipulates the session application record. In another aspect of the present invention the application programming interface is used to create at least one of an endpoint record a relation a relation type a tag to store information associated with the session with the session application record.

In yet another embodiment of the present invention a medium storing computer executable instructions for a method of correlating data with an interactive communication is provided where the method includes creating a first session representing an interactive communication including a first endpoint and a second endpoint creating a first session application record recording data related to the first session terminating the first session and storing the first session application record.

Some embodiments of the present invention provide a method and system for correlating information regarding an interactive communication session. A session application record is provided to store information of a session that represents an interactive communication such as a telephone call a chat session an on line multimedia conference that is between at least two endpoints. An application programming interface API is provided for users to create and manipulate session application records. Application specific data or customized data can be stored with the session application record using a tag that includes a name and an optional value. One session application record can be associated with another session application record by using a relation. Any information that is gathered during a session can be accessible even when one of the endpoints in the session is replaced by another endpoint.

One skilled in the art will recognize that the VoIP network is merely an illustrative example and that a myriad of different configurations can be formed within the scope of the present invention. Further it will be recognized by one skilled in the art that the VoIP network can be configured without branch offices or without a data center or the VoIP network can include multiple data centers. The protocol used in the VoIP network can include but not limited to Session Initiation Protocol SIP H.323 Skype Jingle Inter Asterisk eXchange IAX SCCP Skinny Client Control Protocol .

Communication endpoints can include a computing device that can initiate and receive communication and can include a software based phone. The communication endpoints can also include a SIP phone a cellular phone a PDA a laptop a desktop or any other device that is capable of receiving and or originating a voice call in a VoIP network.

The data center includes a server with a communication manager program that is loaded on the server a communication endpoint a communication endpoint and a communication endpoint . The server is connected to each of the communication endpoints . The server can also connect to the PSTN and a PBX.

The communication manager is a computer program that controls communications among the communication endpoints of the data center as well as between the communication endpoints of the data center and the branch office or the branch office . The communication manager for example allows the communication endpoint to establish communication with the communication endpoint . The communication manager also enables the communication endpoints to communicate with endpoints that employ phones on the PSTN and a PBX. The communication manager can for example allow the communication endpoint to communicate with an endpoint that uses a phone on the PSTN or a PBX. An example of the communication manager is SESSIONSUITE from BlueNote Networks Inc. of Tewksbury Mass.

The branch office includes a server with a communication manager program and the branch office includes a server with a communication manager program . The communication managers and can provide identical functionality as the communication manager . The branch office includes a communication endpoint and a communication endpoint . The branch office includes a communication endpoint and a communication endpoint . The data center the branch offices and the branch office can be connected using a virtual private network VPN .

The data center the branch office and the branch office can each have multiple servers where each server includes a communication manager. For example each of the data center the branch office and the branch office can include a second sever with a second communication manager to manage communications. The multiple communication managers can provide multiple routing paths for communications via the VoIP network and can also increase the number of communications each of the data center the branch office and the branch office can manage.

The communication endpoint of the data center can communicate with the communication endpoint of the branch office or with the communication endpoint of the branch office by initiating a communication request that is processed by the communication manager which sends the communication request to the communication manager or which in turn processes the communication request and sends it to the communication endpoint or respectively. The communication managers and also allow the communication endpoints and to communicate with endpoint that has a user using a phone on the PSTN or a PBX for communication.

The controller supplies fundamental session initiation protocol SIP capabilities including but is not limited to SIP Proxy SIP Redirector and SIP Registrar functions. The controller can be RFC 3261 compliant and can provide a standards based core signaling and control infrastructure. The controller provides advanced admission control capabilities allowing VoIP calls to be rejected if insufficient resources are available to complete a call with acceptable quality and can integrate directly with enterprise information technology IT infrastructure such as RADIUS AAA servers and LDAP policy servers thereby allowing voice to be treated and managed in a manner similar to other IP applications.

The service organizer can be used in conjunction with the controller and provides traditional voice calling and point to point video features as a pure software solution. The service organizer can deliver popular PBX calling functions along with value added features such as voicemail conference bridging and Interactive Voice Response IVR and works with a wide variety of standards based soft phones SIP phones and traditional analog telephones.

The gateway bridges VoIP networks and traditional PSTN PBX infrastructures allowing VoIP users to communicate with PBX users or users of the PSTN network. The gateway works with standards based third party analog and digital line adapters and supports a variety of interfaces including T1 CAS ISDN PRI and analog FXS FXO.

The boundary spanner delivers flexible and integrated boundary solutions for NAT and firewall traversal. Modern enterprise networks are comprised of independent networks with unique address spaces. NAT devices are used to connect with external networks while firewall technology is used to protect the local network from the outside world. The boundary spanner can enable SIP controlled communications flows through firewall and NAT boundaries. The boundary spanner can be used to extend corporate voice services to Internet enabled mobile workers or Internet connected affiliates of an enterprise such as subsidiaries and suppliers.

The peer connector provides connectivity and interoperability with external services service providers and hosting facilities. The peer connector can traverse firewalls and NAT devices that separate a service provider from a service subscriber. The peer connector can provide additional naming and can identify features that allow enterprises to gain access to use and manage external services.

The management environment can be a Web based application that manages the communication manager as well as services resources sessions users and clients of the VoIP network . The management environment can provide a common Web browser interface for managing all of the software components of the communication manager and offers integrated fault configuration performance and security management for all the communication manager functions. The management environment can provide a user portal that allows subscribers of the services to manage call handling and voicemail features through a secure Web browser. The management environment can provide an XML SOAP interface for integration with third party or customer developed management applications and networks.

The relay provides voice and video traffic forwarding and switching under the control of the controller . The relay can supply compression and transcoding and can support a variety of CODECs including but not limited to G.711 variants G.729 variants and GSM for voice and H.263 and H.264 for video.

The session API enable users to use their applications or build their own applications to utilize features and functionalities provided by the session API . The session API provides means to manipulate sessions and associated data. A session is used herein to refer to an interactive communication set up between at least two endpoints. The session API provides a list of functions that enable users to associate and store communication information with the session.

One of ordinary skill in the art will appreciate that one or more of the controller relay service organizer gateway boundary spanner peer connector management environment and session API can be stand alone applications that can receive and answer calls from communication manager instead of being part of the communication manager . Additionally the functionalities of controller relay service organizer gateway boundary spanner peer connector management environment and session API can be combined into one component or organized into different components any one of which may or may not be a part of communication manager .

An endpoint records EPR is used in addition to SAR to store data related to a session. Each EPR represents an endpoint party in a session. Therefore each SAR has at least two EPRs where one is associated with original side A communication initiator and the other is associated with original side B communication receiver . Referring back to SAR has associated EPR and EPR while SAR has associated EPR and EPR . Each EPR has a 1 1 relationship with a SAR that is associated with the session that the EPR is or was a part of. Hence a new EPR is created each time an endpoint is involved in a session. Each EPR preferably has a unique identification number so that the identification number can be used later for identification. In one embodiment of the present invention the identification number can be generated base on a database sequence. An EPR may have an association with another EPR if one is replaced by another during the life time of a session. Each EPR may have other data other than the identification number such as uniform resource identifier URI a flag indicating whether the corresponding endpoint is currently joined in session the time the endpoint joins the underlying session the time the endpoint leaves the underlying session a completion status the identification number of the EPR that it is replacing the identification number of the EPR that it is replaced by and the identification number of the associated session application record.

A relation can be created to associate two SARs where one is designated as the from side of the relation and the other is designated as the to side of the relation. shows that SAR has a relation with SAR where SAR is at the from side and SAR is at the to side of relation . Each relation has a unique identification number for itself and includes the identification numbers of the two associated SARs. In one preferred embodiment of the present invention each relation has a relation type. Each relation type may also have an identification number for identification. Each SAR EPR relation relation type can be created by a function call via the session API . Each SAR EPR relation relation type can be stored in a database and be implemented using for example a data object an object implemented using a object oriented programming language an XML document a row of data in a relational database. One of ordinary skill in the art will appreciate that there are many ways that one can implement a SAR EPR relation relation type and the specific examples listed herein is not meant to limit the scope of the present invention.

Application data or application specific semantics can be stored together with a session by using a tag. A tag can include data to tag with any entity such as a SAR a relation relation type or an EPR. shows that SAR has tags and SAR has tags and . Relation is shown to have two tags tag and tag . Each tag includes a name and optionally a corresponding value. The name part of the tag is preferably a text identifier that can be used to query whereas the value part of the tag can be in any suitable format for a specific application. For example a tag can have but is not limited to the following format plain text numeric data binary data structured XML data and uniform resource identifier. The tagging mechanism provides users and applications a way to tag entities such as SAR EPR or a relation. The users can later query on the tags using the tag name fields. For example an application may tag some sessions with a specific tag name NeedsFollowUp so that the application can query all the sessions later on with a tag that has the name NeedsFollowUp . The contents in the value fields of the tags can include additional information which can be retrieved by queries using the session API . Each tag is stored together with the associated SAR. SARs EPRs relations relation types and tags can be stored in data center or a database elsewhere. To retrieve information stored in a SAR EPR relation relation type or tag one can query using the session API to obtain the necessary information.

The present invention solves the prior art problem of having to repeat information in an interactive communication such as a telephone call. Using the present invention a customer representative or automated service can use session API to create tags in the corresponding SAR to store information that is provided by a customer. Any customer representative that helps out the customer can use queries provided by the session API to obtain all the information that is gathered so far from the customer in this telephone call or in other previous related telephone call s . In the case where two different enterprises that share access to SARs in a database the enterprise that receive transferred calls from the other enterprise will also be able to obtain all the information that is gathered so far in the transferred call by the other enterprise.

Since the present invention provides an API for manipulating sessions and not a specific user interface users can choose how to integrate the present invention into their existing applications and telephone systems regardless of their existing telephone systems being either the traditional systems that use the PSTN or the new systems that use the VoIP technology or a combination of both.

In step if an endpoint is being replaced or the communication needs to be transferred then additional EPR is created in step for each new endpoint that joins the session. Any communication information that involved the new endpoint s is stored in the same SAR in step . Once the communication with the new endpoint s has ended then communication manager see if the communication needs to be further transferred or if any of the endpoints need to be replaced in step . In step if there is no request for a transfer or no request for further replacement of an endpoint then the session can be terminated in step . In step the SAR and any associated EPRs relation s relation type s tag s are stored. In one embodiment of the present invention every time information in a SAR EPR relation relation type or tag is changed during the session the SAR EPR relation relation type or tag is saved. The revision number in SAR can be updated to reflect that there was a change since the last version. Information in the SAR EPR relation relation type or tag can be queried through session API in step . In one embodiment of the present invention a user or application may want to perform the query before the termination of the session such as after a call is transferred so that the new party that joins the session can be informed of what information has been gathered in the session before the new party joins.

Many alterations and modifications may be made by those having ordinary skill in the art without departing from the spirit and scope of the invention. Therefore it must be expressly understood that the illustrated embodiments have been shown only for the purposes of example and should not be taken as limiting the invention which is defined by the following claims. These claims are to be read as including what they set forth literally and also those equivalent elements which are insubstantially different even though not identical in other respects to what is shown and described in the above illustrations.

