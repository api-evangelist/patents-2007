---

title: Wafer level I/O test, repair and/or customization enabled by I/O layer
abstract: A design structure for a 3D chip having at least one I/O layer connected to other 3D chip layers by a vertical bus such that the I/O layer(s) may accommodate protection and off-chip device drive circuits, customization circuits, translation circuits, conversions circuits and/or built-in self-test circuits capable of comprehensive chip or wafer level testing wherein the I/O layers function as a testhead. Substitution of I/O circuits or structures may be performed using E-fuses or the like responsive to such testing.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=07913202&OS=07913202&RS=07913202
owner: International Business Machines Corporation
number: 07913202
owner_city: Armonk
owner_country: US
publication_date: 20071127
---
This is a continuation in part of U.S. patent application Ser. No. 11 163 167 filed Oct. 7 2005 now U.S. Pat. No. 7 521 950 which is incorporated herein by reference.

This invention was made with Government support under DARPA Contract N66001 04 C 8032 awarded by SPAWAR Systems Center San Diego. The Government has certain rights in this invention.

The present invention generally relates to semiconductor integrated circuit design structures and more particularly to design structures for integrated circuits having a three dimensional 3 D structural configuration including a plurality of semiconductor circuit layers.

It has long been recognized that increased proximity between elements and circuits in electronic devices has numerous benefits in terms of cost performance and functionality particularly in complex digital processing circuits integrated on one or more semiconductor chips. Increased proximity of elements allows more devices and circuits to be formed on a single chip using a given process sequence reducing cost of manufacture per circuit element while increasing functionality of a single chip. Increased proximity of elements on a chip and increased proximity of chips reduces connection length and capacitance and thus improves noise immunity reduces signal propagation time and improves fan out the number of inputs to other circuits that a given circuit can drive . Further proximity of elements on a chip can be increased as the size of individual elements is reduced allowing more circuits having more diverse functions to be placed on a chip of given area.

However the types of circuits which can be included on a single chip may be limited by the technologies required for different types of circuits. For example the technologies preferred for logic circuits and high density memory circuits are sufficiently different that significant compromises must generally be made in regard to one or both types of circuits in order to fabricate both types of circuit on a single chip.

The combination of these advantages has driven the design of integrated circuit chips to increased integration density and the design of integrated circuit packaging to designs providing increased proximity of chips where a plurality of chips are included in a single package which provides the added advantage of reducing cost of installing chip packages in various electronic devices since the number of chip packages is reduced for a given device by including a plurality of chips in a single package . However each input output I O connection on each chip must include circuitry capable of driving or receiving an off chip input to another chip. Off chip signals must be significantly different from on chip signals in order to maintain noise immunity and freedom from corruption of signals coupled from neighboring connections of relatively greater average length.

One of the more successful and potentially advantageous multi chip package configurations has been the so called chip stack where a plurality of individual chips are stacked connections made directly between the chips and the chip stack packaged as a unit. In such a configuration connection length between chips is minimized and many circuit topologies are made possible which are not conveniently available on a single planar e.g. 2 D chip even using complex multi layer metallization layers to form connections on the chip. Further chips fabricated using different technologies which would be incompatible on a single chip may be stacked and packaged together as a single unit.

Regardless of the theoretical potential advantages of such chip stack configurations several highly intractable and interrelated problems have been encountered in practice which have grown even more intractable as reduced minimum feature size regimes and increased integration density for individual chips have developed to support extreme clock cycle speeds. For example increased chip complexity generally implies an increased number of I O connections to and from the chip which in turn implies a reduced size and increased proximity of I O connections. Reduced size of I O connections has several implications such as difficulty of making reliable connections between stacked chips or placement of probes for testing at the wafer or chip level since the registration tolerance of the testing probe with the chip must be less than the connection pad size pitch while the connection pad size and spacing must be severely limited to accommodate the number of connections required by increased chip complexity and while increased proximity of I O connections increases signal coupling .

Moreover increased integration density and reduction of circuit element size requires more stringent protection of internal chip circuits from overvoltage electrostatic discharge ESD and the like at points where I O connections are made. Additionally broadband impedance matching circuits such as a T coil device requiring a planar inductor may be needed and which may require substantial chip area especially when replicated for each I O connection. That is the extra load presented by the introduction of ESD structures makes it more likely that additional impedance matching circuits may be needed to assure proper electrical behavior at the I O and such impedance matching circuits typically include a planar inductor that may require substantial area. Such protection and impedance matching circuits must be provided in addition to circuits capable of providing signals suitable for off chip device drive and with increasing likelihood signal level conversion clock signal conversion and buffering circuits consuming further chip area.

At the same time increased chip complexity increases the need for testing at the chip level since a chip stack will be defective if any single chip included therein contains a defect while increased proximity of connection pads coupled with the fact that a chip stack remains a packaging configuration for individual chips and I O circuits capable of driving off chip circuits must be provided for each connection pad increases the likelihood of signal coupling between neighboring connections to each chip. Further as increased integration density has allowed higher clock cycle rates reaching into the Gigahertz range signal capture and analysis using external testers has become much more difficult partly due to the size thereof while more extensive tests are required by increased chip complexity that are correspondingly less well accommodated by test arrangements that can be provided in stringently limited area on the chip itself. Moreover the extreme clock cycle speeds now possible require routing of signals from outputs of the chip to inputs of the chip over very short but wide e.g. four bytes or more bus or with buffering or latching arrangements e.g. to limit effects of signal propagation time on the test results which interfere with core logic layout. Thus the provision of more numerous circuits capable of providing protection off chip level drive and various needed signal conversions as well as routing has become increasingly expensive and impractical while testing has become much more expensive and impractical even in the face of increased need therefor.

In this latter regard in addition to the practical problem of probing more densely integrated circuits having necessarily reduced connection pad dimensions alluded to above the capture and isolation of a signal of interest in the Gigahertz range using an external tester presents such extreme difficulties that an external tester capable of doing so may cost several hundreds of thousands of dollars per I O connection or pin. At the same time testing at such frequencies has implications on chip design and layout and proximity of related input and output connections e.g. providing an on chip wrap bus to wrap the outputs to inputs which may interfere with core logic functions which are difficult to meet and which engender other complications of signal capture and isolation particularly at off chip drive signal levels.

In addition to testing of chips during integrated circuit manufacture it is desirable to periodically test a chip for functionality after the chip is placed in service e.g. at power up of the chip . For this purpose so called built in self test BIST arrangements have been developed and at the present state of the art are quite sophisticated. However BIST arrangements by their nature impose a trade off between the extent of testing that can be done the amount of time which can be allotted to a self test procedure and the amount of chip space that can be allocated to the BIST arrangement particularly since the BIST arrangement must provide for generation e.g. generally from storage for the bit patterns which will be used to exercise the circuit and the bit patterns against which the result from a test bit pattern is to be compared to confirm functionality. Therefore the chip area allocated to the BIST arrangement is generally limited to about two percent of the chip area and the extent of testing available is usually severely limited and reliance of external testers is generally required to confirm full functionality of a chip. Furthermore BIST arrangements are used only in the digital part of the integrated circuit chip which might also include analog functions as well such as receivers or transmitters or mixed signal digital analog functions such as converters for which different isolation strategies and testing structures are needed.

Therefore particularly in view of the need for larger and more complex protection circuits at I O connections and the need for providing testing at the chip or wafer level in order to avoid the much increased costs of later discovered defects in individual chips after chip stacks have been formed there has been no practical alternative to simply omitting chip and wafer level testing altogether and accepting the increased costs of rejecting substantially completed multi chip packages during testing at the package or system level. Moreover known techniques of chip stacking cannot at practical costs support current and foreseeable chip technologies and integration densities while already severely compromising the benefits which could potentially be derived from currently possible technologies and integration densities due to the cost of providing suitable I O protection and off chip drive signal levels at I O connections between chips even when commonly packaged.

This latter problem is particularly aggravated in regard to application specific integrated circuits ASICs which as a practical matter are generally designed using so called cores or macros which are pre designed functional circuit portions which can be laid out and connected on a single chip to provide in the aggregate a customized function which must often include circuits and connections for converting standard bus designs of existing cores to a customized bus configuration often provided as a separate so called bridge chip. As ASIC designs become more complex and higher performance levels are required it would be desirable particularly from the standpoints of manufacturing cost and potential performance improvement to utilize a chip stack configuration for ASICs with individual cores or small groups of cores on separate chips. Such a configuration would enable better design re use faster time to market and quick customization of a design as well as the performance benefits alluded to above. However as noted above each chip must then include I O connections including circuit protection and circuits capable of providing off chip level drive signals. In practical effect such a provision would amount to providing interfaces between virtually all cores in addition to the cores themselves and any bus conversion chip included in the ASIC and would be of prohibitive cost.

In summary while it is seen that the above problems with common packaging of multiple chips and chip stacks in particular derive from the fact that each chip must be regarded as an off chip device relative to every other chip and a suitable inter chip interface provided while the requirements for each connection of each such interface have become more complex and stringent and consume increased chip area for each of an increased number of connections to the point of becoming prohibitive. To solve this basic problem a so called three dimensional chip has been developed including a vertical bus arrangement such that drive signals suitable for off chip devices are not needed and the separately fabricated chips effectively and functionally become portions of the same chip folded over on itself with the physical configuration providing the same potential advantages of chip stack configurations. However such a connection does not solve the more specific and intractable problems of bus design conversion customization and translation the provision of suitable protection and off chip device drive or especially chip or wafer level testing to support current and foreseeable chip design and manufacturing technology and the advantages potentially available therefrom.

It is therefore an object of the present invention to provide a 3D chip having at least one I O layer connected to other 3D chip layers by a vertical bus such that the I O layer s may accommodate protection and off chip device drive circuits customization circuits translation circuits conversion circuits and or built in self test circuits capable of comprehensive chip or wafer level testing of the I O circuits on that layer. Because of the complexity of the 3D chip according to the present invention it is practical to employ a sequence of electronic design automation tools collectively referred to as a design flow to automate the design manufacture and or test of the 3D chip according to the present invention as opposed to using a manual design process. The design structure of the present invention however is not limited to any specific design flow.

In order to accomplish these and other objects of the invention therefore a machine processed design flow is employed using a design structure such as a text file or graphic representing a 3 D chip comprises a core structure at least one I O layer which is layered with the core structure and a vertical bus connecting the core layer and the I O layer s the I O layer s including customization circuitry translation conversion circuitry protection circuitry and or built in self test circuitry including at least one of a wrap bus and a pipeline structure.

In accordance with another aspect of the invention a method of wafer level I O test and repair in a 3 D chip is provided comprising the steps of locating I O circuits and built in self test structures in an I O layer of a 3D chip connecting the I O layer to the 3D chip core by a vertical bus activating the built in self test structures generating data patterns from the built in self test structures feeding the data patterns through a high speed I O transmit path wrapping the data patterns from the high speed I O transmit path to I O pins via a bus analyzing the data patterns with data pattern analyzers.

The present invention thus provides a machine processed design structure embodied in a machine readable medium for designing manufacturing and or testing a 3 D chip design. The machine processed design structure executes computer instructions to process the design flow for a 3 D chip comprising i a core structure ii one or more I O layers each such I O layer being layered with the core structure and iii a vertical bus connecting the core layer and the I O layer. Each I O layer includes customization circuitry translation conversion circuitry protection circuitry and or built in self test circuitry which in turn includes a wrap bus and or a pipeline structure.

At least one I O structure of each I O layer of a 3 D chip designed manufactured and or tested according to the design structure of the present invention may include i include a C4 structure a pin a wirebond and or a pad and or ii micro machined waveguides micro machined grooves for receiving optical fibers and or an integrated antenna.

The translation conversion circuitry of a 3 D chip designed manufactured and or tested according to design structure of the present invention may i include a voltage translator and or a clock domain translator ii include means for receiving input in the form of one of electrical I O optical I O and RF I O and providing output in the form of one of electrical I O optical I O and RF I O and or iii provide pin or pad pattern conversion between the 3 D chip and the 3 D chip s first level packaging.

A 3 D chip designed manufactured and or tested according to design structure of the present invention may further comprise i a first in first out elastic buffer and or ii one or more E fuses for altering connection of an I O structure.

Each I O layer of a 3 D chip designed manufactured and or tested according to design structure of the present invention may further comprise a plurality of layers and the protection circuitry of such a may be located on a separate layer of said plurality of layers and may further include impedance matching circuits. The receiving components and transmitting components of the I O layer of a 3 D chip designed manufactured and or tested according to design structure of the present invention may be located on separate layers.

The customization circuitry of a 3 D chip designed manufactured and or tested according to the design structure of the present invention may include bus conversion circuitry.

The core structure of at least one I O layer of a 3 D chip designed manufactured and or tested according to design structure of the present invention may be formed by different integrated circuit chip technologies.

The built in self test circuitry of a 3 D chip designed manufactured and or tested according to the design structure of the present invention may function as a testhead for testing core logic at a wafer level.

The design processed by the design structure of the present invention may comprise a netlist which describes the circuit. The design may reside on a storage medium as a data format used for the exchange of layout data of integrated circuits. Furthermore the design may include test data files characterization data verification data and or design specifications.

Referring now to the drawings and more particularly to there is shown a separate chip layer in a 3 D chip wherein certain I O components of the 3 D chip are located as contemplated by the present invention. The I O layer as shown is a separate chip layer but which may itself be fabricated as a plurality of layers such as separate layers for outputs transmitters and inputs receivers or bi directional I Os respectively particularly if of differing technologies or communication medium connected to a 3 D chip by a vertical bus although the I O layer could be connected by a plurality of vertical or inter layer buses. The core of the 3 D chip includes and arbitrary number of layer s containing memory and processing functions as may be desired. Regardless of the number of layers or chips which may be included in each of I O layer s and core layer s all layers or chips are similarly related in terms of structure function and connectivity to the vertical bus or buses.

The I O layer s contains the input output and or bi directional I O macros which are connected to pins or wirebond pads or C4s on the 3 D chip and also electrostatic discharge structures . In some cases an elastic FIFO register or voltage and clock domain translators are used to bridge from I O circuit clock and voltage domains to the vertical bus clock and voltage domains. The chip pins C4s or wirebond pads should be arranged such that minor changes in the number of I O are easily accommodated since some bus standards require additional error correction code or control information. However this is not essential as the I O layer s may be used to translate the pin pad pattern between standard or custom package I O patterns and between 3 D chip and first level packaging as well. Thus in the preferred embodiment all of the logic and connections necessary for translation resides on at least one I O layer allowing for true modularity of the individual layers of the 3 D chip in accordance with the invention.

Locating I O components on at least one separate chip layer allows designers to decouple I O macro placement from the placement of core logic such as processors and memory. This allows for more commonality of package I O for standards based buses and hence reduces cost and time to market for overall system design. Additionally the separate I O layer s allows for considerable flexibility in terms of customization. The I O of a 3 D chip can be customized based on user requirements by modifying only I O layer s to meet user requirements including but not limited to signal levels and clocking protection impedance matching pin out and packaging. Having an interchangeable I O layer allows for a designer to change the bus from a proprietary internal bus e.g. PCI Express Infiniband a custom bus configuration or the like to for example a standards based bus in another technology e.g. CMOS . For example the layer could be customized for RF wireless or optical components as will be discussed below in connection with in whatever technology is required for the end use.

Referring now to which shows I O components located on a separate layer of a 3 D chip having been modified to suit a user defined environment without requiring changes to the core layer of the 3 D chip. Including I O components on at least one separate layer from the core logic of a 3 D chip allows for customization of the I O without modifying the core logic. The I O layer is connected to or in a 3 D chip by at least one vertical bus as shown in and discussed above. Larger or different ESD structures and AC coupling capacitors or other impedance matching circuits such as planar inductors may be added to the I O layer without requiring changes to the layout of logic on other layers of the 3 D chip. The I O layer s continues to include I O macros and voltage and clock domain translators . In certain circumstances it may be beneficial to place the ESD device s or other devices such as T coils on yet another I O layer separate from e.g. above or below in the chip stack the main I O layer . In general it is preferred to place such protective and impedance matching circuits proximate to external connections such as pads pins C4s or the like which may dictate the order of stacking of chips. Alternatively the connections to C4s pins or I O pads can run vertically freeing chip area and reducing parasitic coupling effects between I O connections and the ESD structures improving overall device performance.

It can be advantageous to use multiple chip layers for I O components when for example transmitters and receivers are in different technologies or processed differently making it difficult or burdensome to integrate into a single chip manufacturing process. Using multiple layers for I O components in a 3 D chip allows for convenient integration of dissimilar technologies.

Referring now to the I O components of the 3 D chip do not need to be housed on one single layer. shows one embodiment of the invention as also applied to an optical or radio frequency RF I O conversion therebetween or between either optical and or RF I O and electrical I O or any combination thereof wherein the I O transmitting components are housed on a layer separate from the layer housing the I O receiving components. For example as illustrated in the optical or RF I O receiver chip layer is separate from the optical transmitter chip layer . The I O receiver chip layer includes most or all components relevant to I O receiving such as the optical or RF receiver which may include an integrated or discrete antenna micro machined waveguides or the like. Similarly the I O transmitter chip layer includes most or all components relevant to I O transmitting such as a light emitting unit and structures which allow energy coupling to a waveguide antenna or the like. The I O receiver chip layer and I O transmitter chip layer are integrated into a 3 D chip by means such as vertical buses or interlayer buses . Light or RF energy transmitted from the I O transmitter chip layer by means of the light emitting unit or RF transmitter may be coupled to a fiber or plurality of fibers or other antenna or waveguide positioned against or in close proximity to the I O transmitter layer and can be aligned with micromachined V grooves or other structures which may be formed lithographically. Energy e.g. light received by the 3 D chip falls on the optical or RF receiver . If ridge waveguide receivers are used as the optical receiver then both the I O receiver layer and the I O transmitter layer could be coupled to waveguides or fibers around the periphery of the 3D chip yet remain separate layers.

Referring now to I O buses on processors are very wide from four to eight bytes wide per bus making it very difficult to implement full at speed wrap testing in a 2 D chip especially a pipelined wrap path which may be a very wide bus with active pipelining circuits. shows a segment of a 2 D chip having core logic and memory components . In current 2 D chip practice transmit buses and receive buses are usually separated to eliminate near end crosstalk. This creates long wiring paths many millimeters to about one centimeter in length from transmitters to receivers for this bus wrap and placing buffers or pipeline latches to wrap a high speed bus is not possible in 2 D chips because of intervening logic such as memory and congested wiring . With a separate layer or layers housing the I O components however there is no concern with intervening logic or wiring as will be explained in connection with .

A separate layer or layers for I O components in a 3 D chip according to the invention is ideal for various data wraps from the transmit side to the receive side of a bus interface for the purpose of determining the functionality of each I O in a bus in parallel at speed and at wafer level or in a system test. shows a segment of a layer in a 3 D chip separate from the layer containing core logic wherein certain BIST structures are built. The separate layer is connected to at least one other layer of the 3 D chip by at least one vertical on chip bus . Transmit buses and receive buses are connected to pipelining latches and other necessary logic . This allows for more chip area to place I O wrap circuitry and clocks to support wafer level and at speed testing without interfering with other circuits especially the core logic.

Further allocating a separate chip layer or layers for I O functions in a 3 D chip also allows for creation of test structures for I O bus wraps not possible in 2 D chips. Building I O components and BIST structures into at least one separate layer of a 3 D chip allow for on wafer and at speed I O wrap testing performed independent of and separate from the chip core. During wafer test the I O layer can be isolated from the rest of the 3 D logic layers. Appropriate clocks and signals are applied to place the circuits in a self test mode and high speed IO buses put in wrap modes.

With the independent silicon or other semiconductor and wiring plane allowed by the I O layer in 3 D chip stacks one can also place wraps at other corresponding nodes in the transmit path and the receive path . For example the TSM can control SEL to route test data from the pattern generator macro passing through the transmit path through pipeline thereby foregoing multiplexing. Test data can then pass through the receive path and back to the pattern checker macro which tabulates errors on each lane of the bus and reports to the TSM. When testing is not in progress all of the test logic can be powered down so that no test clocks buffers and the like are operating to save power.

These test wraps are effective for an I O bus of any width allowing each I O channel to be tested separately and simultaneously with all the other I O. This also allows high throughput at speed wafer level I O functionality screening I O testing from the interface to the on chip bus B or B which may be a vertical bus connecting the I O layer to the other layers in the 3D chip to the I O pad. In essence by allocating the BIST to one or more of the I O layers in accordance with the invention the I O layers can be used as a testhead and or a high clock rate tester while avoiding problems of probe registration or signal capture or propagation time associated with an external tester and can provide testing core logic with any desired level of thoroughness or exhaustiveness at the wafer level to avoid loss manufacturing yield at the 3 D completed chip stack level. Additionally this location of the BIST arrangement in the I O layer s allows I O bus repair if a faulty I O channel is found. If the bus speeds are sufficiently low a set of multiplexers can route data from the on chip bus through the good spare channel to the appropriate I O pin. Alternatively spare I O pins can be allocated for each bus. When a bad channel is found data is multiplexed from the bad path to the good path afforded by the spare I O channel. This multiplexing can be performed at the on chip bus or at a point along the I O channel. The configuration of the multiplexers for I O channel repair can be set by E fuses which are blown after wafer test. This allows chips to be shipped in a functional configuration i.e. no need for bringup and test sequence in a system which may be costly and time consuming. When a repaired chip with spare I O is connected to another chip in a 3 D chip initialization protocols can be used to configure the chip to chip bus to recognize that data has been routed to spare I O.

There are many additional advantages to housing the I O components in a separate layer or layers in a 3 D chip. Many I O circuits require special clocking asynchronous from the core logic with a special clock domain. Placing wrap circuitry with pipelined latches requires running that special clock domain across the chip which usually interferes with the clock domain of the core logic and results in competition for wiring resources and silicon space. Having a separate I O layer decouples the clock domains physically both in wiring and in silicon. Also using a separate I O layer allows pipeline latches and other support logic required for wrapping and testing to be independent of core logic placement.

Design process may include using a variety of inputs for example inputs from library elements which may house a set of commonly used elements circuits and devices including models layouts and symbolic representations for a given manufacturing technology e.g. different technology nodes 32 nm 45 nm 90 nm etc. design specifications characterization data verification data design rules and test data files which may include test patterns and other testing information . Design process may further include for example standard circuit design processes such as timing analysis verification design rule checking place and route operations etc. One of ordinary skill in the art of integrated circuit design can appreciate the extent of possible electronic design automation tools and applications used in design process without deviating from the scope and spirit of the invention. The design structure of the invention is not limited to any specific design flow.

Design process preferably translates an embodiment of the invention as shown in along with any additional integrated circuit design or data if applicable into a second design structure . Design structure resides on a storage medium in a data format used for the exchange of layout data of integrated circuits e.g. information stored in a GDSII GDS2 GL1 OASIS or any other suitable format for storing such design structures . Design structure may comprise information such as for example test data files design content files manufacturing data layout parameters wires levels of metal vias shapes data for routing through the manufacturing line and any other data required by a semiconductor manufacturer to produce an embodiment of the invention as shown in . Design structure may then proceed to a stage where for example design structure proceeds to tape out is released to manufacturing is released to a mask house is sent to another design house is sent back to the customer etc.

While the invention has been described in terms of a single preferred embodiment those skilled in the art will recognize that the invention can be practiced with modification within the spirit and scope of the appended claims.

