---

title: Communication terminal apparatus, communication method thereof, and connected destination selection method in wireless LAN
abstract: To provide a communication terminal apparatus including a first wireless communication unit that can connect with a host computer, a second wireless communication unit that can connect with connecting equipment by wireless, an equipment information storage unit for storing image information showing an appearance of the above-described connecting equipment, a display unit for displaying the appearance of the connecting equipment, and a designating unit for establishing communication with the connecting equipment thereafter, which is designated, when the appearance of the desired connecting equipment that is displayed in the above-described display unit is designated, in which, since the above-described wireless communication unit receives and displays image information showing the appearance of the above-described connecting equipment from the host computer if the image information showing the appearance of the above-described connecting equipment is not stored in the equipment information storage unit. Hence it becomes possible for the communication terminal apparatus to receive the appearance and product names of all the connecting equipment that are connected to the communication terminal apparatus, to display them in the display unit, and to establish communication.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=07907583&OS=07907583&RS=07907583
owner: Fujifilm Corporation
number: 07907583
owner_city: Tokyo
owner_country: JP
publication_date: 20070803
---
This application is a Continuation of application Ser. No. 09 708 630 filed on Nov. 9 2000 now U.S. Pat. No. 7 403 510 the entire contents of the above identified application is hereby incorporated by reference.

The present invention relates to a communication terminal apparatus a communication method thereof and at connected destination selection method in wireless LAN and in particular to a communication terminal apparatus which can transmit information with a plurality of connecting equipment by wireless a communication method thereof and Et connected destination selection method in a wireless LAN.

An information service system which controls not to communicate if the information that should be downloaded does not exist when information is downloaded from a server by using a small communication terminal is disclosed in Japanese Patent Laid Open No. 9 130426.

In addition an information service system that recognizes positional information of a communication terminal apparatus connected and transmits the positional information to the communication terminal apparatus is disclosed in Japanese Patent Laid Open No. 11 83976.

A mutual registration method of information by which information necessary at the time when wireless communication between PHS extensions is performed without a main phone can be registered between two PHS extensions is disclosed in Japanese Patent Laid Open No. 9 182156.

In addition a telephone apparatus that can easily identify a name of a caller who gets on the phone is disclosed in Japanese Patent Laid Open No. 5 167669.

However in a communication terminal disclosed in the Japanese Patent Laid Open No. 9 130426 and the Japanese Patent Laid Open No. 11 83976 a method for acquiring information of connecting equipment which is further connected to a communications terminal and can perform wireless communication is not disclosed.

In the case of a system including connecting equipment that can perform wireless communication and is connected to a communication terminal it is conceivable to instruct a user to select desired connecting equipment from among listed equipment by displaying a list of the equipment which can connect to the communication terminal in a display device of the communications terminal in such an aspect of outside views of the connecting equipment when the user is going to select connecting equipment to which the user desires to perform communication connection. Although it is convenient that the connecting equipment information displayed is stored in the connecting equipment it is diseconomy that information having big file size like an appearance image of connecting equipment is stored in the connecting equipment. In addition although it is conceivable that a communication terminal stores appearance image information of all the connecting equipment that can be connected to the communication terminal it is difficult to always have appearance information about new models of the connecting equipment.

In the registration method of information disclosed in the Japanese Patent Laid Open No. 9 182156 only the registration of one to one communication can be performed and it is necessary to provide an infrared communication port.

Furthermore a telephone apparatus disclosed in the Japanese Patent Laid Open No. 5 167669 just searches and displays a caller s name corresponding to a telephone number received mutual authentication of telephones is impossible and further the telephone apparatus corresponds only to one to one communication.

The present invention has been made in consideration of such circumstances and its object is to provide a communication terminal apparatus and a communication method that can receive and display the information of appearance and product names of all the connected equipment which are communicatively connected to the communication terminal by a communication terminal and establish communication.

The present invention has been achieved in consideration of such circumstances and its another object is to provide a connected destination selection method in a wireless LAN for selecting desired connecting equipment from among a plurality of connecting equipment existing within a communication range of connected equipment and communicating with the desired connecting equipment.

In order to attain above described objects the present invention is directed to a communication terminal apparatus comprising a communication device which is connectable with a host computer a wireless communication device which is connectable with connecting equipment by wireless communication a storage device which stores image information showing appearance of the connecting equipment a display device which displays appearance of connecting equipment on the basis of image information showing the appearance of the connecting equipment that is stored in the storage device when wireless communication with the connecting equipment is started and a designating device which establishes communication with connecting equipment thereafter which is designated when appearance of the desired connecting equipment that is displayed in the display device is designated wherein the communication device receives and stores image information showing the appearance of the connecting equipment from the host computer if the image information showing the appearance of the connecting equipment is not stored in the storage device.

According to the present invention it becomes possible for the communication terminal to receive the appearance and product names of all the connecting equipment which are connected to the communication terminal to display them in the display device and to establish communication with designating desired connecting equipment.

In order to attain above described objects the present invention is directed to a communication method of the above described communication terminal apparatus the communication terminal apparatus performing transmission and reception of data with a host computer and connecting equipment through the communication terminal apparatus after communication is established between the communication terminal apparatus and the connection equipment wherein when the communication terminal apparatus establishes communication with desired connecting equipment the communication terminal apparatus performs the method comprising the steps of a receiving equipment information showing the connecting equipment from connecting equipment b connecting to the host computer on the basis of the equipment information and receiving image information showing appearance of the connecting equipment from the host computer c displaying appearance of the connecting equipment in the display device of the communication terminal apparatus on the basis of the image information which is received or was received and stored beforehand and d establishing communication with the connecting equipment that is designated when appearance of the desired connecting equipment that is displayed in the display device is designated.

According to the present invention when a communication terminal apparatus establishes communication with desired connecting equipment the communication terminal apparatus executes the steps of a receiving equipment information showing the connecting equipment from the connecting equipment b connecting to the host computer on the basis of the equipment information and receiving image information showing the appearance of the connecting equipment from the host computer c displaying the appearance of the connecting equipment in a display device of the communication terminal apparatus on the basis of the image information which is received or was received and stored beforehand and d establishing communication with connecting equipment which is designated when the appearance of the desired connecting equipment that is displayed in the display device is designated and hence it becomes possible for the communication terminal to receive the appearance and product names of all the connecting equipment which are connected to the communication terminal to display them in the display device and to establish communication with designating the desired connecting equipment.

In order to attain above described objects the present invention is directed to a connected destination selection method in a wireless LAN the wireless LAN comprising connecting equipment which can perform wireless communication and connected equipment which can perform wireless communication with the connecting equipment and includes a display device and a designating device wherein the wireless LAN automatically starts communication when the connected equipment and the connecting equipment come within a wireless communication range the connected equipment receives identification information that can specify the connecting equipment from among the connecting equipment the display device of the connected equipment displays identification information for identifying connecting equipment and the wireless LAN establishes wireless connection between the connecting equipment and the connected equipment when desired connecting equipment is designated from among the displayed connecting equipment.

According to the present invention the connected equipment and the connecting equipment automatically start communication when coming within a wireless communication range the connected equipment receives identification information that can specify the connecting equipment from among the connecting equipment a display device of the connected equipment displays the identification information for identifying connecting equipment the wireless LAN establishes wireless communication between the connecting equipment and the connected equipment when desired connecting equipment is designated from among the displayed connecting equipment and hence it becomes possible to select desired connecting equipment from among a plurality of connecting equipment existing in a communication range of the connected equipment and to communicate with the desired connecting equipment.

In order to attain above described objects the present invention is directed to a connected destination selection method in a wireless LAN the wireless LAN comprising connecting equipment which can perform wireless communication and connected equipment which can perform wireless communication with the connecting equipment wherein according to pressing of a key provided in the connecting equipment and a key provided in the connected equipment wireless connection between the connected equipment and the connecting equipment is established.

According to the present invention depending on pressing of a key provided in the connecting equipment and a key provided in the connected equipment wireless communication between the connected equipment and the connecting equipment is established and hence it becomes possible to select desired connecting equipment from among a plurality of connecting equipment existing in a communication range of the connected equipment and to communicate with the desired connecting equipment.

In order to attain above described objects the present invention is directed to a connected destination selection method in a wireless LAN the wireless LAN comprising connecting equipment which can perform wireless communication and connected equipment which can perform wireless communication with the connecting equipment wherein if a predetermined key provided in the connecting equipment and a predetermined key provided in the connected equipment are pressed nearly at the same time wireless connection between the connected equipment and the connecting equipment is established.

According to the present invention if a predetermined key provided in the connecting equipment and a predetermined key provided in the connected equipment are pressed nearly at the same time wireless communication between the connected equipment and the connecting equipment is established and hence it becomes possible to select desired connecting equipment from among a plurality of connecting equipment existing in a communication range of the connected equipment and to communicate with the desired connecting equipment.

In order to attain above described objects the present invention is directed to a connected destination selection method in a wireless LAN the wireless LAN comprising connecting equipment which can perform wireless communication and connected equipment which can perform wireless communication with the connecting equipment wherein if a predetermined key provided in the connecting equipment and a predetermined key provided in the connected equipment are pressed in predetermined sequence wireless connection between the connected equipment and the connecting equipment is established.

According to the present invention wireless communication between the connected equipment and the connecting equipment is established if a predetermined key provided in the connecting equipment and a predetermined key provided in the connected equipment are pressed in predetermined order and hence it becomes possible to select desired connecting equipment from among a plurality of connecting equipment existing in a communication range of the connected equipment and to communicate with the desired connecting equipment.

In order to attain above described objects the present invention is directed to a connected destination selection method in a wireless LAN the wireless LAN comprising connecting equipment which can perform wireless communication and connected equipment which can perform wireless communication with the connecting equipment wherein when the connected equipment receives sound that is unique to the connecting equipment and is given from the connecting equipment wireless connection between the connected equipment and the connecting equipment is established.

According to the present invention when the connected equipment receives the sound that is unique to and is given from the connecting equipment wireless communication between the connected equipment and the connecting equipment is established and hence it becomes possible to select desired connecting equipment from among a plurality of connecting equipment existing in a communication range of the connected equipment and to communicate with the desired connecting equipment.

In order to attain above described objects the present invention is directed to a connected destination selection method in a wireless LAN the wireless LAN comprising connecting equipment which can perform wireless communication and take a photograph and connected equipment which can perform wireless communication with the connecting equipment and includes a display device wherein the connecting equipment takes a photograph of expression in the display device of the connected equipment so as to detect displayed contents of the connected equipment and the connecting equipment establishes wireless connection with the connected equipment if the displayed contents of the connected equipment are contents predetermined.

According to the present invention the connecting equipment photographs expression in a display device of the connected equipment displayed contents of the connected equipment are detected and wireless communication with the connected equipment is established if these displayed contents are equal to predetermined displayed contents and hence it becomes possible to select desired connecting equipment from among a plurality of connecting equipment existing in a communication range of the connected equipment and to communicate with the desired connecting equipment.

In order to attain above described objects the present invention is directed to a connected destination selection method in a wireless LAN the wireless LAN comprising connecting equipment which can perform wireless communication and can detect vibration or impact sound and connected equipment which can perform wireless communication with the connecting equipment and can detect at least one of vibration and impact sound wherein wireless connection is established by the connecting equipment and the connected equipment recognizing each other if the connecting equipment and the connected equipment are contacted.

According to the present invention if the connecting equipment and the connected equipment are contacted the connected equipment and the connecting equipment recognize each other and wireless communication between the connected equipment and the connecting equipment is established and hence it becomes possible to select desired connecting equipment from among a plurality of connecting equipment existing in a communication range of the connected equipment and to communicate with the desired connecting equipment.

In order to attain above described objects the present invention is directed to a connected destination selection method in a wireless LAN the wireless LAN comprising connecting equipment which can perform wireless communication and connected equipment which can perform wireless communication with the connecting equipment and includes an information device giving at least one of sound light and vibration the method comprising the steps of automatically establishing wireless connection when the connected equipment and the connecting equipment come within a wireless communication range and informing a user of establishment of the wireless connection by giving sound light or vibration from the information device provided in the connected equipment when the wireless connection is completely established.

According to the present invention wireless connection is automatically established when the connected equipment and the connecting equipment come within a communicable range and a user is informed of the establishment of wireless connection by giving a sound light or vibration from the information device provided in the connected equipment when the wireless connection is established and hence it becomes possible to easily know that desired connecting equipment is selected from among a plurality of connecting equipment existing in a communication range of the connected equipment.

In order to attain above described objects the present invention is directed to a connected destination selection method in a wireless LAN the wireless LAN comprising connecting equipment which can perform wireless communication and connected equipment which can perform wireless communication with the connecting equipment the method comprising the steps of automatically starting communication when the connected equipment and the connecting equipment come within a communication range sending common key information used for authentication to the connecting equipment and establishing wireless connection by detecting that a common key provided in the connecting equipment and a common key provided in the connected equipment are pressed if it is the first time connection sending predetermined key information used for authentication to the connecting equipment and continuing communication as information for recognizing a user by detecting that a predetermined key provided in the connecting equipment and a predetermined key provided in the connected equipment are pressed if it is the second time connection and recognizing the user and continuing communication by detecting that a predetermined key provided in the connecting equipment and a predetermined key provided in the connected equipment are pressed if it is the third time connection or after.

According to the present invention communication is automatically started when the connected equipment and the connecting equipment come within a communicable range common key information used for authentication is sent to the connecting equipment if it is the first time connection and wireless connection is established by detecting that a common key provided in the connecting equipment and a common key provided in the connected equipment are pressed predetermined key information used for authentication is sent to the connecting equipment if it is the second time connection and communication is continued as information for recognizing a user by detecting that a predetermined key provided in the connecting equipment and a predetermined key provided in the connected equipment are pressed the user is recognized and communication is continued by detecting that a predetermined key provided in the connecting equipment and a predetermined key provided in the connected equipment are pressed if it is after third time connection and hence it becomes possible to easily select desired connecting equipment from among a plurality of connecting equipment existing in a communication range of connected equipment and to communicate with the desired connecting equipment.

In order to attain above described objects the present invention is directed to a connected destination selection method in a wireless LAN the wireless LAN comprising connecting equipment which can perform wireless communication and connected equipment which can perform wireless communication with the connecting equipment wherein wireless connection is automatically authenticated each other and established when the connected equipment and the connecting equipment come within a communication range and a user is able to designate a mode in which mutual authentication is limited to the first time one or another mode in which mutual authentication is performed first two times and more from a designating device provided in the connected equipment.

According to the present invention both of connected equipment and connecting equipment automatically authenticate each other and wireless connection is established when coming within a communicable range and a user can designate a mode in which mutual authentication is limited to the first time authentication or another mode in which mutual authentication is performed first two times and more from a designating device provided in the connected equipment and hence it becomes possible to select desired connecting equipment from among a plurality of connecting equipment existing in a communication range of connected equipment and to prevent unnecessary communication.

Hereinafter preferred embodiments of a communication terminal apparatus and a communication method thereof according to the present invention will be described in detail with reference to accompanying drawings.

According to the drawing in front of an electronic camera a release button and a taking lens are provided.

According to the drawing in a back face of the electronic camera a mode switching dial which switches among modes of photography display and communication of the electronic camera a cross key instructing movement of a cursor displayed in a display device and communication start a finder and the display device are provided.

The electronic camera comprises an imaging device that forms an image of a subject on an imaging plane performs photoelectric conversion and outputs the image as image data a buzzer a data processing device that performs the control of the entire electronic camera and control such as sampling timing control of image data recording control of image data image recognition of image data flash recognition of image data reading of model information of this electronic camera communication control and display control a vibration detection device that detects a change and acceleration of vibration applied to the electronic camera an image processing device that performs processing such as modification of image size sharpness correction gamma correction contrast correction and white balance correction frame memory that temporarily stores image data an input device that includes a release button a communication button a transmission button function switches a cross key a confirmation switch a mode changeover switch or the like a compression and depression device that performs compression control of information of image data or the like with a method being represented by JPEG or motion JPEG and the processing of decompression control of compressed data and a recording medium interface that converts data so as to record image data in and read image data from a recording medium that is detachable. The recording medium is a recording medium that is detachable and is represented by a semiconductor a magnetic recording medium and an optical recording medium such as a memory card and MO.

Memory comprising ROM storing operation programs and each constant and RAM that becomes a work area in program execution is connected to the data processing device .

A wireless communication device of the electronic camera that is used for transmitting and receiving image data or the like with external equipment by communication is composed of a transmission and reception device which transmits or receives image data with superimposing the image data on a carrier wave by an instruction from the data processing device and an antenna which transmits and receives the carrier wave and image data.

In addition the electronic camera further comprises a D A converter for displaying image data in the display device and a character generator converting code information instructed from the data processing device into data of characters and messages to be displayed.

An image to be photographed is formed on an imaging plane of the imaging device and a subject image formed is photoelectrically converted and is outputted to the image processing device . Regarding the image data obtained in this manner in the image processing device amplification and noise reduction processing are executed and the image data is temporarily stored in the frame memory . The data processing device sequentially transfers the image data stored in the above described frame memory to the D A converter and makes the image data displayed in the display device .

When the release button provided in the input device is pressed a mode is switched to a mode of photographing a subject. Then the data processing device outputs an instruction of transferring the image data stored in the frame memory to the compression device and performing compression processing of the image data under predetermined conditions. In addition the data processing device performs processing of making the recording medium interface records the image data in the sequential recording medium . Furthermore when communication with the communication terminal is established and the transmission button provided in the input device is pressed the data processing device reads the image data which is designated from the sequential recording medium converts the image data into a predetermined data format and thereafter performs processing of transmitting the image data to an external communication terminal through the transmission and reception device and antenna .

As shown in a communication terminal comprises an antenna for performing wireless communication with a public line a wireless communication device that can connect with connecting equipment by wireless communication a display device displaying communication information and an image designating devices . . . for designating and selecting data of telephone numbers characters images and voice and output equipment of the data addresses thereof or the like a speaker that becomes a telephone receiver and outputs voice and a microphone inputting voice and impact sound.

According to the drawing a transmission and reception section of the communication terminal comprises a public line wireless communication device for performing wireless communication with a public line a public line transmission and reception device a wireless communication device for performing wireless communication with connecting equipment a transmission and reception device and a transmission and reception buffer temporarily storing data to be transmitted and received in real time.

In addition the communication terminal further comprises a CPU controlling the entire communication terminal PROM where programs operating the CPU various constants telephone numbers destination addresses information about appearance and product names of connecting equipment to be connected by wireless or the like are written RAM that is a memory device that becomes a work area when the CPU executes processing and an equipment information storage device for storing information relating to the appearance and product names of connecting equipment to be connected by wireless.

The CPU in the communication terminal and each peripheral circuit including the display device and a designating device are connected with a communication device such as a bus line or I O and hence CPU can control each peripheral circuit.

A communication device of the wireless communication device is a communication device using an electric wave an ultrasonic wave or light like an infrared ray. It can be performed to be based on specifications of Bluetooth or a wireless LAN Local Area Network to which attention is paid if the electric wave is used and it can be done to be based on specifications of IrDA if the infrared ray is used.

In addition although an example by using an electronic camera is described as connecting equipment in the above description the connecting equipment can be a personal computer a camera a printer or the like so long as the connecting equipment is the equipment including a display device a memory device and an output device. Furthermore the communication terminal can be mobile communication terminal such as a cellular phone or PHS which is generally used or can be equipment such as an electronic camera or a printer.

Images which are photographed by the electronic cameras A shown in the figure images . . . thumb nail images . . . which are stored in a server outside views of the connecting equipment and data and information about voice and characters are transmitted by wireless or wired communication to communication terminals A. The communication terminal and server starts communication through a public line and transmits images . . . thumb nail images . . . voice characters outside views of the connecting equipment and information about product names which are prepared in the electronic camera A or server to the communication terminal . The communication terminal that receives images . . . thumb nail images . . . voice characters outside views of the connecting equipment and data about product names informs a user by displaying the contents which are transmitted in the display device . When the user selects and designates equipment to be connected by using the designating devices . . . the communication terminal hereafter establishes communication with designated connecting equipment.

In addition the connecting equipment includes a display device a store device and an output device and a personal computer a camera a printer corresponds to the connecting equipment.

When a release button provided in the input device of the electronic camera is pressed the program in the electronic camera branches to step S START hereinafter this is expressed as S for short . In the next step S Start search mode the data processing device activates the transmission and reception device transmits a radio wave including a search signal from the antenna and starts processing of searching for the communication terminal .

If the communication terminal receives the search signal outputted from the electronic camera the communication terminal recognizes the electronic camera that newly joins a communication network assigns a unique address and starts processing for performing a connection handshake.

In step S Product name requested the electronic camera performs processing of waiting for coming of a transmission request of attributes such as a product name of the electronic camera by wireless communication transmission from the communication terminal . If Product name request does not come the program loops step S and if Product name request comes the program goes to the next step S Transmit product name and the electronic camera transmits a product name of the electronic camera .

In the next step S Connection approval received the electronic camera performs processing of waiting for Connection approval with the electronic camera that comes by wireless from the communication terminal . If Connection approval does not come the program loops step S and if Connection approval comes the program goes to the next step S Authentication procedure to perform communication relating to the authentication procedure. Further in step S END the program completes connection processing with the communication terminal and establish communication to return to an original program routine.

On the other hand if a communicate mode is set by using the designating device in a processing program of the communication terminal the processing program of the communication terminal branches step S START. In the next step S Start search mode the CPU activates the transmission and reception device to transmit a radio wave from the wireless communication device and start processing of searching connecting equipment.

In order to establish communication the communication terminal recognizes the electronic camera which newly joins the wireless communication network to assign a unique address and starts processing of performing a connection handshake.

In step S Transmit product name request the communication terminal requests the electronic camera to transmit attributes such as a product name by wireless. Furthermore in the next step S Product name received the communication terminal performs processing of waiting for the reception of information about the product name of the electronic camera transmitted from the electronic camera . If Product name reception is not performed the program loops step S. Further if Product name reception is performed an outside drawing and a product name of the connecting equipment corresponding to the product name of the connecting equipment received are not stored in the equipment information storage device and it is connecting equipment newly connected the program goes to the next step S Connect to server from product name and the communication terminal transmits the product name of the electronic camera to the server through a public line. In addition if the product name received is already stored in the equipment information storage device the program branches step S Display product name and appearance. 

In the next step S Obtain product appearance information from server the communication terminal receives information about the image showing appearance and the name of the electronic camera from server to perform processing of storing the information in the equipment information storage device . When the reception of the information is completed the program goes to the next step S Display product name and appearance to display the connecting equipment information stored in the equipment information storage device in the display device .

According to the drawing in the display device battery available capacity display showing the available capacity of the battery which is a power supply of the communication terminal reception radio field intensity display displaying reception radio field intensity of radio transmission appearance display . . . of the connecting equipment and a pointer at the time of selecting the connecting equipment are displayed.

In step S it is judged whether a Setting key provided in the designating device is pressed. In step S if it is judged that the Setting key is not pressed the program branches the former step S 

In the next step S Transmit connection approval the communication terminal transmits an enabling signal of communication connection to the electronic camera . After that the electronic camera and communication terminal communicate with each other to establish a handshake in step S Authentication procedure. 

When the above described authentication procedure is finished the program completes connection processing with the electronic camera in step S END to return to an original program routine.

When the electronic camera and communication terminal come within a communication range mutually each equipment recognizes this and the program of the electronic camera branches step S START. In the next step S Start search mode the data processing device transmits a radio wave including a search signal from the antenna by a command and starts processing of searching for the communication terminal .

If the electronic camera receives the search signal outputted from the communication terminal in step S Is connectable equipment present so as to establish communication the electronic camera receives a unique address from the communication terminal newly joins a communication network and starts processing for performing a connection handshake. At this time it can be also performed that a user selects and designates desired equipment from in this display by displaying a communicating state and information such as equipment names of partner s connecting equipment and communication terminal in the display device .

In the next step S Connection acknowledgement received the electronic camera performs processing of waiting for a Connection acknowledgement signal with the electronic camera that comes by wireless from the communication terminal . If Connection acknowledgement is not transmitted the program loops step S and if Connection acknowledgement is transmitted the program goes to the next decision step S key pressed .

In the next step S key pressed it is judged whether key of a cross key provided in the input device of the electronic camera is pressed. If it is judged that the key is not pressed the program goes to step S Respond to no keying to return a command showing that the key is not pressed to the communication terminal . Then the program goes to step S END. 

In addition if it is judged in step S that the key is pressed the program goes to step S Respond to keying to return a command showing that the key is pressed to the communication terminal . Further in the next S Connection approval received if the electronic camera does not receive Connection approval from the communication terminal the program performs loop processing of returning to step S again. Further if the electronic camera receives Connection approval from the communication terminal the program goes to the next step S Authentication procedure to perform communication relating to authentication procedure. Furthermore in step S END the program completes connection processing with the communication terminal and returns to an original program routine.

On the other hand in a processing program of the communication terminal when the electronic camera and communication terminal come within a communication range mutually each equipment recognizes this and the program of the communication terminal branches step S START. In the next step S Start search mode the CPU transmits a radio wave including a search signal from the wireless communication device and starts processing of searching for connection terminal. At this time it can be performed that a user selects and designates a desired communications partner from in this display by displaying information such as an equipment name of the electronic camera which is communicating and information such as names of other connecting equipment communicably existing within a communication range.

If the communication terminal receives the search signal outputted from the electronic camera in step S Is connectable equipment present so as to establish communication the communication terminal recognizes the communication terminal that newly joins a communication network assigns a unique address and starts processing for performing a connection handshake.

In the next step S key pressed it is judged whether key of a cross key provided in the designating device is pressed. If the key is not pressed the program loops step and if the key is pressed the program goes to the next step S Transmit connection acknowledgement. 

In the next step S the communication terminal transmits a command Connection acknowledgcment showing the establishment of communication to the electronic camera by wireless and the program goes to the next step S Response to keying received . In step S it is judged whether the key of the communication terminal and the key of the electronic camera are pressed simultaneously. The electronic camera transmits a command showing that the key is not pressed in step S Respond to no keying and if the communication terminal receives this the program branches from step S to step S END to finish this subroutine.

In addition the electronic camera transmits a command showing that the key is pressed in step S Respond to keying and if the communication terminal receives this the program branches from step S to step S Transmit connection approval. In the next step S Transmit connection approval the communication terminal transmits an enabling signal of communication connection to the electronic camera . After that the electronic camera and communication terminal communicate with each other to establish each authentication in step S Authentication procedure. 

When the above described authentication procedure is finished the program completes connection processing with the electronic camera in step S END to return to an original program routine.

As described above the communication terminal transmits an inquiry of whether the key is pressed to connecting equipment existing within a connection range by wireless communication by pressing the key of the cross key provided in the communication terminal and key of the cross key provided in the electronic camera simultaneously. If the communication terminal receives from the connecting equipment such a response that the key is pressed both equipment recognize each other by performing the procedure of mutual authentication and can establish communication. In addition a key to be operated is not limited to the key but it can be made a command for executing the mutual authentication to press different keys so long as the keys are one or more predetermined operation keys.

When the electronic camera and communication terminal come within a communication range mutually each equipment recognizes this and the program of the electronic camera branches step S START. In the next step S Start key setting the program starts processing of setting the sequence of pressing keys corresponding to ID used for a user designating connecting equipment and the program establishing communication. At this time it can be performed that a user selects and designates a desired item from among setting purposes setting methods and procedure by displaying them in the display device .

In step S Key pressed it is judged whether any key provided in the input device is pressed. If any key is not pressed the program goes to step S Key setting completed . If any key is pressed the program goes to step S Store key sequence to store the sequence of the key newly inputted and goes to the next step S.

In step S it is judged whether the setting of the sequence of pressing keys is finished. As a criterion of whether the setting of the sequence of pressing keys is finished it can be also judged whether a key is pressed predetermined times or it can be judged whether a finish of key setting is designated by timeout or a predetermined confirmation key being pressed. If it is judged that the key setting is finished the program goes to step S Start search mode and if the key setting is not finished the program branches step S to wait for the next key being pressed.

In next step S the data processing device makes a radio wave including a search signal transmitted from the antenna by a command and the processing of searching for the communication terminal is started. If the electronic camera receives the search signal outputted from the communication terminal in the next step S Is connectable equipment present so as to establish communication the electronic camera receives a unique address from the communication terminal newly joins a communication network and starts processing for performing a connection handshake. At this time it can be also performed that a user selects and designates desired equipment from in this display by displaying a communicating state and information such as equipment names of partner s connecting equipment and communication terminal in the display device .

In the next step S Key sequence received the processing of waiting for the transmission of the information of the key sequence that a user inputted with the designating device of the communication terminal is performed. When the key sequence is received the program goes to the next step S Sequence coincides .

In step S the data processing device compares the sequence of keys inputted in the electronic camera to the key sequence received from the communication terminal . If both key sequence do not coincide with each other the program branches step S Respond to discrepancy to transmit a command showing that the sequence of pressing keys is different to the communication terminal and goes to step S END. If both key sequence coincide with each other in step S the program goes to step S Respond to coincidence to transmit a command showing that both key sequence coincide with each other to the communication terminal and goes to step S Connection approval received .

In step S the electronic camera performs processing of waiting for Connection approval signal with the electronic camera that comes by wireless from the communication terminal . If Connection approval does not come the program loops step S and if Connection approval comes the program goes to the next step S Authentication procedure to perform communication relating to the authentication procedure. Further in step S END the program completes connection processing with the communication terminal and returns to an original program routine.

On the other hand in a processing program of the communication terminal when the electronic camera and communication terminal come within a communication range mutually each equipment recognizes this and the program of the electronic camera branches step S START. In the next step S Start search mode the CPU activates the transmission and reception device transmits a radio wave including a search signal from the wireless communication device and starts the processing of searching for connecting equipment. If the communication terminal receives the search signal outputted from the electronic camera in the next step S Is connectable equipment present so as to establish communication the communication terminal recognizes the electronic camera that newly joins a wireless communication network assigns a unique address and starts processing for performing connection handshake.

In the subsequent steps the program starts the processing of inputting information corresponding to ID used for a user designating connecting equipment and the program establishing communication. At this time it can be performed that a user selects and designates a desired item from among setting purposes setting methods and procedure by displaying them in the display device .

In step S Key pressed it is judged whether any key provided in the designating device is pressed. If any key is not pressed the program goes to step S Key setting completed . If any key is pressed the program goes to step S Store key sequence to store the sequence of the key newly inputted and goes to the next step S.

In step S it is judged whether the setting of the sequence of pressing keys is finished. As a criterion of whether the setting of the sequence of pressing keys is finished it can be also judged whether a key is pressed predetermined times or it can be judged whether a finish of key setting is designated by timeout or a predetermined confirmation key being pressed. If it is judged that the key setting is finished the program goes to step S Transmit key sequence and if the key setting is not finished the program branches step S to wait for the next key being pressed.

In step S the program executes the processing of transmitting the key sequence inputted to the electronic camera that is connecting equipment and goes to the next step S Coincidence response received . In step S the program performs the processing of receiving and judging a judgment result of the key sequence transmitted to the electronic camera and changing a branching destination in the processing in the communication terminal . If contents of the command received are Discrepancy the program branches step S END and if the contents of the command received is Coincidence the program goes to the next step S Transmit connection approval. 

In the next step S Transmit connection approval the communication terminal transmits an allowance signal of communication connection to the electronic camera . After that the electronic camera and communication terminal communicate with each other to establish each authentication in step S Authentication procedure. 

When the above described authentication procedure is finished the program completes connection processing with the electronic camera in step S END to return to an original program routine.

As described above a user presses keys provided in the communication terminal in the key sequence set in the electronic camera beforehand and transmits information of this key sequence to the electronic camera . The electronic camera responds about a judgment result of whether this key sequence coincides with the sequence set beforehand. If the communication terminal receives this information and both sequence coincide with each other it is possible to recognize each other and to establish communication. In addition it can be performed that the key sequence is set to be easy to remember like pressing of the cross key in the order of t . In addition a key to be operated is not limited to a specific key but it can be made a command for executing the mutual authentication to press different keys so long as the keys are one or more predetermined operation keys.

When the electronic camera and communication terminal come within a communication range mutually each equipment recognizes this and the program of the electronic camera branches step S START. In the next step S Start search mode commands of the data processing device makes the antenna transmit a radio wave including a search signal and makes the processing of searching for the communication terminal started.

If the electronic camera receives the search signal outputted from the communication terminal in step S Is connectable equipment present so as to establish communication the electronic camera receives a unique address from the communication terminal newly joins a communication network and starts processing for performing connection handshake. At this time it can be also performed that a user selects and designates desired equipment from in this display by displaying a communicating state and identification information such as equipment names of partner s connecting equipment and communication terminal in the display device .

In step S Connection acknowledgement received the electronic camera performs the processing of waiting for a Connection acknowledgement signal with the electronic camera that comes by wireless from the communication terminal . If the Connection acknowledgement is not transmitted the program returns to step S again and loops step S. If the Connection acknowledgement is transmitted the program goes to the next step S Sound buzzer to sound a buzzer in constant intervals to the communication terminal . If the connecting equipment is the electronic camera the program informs the communication terminal by sounding a buzzer used for self timer or the like.

In step S Buzzer acknowledged the program performs the processing of waiting for receiving Buzzer acknowledgement information showing that the communication terminal receives buzzer sound given by the electronic camera . If the Buzzer acknowledgement is not received the program returns to step S again and performs loop processing. If the Buzzer acknowledgement is received the program goes to step S Respond to buzzer to transmit Respond to buzzer showing that the electronic camera receives Buzzer acknowledgement to the communication terminal .

Further in the next step S Connection approval received if the electronic camera does not receive Connection approval from the communication terminal the program returns to step S again and loops step S. If the electronic camera receives Connection approval from the communication terminal the program goes to the next step S Authentication procedure to perform communication relating to authentication procedure. Furthermore in step S END the program completes communicative connection processing with the communication terminal and returns to an original program routine.

On the other hand in a processing program of the communication terminal when the electronic camera and communication terminal come within a communication range mutually each equipment recognizes this and the program of the communication terminal branches step S START. In the next step S Start search mode the CPU transmits a radio wave including a search signal from the wireless communication device and starts processing of searching for communication terminal. At this time it can be performed that a user selects and designates desired equipment from in this display by displaying information such as an equipment name of the electronic camera which is communicating and information such as names of other connecting equipment communicably existing within the communication range.

If the communication terminal receives the search signal outputted from the electronic camera in step S Is connectable equipment present so as to establish communication the communication terminal recognizes the communication terminal that newly joins a communication network assigns a unique address and starts processing for performing connection handshake.

In step S Start key pressed it is judged whether a start key provided in the designating device is pressed. As this start key a dedicated start key or key of the cross key can be assigned. If the start key is not pressed the program returns to step S and loops step S and if the start key is pressed the program goes to the next step S Transmit connection acknowledgement. 

In the next step S the communication terminal transmits a command Connection acknowledgement showing the establishment of communication to the electronic camera by wireless and the program goes to the next step S Buzzer sound detected . If the communication terminal does not detect the buzzer sound given by the electronic camera in step S the program returns to step S again and loops step S. If the communication terminal detects the buzzer sound given by the electronic camera in step S the program goes to step S Transmit buzzer acknowledgement to transmit information showing reception of buzzer sound to the electronic camera . Then the program goes to the next step S Buzzer response received .

In step S if the communication terminal receives Respond to buzzer information which the electronic camera transmits in step S and does not receive Respond to buzzer the program branches step S END. 

If the communication terminal receives Respond to buzzer the program goes to the next step S Transmit connection approval. 

In the next step S Transmit connection approval the communication terminal transmits an enabling signal of communication connection to the electronic camera . After that the electronic camera and communication terminal communicate with each other to establish each authentication in step S Authentication procedure. 

When the above described authentication procedure is finished the program completes connection processing with the electronic camera in step S END to return to an original program routine.

As described above when a user selects desired connecting equipment from among information of connecting equipment displayed in the communication terminal the connecting equipment selected gives buzzer sound. A microphone of the communication terminal detects this buzzer sound and the communication terminal inquires of equipment existing in the communicative connection range by wireless communication whether the equipment sounds a buzzer. If the communication terminal receives the response of sounding a buzzer it is possible to execute mutual authentication and to establish communication. In addition if the buzzer sound is given from a plurality of connecting equipment it can be performed to establish communication only with connecting equipment can access the communication terminal .

When the electronic camera and communication terminal come within a communication range mutually each equipment recognizes this and the program of the electronic camera branches step S START. In the next step S Start search mode commands of the data processing device makes the antenna transmit a radio wave including a search signal and makes the processing of searching for the communication terminal started.

Then the program goes to the next step S Set mode in strobe inhibition macro position and movie through and goes to step S Connection acknowledgement figure after setting an operation mode of the electronic camera . In the next step S a user photographs connection acknowledgement figures displayed in the display device of communication terminal with the electronic camera . The electronic camera photographs display patterns and a flash condition of display to recognize the communication terminal .

If the connection acknowledgement figure is recognized in step S the program goes to the next step S Stop movie through mode to stop the movie through mode set at the above described S. Then in step S Transmit figure acknowledgement. the electronic camera transmits information showing that a drawing displayed in the display device is acknowledged to the communication terminal and the program goes to the next S Connection approval received .

In the next step S Connection approval received if the electronic camera does not receive connection approval from the communication terminal the program returns to step S again and loops step S. If the electronic camera receives the connection approval from the communication terminal the program goes to the next step S Authentication procedure to perform communication relating to authentication procedure. Further in step S END the program completes communication connection processing with the communication terminal and returns to an original program routine.

On the other hand in a processing program of the communication terminal when the electronic camera and communication terminal come within a communication range mutually each equipment recognizes this and the program of the communication terminal branches step S START. In the next step S Start search mode the CPU transmits a radio wave including a search signal from the wireless communication device and starts processing of searching for connecting equipment. At this time it can be performed that a user selects and designates desired equipment from in this display by displaying information such as an equipment name of the electronic camera which is communicating and information such as names of other connecting equipment communicably existing within a communication range.

After completion of searching the connecting equipment the program goes to the next step S Display connection acknowledgement figure to display predetermined display patterns in the display device and goes to the next step S Acknowledgement detected . In step S the program performs the processing of waiting for a figure acknowledgement signal transmitted from the electronic camera . If the figure acknowledgement is not received at step S the program returns to step S and loops step S again and if the figure acknowledgement is received the program goes to the next step S Transmit connection approval. 

In the next step S the communication terminal transmits an enabling signal of communication connection to the electronic camera . After that the electronic camera and communication terminal communicate with each other to establish each authentication in step S Authentication procedure. 

When the above described authentication procedure is finished the program completes connection processing with the electronic camera in step S END to return to an original program routine.

As shown in the figure by automatically setting a mode of the electronic camera at an acknowledgement mode and recognizing acknowledgement figures displayed in the display device of the communication terminal it becomes possible to execute the procedure of mutual authentication and to establish communication. The acknowledgement figures can be character patterns or graphic patterns.

Description of the flow chart in the figure will be performed only about portions different from those in and portions that are the same processing will be omitted.

Difference of this method from the processing program of the electronic camera shown in is that the electronic camera photographs flashing display for connection acknowledgement displayed in the display device in step S Flashing period for acknowledgement and recognizes a flashing period instead of photographing display patterns or a flashing state of display displayed in the display device and recognizing the communication terminal which is executed in step S Connection acknowledgement figure in . The subsequent processing is performed similarly to the processing shown in .

Difference of this method from the processing program of the communication terminal shown in is that display is blinked in a predetermined period in step S Display connection acknowledgement flashing and that the processing of stopping the display having flashed in step S in step S Stop flashing in connection with acknowledgement detection in step S instead of displaying the connection acknowledgement figures in step S Display connection acknowledgement figure in .

By recognizing the flashing period displayed in the above described display device it becomes possible to execute the procedure of mutual authentication and to establish communication. The acknowledgement flashing display can be character patterns or graphic patterns.

When the electronic camera and communication terminal come within a communication range mutually each equipment recognizes this and the program of the electronic camera branches step S START. In the next step S Start search mode commands of the data processing device makes the antenna transmit a radio wave including a search signal and makes the processing of searching for the communication terminal started.

Then in the next step S Start vibration monitoring the processing program of the electronic camera enables the vibration detection device and starts the processing of monitoring vibration data outputted from the vibration detection device . In the next step S Shock detected the program sequentially monitors vibration data outputted from the vibration detection device and judges whether a shock which arises when the communication terminal contacts with the electronic camera is detected as vibration. If the shock is not detected the program returns to step S again and loops step S. If the shock is detected the program goes to the next step S Stop vibration monitoring to disable the vibration detection device and stops monitoring of vibration data.

In the next step S Transmit shock acknowledgement the program performs the processing of transmitting shock acknowledgement information showing the shock detection to the communication terminal to go to the next step S Connection approval received .

In the next step S Connection approval received if the electronic camera does not receive connection approval from the communication terminal the program returns to step S again and loops step S. If the electronic camera receives the connection approval from the communication terminal the program goes to the next step S Authentication procedure to perform communication relating to the authentication procedure. Further in step S END the program completes communication connection processing with the communication terminal and returns to an original program routine.

On the other hand in a processing program of the communication terminal when the electronic camera and communication terminal come within a communication range mutually each equipment recognizes this and the program of the communication terminal branches step S START. In the next step S Start search mode the CPU transmits a radio wave including a search signal from the wireless communication device and starts processing of searching for communication terminal. At this time it can be performed that a user selects desired equipment from in this display by displaying information such as an equipment name of the electronic camera which is communicating and information such as names of other connecting equipment communicably existing within a communication range.

When the search of connecting equipment is finished the program goes to the next step S Monitor microphone input to start the processing of sequentially monitoring impact sound inputted from the microphone . Then the program goes to the next step S Impact sound detected to judges whether the impact sound having a predetermined frequency or volume is detected. If it is judged that the impact sound is not detected by the microphone the program returns to step S again and loops step S. If it is judged that the impact sound is detected by the microphone the program goes to step S Shock acknowledgement detected .

In the next step S Shock acknowledgement detected it is judged whether Shock acknowledgement is transmitted from the electronic camera . If it is judged that the Shock acknowledgement is not transmitted from the electronic camera the program returns to step S again and loops step S. If it is judged that the Shock acknowledgement is transmitted the program goes to step S Transmit connection approval. 

In the next step S the communication terminal transmits an enabling signal of communication connection to the electronic camera . After that the electronic camera and communication terminal communicate with each other to establish each authentication in step S Authentication procedure. 

When the above described authentication procedure is finished the program completes connection processing with the electronic camera in step S END to return to an original program routine.

As described above by automatically setting the electronic camera in a shock acknowledgement mode and contacting the electronic camera with the communication terminal lightly in extent of generating contact sound the communication terminal can detect the contact sound with the microphone . Also the electronic camera can detect shock by the contact with the vibration detection device and executes mutual authentication to establish communication. In addition as the contact detection device a sensor for shake detection in taking a photography can be used the detection of a change of conductivity and a change of capacitance can be used and the detection of a change of distance between the electronic camera and communication terminal by using an automatic focus device can be used.

When the electronic camera and communication terminal come within a communication range mutually each equipment recognizes this and the program of the electronic camera branches step S START. In the next step S Start search mode commands of the data processing device make the antenna transmit a radio wave including a search signal and make the processing of searching for the communication terminal started. If the electronic camera receives the search signal outputted from the communication terminal so as to establish communication the electronic camera receives a unique address from the communication terminal newly joins a communication network and starts processing for performing connection handshake. At this time it can be also performed that a user selects and designates a desired communication partner from in the following display by displaying a communicating state and information such as equipment names of partner s connecting equipment and communication terminal in the display device .

In step S Product name request the electronic camera performs the processing of waiting for coming of a send request of attributes such as a product name of the electronic camera by wireless from the communication terminal . If Product name request does not come the program branches step S again and loops step S and if Product name request comes the program goes to the next step S Transmit product name and the electronic camera transmits a product name of the electronic camera .

In the next step S Connection approval received the program performs the processing of waiting for Connection approval with the electronic camera that comes by wireless from the communication terminal . If Connection approval does not come the program branches step S again and loops step S and if Connection approval comes the program goes to the next step S Authentication procedure to perform communication relating to the authentication procedure. Further in step S END the program completes connection processing with the communication terminal and returns to an original program routine.

On the other hand in a processing program of the communication terminal when the electronic camera and communication terminal come within a communication range mutually each equipment recognizes this and the program of the communication terminal branches step S START. In the next step S Start search mode the CPU transmits a radio wave including a search signal from the wireless communication device and starts processing of searching for communication terminal. At this time it can be performed that a user selects and designates desired equipment from in this display by displaying information such as an equipment name of the electronic camera which is communicating and information such as names of other connecting equipment communicably existing within the communication range.

In step S Transmit product name request the communication terminal requests the electronic camera to transmit attributes such as a product name by wireless. Furthermore in the next step S Product name received the communication terminal performs processing of waiting for the reception of information about the product name of the electronic camera transmitted from the electronic camera . If the product name is not received the program branches step S again and performs loop processing. If the product name is received the program goes to step S Display product name. 

In the next S Display product name the program displays identification information such as appearance and names of connecting equipment which are stored in the PROM in the display device .

According to the drawing in the display device of the communication terminal battery available capacity display showing the available capacity of the battery which is a power supply of the communication terminal reception radio field intensity display displaying reception radio field intensity of wireless transmission name display . . . of connecting equipment and reversed display at the time of selecting the electronic camera that is the connecting equipment are displayed.

In the next step S key pressed it is judged whether key provided in the designating device is pressed. If key is pressed the program goes to step S Roll up display to move the reversed display displayed in the display device to the name display of the connecting equipment that is upper in one line. Further when the reversed display completely moves the program goes to step S Setting key pressed .

If it is judged that key is not pressed in step S the program goes to the next step S key pressed here it is judged whether key provided in the designating device is pressed. If key is pressed the program goes to step S Roll down display to move the reversed display displayed in the display device to the name display of the connecting equipment that is lower in one line and specifies the connecting equipment. Further when the reversed display completely moves the program goes to step S Setting key pressed .

In the next step S it is judged whether the setting key provided in the designating device is pressed. In step S if it is judged that the Setting key is not pressed the program branches the former step S key presses . If the Setting key is pressed the program goes to step S Set connecting equipment to set constants flags and parameters relating to a model of the connecting equipment.

In the next step S Transmit connection approval the communication terminal transmits an enabling signal of communication connection to the electronic camera . After that the electronic camera and communication terminal communicate with each other to establish each authentication in step S Authentication procedure. Further the communication continues.

When the above described authentication procedure is finished the program completes connection processing with the electronic camera in step S END to return to an original program routine.

As described above when a user sets the electronic camera in an acknowledgement mode and enters into a communication range with the communication terminal names of equipment which are connectable in the display device of communication terminal . If the user selects and designates connecting equipment by using the designating device such as a cross key the program can execute the procedure of mutual authentication to establish communication.

The embodiment in can designate the inhibition of wireless communicative connection by adding an inhibitive connection refusal setting mode to the program in the communication terminal shown in . Therefore the description of the same flow as the flow described in the embodiment in is omitted and only the different flow will be described hereafter.

When the authentication procedure between the electronic camera and communication terminal is finished in step S Authentication procedure the program goes to the next step S Refusal setting mode .

In step S it is judged whether the refusal setting mode is designated from the designating device . At this time it is recommended to inform a user of setting purposes setting methods and procedure by displaying them in the display device . If the refusal setting mode is not designated in step S the program goes to step S again and performs loop processing. If the refusal setting mode is designated the program goes to the next step S Start refusal setting display to display identification information such as appearance and names of connecting equipment which are stored in the PROM in the display device .

According to the drawing in the display device of the communication terminal battery available capacity display showing the available capacity of the battery which is a power supply of the communication terminal reception radio field intensity display displaying reception radio field intensity of wireless transmission name display . . . of connecting equipment reversed display at the time of selecting the electronic camera that is the connecting equipment and connection refusal equipment display where names of connection refusal equipment are enclosed by frames are displayed.

In the next step S key pressed it is judged whether key provided in the designating device is pressed. If key is pressed the program goes to step S Roll up display to move the connection refusal equipment display displayed in the display device to the name display of the connecting equipment that is upper in one line. Further when the connection refusal equipment display completely moves the program goes to step S Setting key pressed .

If it is judged that key is not pressed in step S the program goes to the next step S key pressed here it is judged whether key provided in the designating device is pressed. If key is pressed the program goes to step S Roll down display to move the connection refusal equipment display displayed in the display device to the name display of the connecting equipment that is lower in one line and specifies the connection refusal equipment. Further when the connection refusal equipment display completely moves the program goes to step S Setting key pressed .

In the next step S it is judged whether the setting key provided in the designating device is pressed. In step S if it is judged that the Setting key is not pressed the program branches the former step S key presses . If the setting key is pressed the program goes to step S Set refused equipment to set that the communication equipment will not connect to the specified connecting equipment and goes to the next step S END to return to the calling program routine.

When the electronic camera and communication terminal come within a communication range mutually each equipment recognizes this and the program of the electronic camera branches step S START. In the next step S Start search mode commands of the data processing device makes the antenna transmit a radio wave including a search signal and makes the processing of searching for the communication terminal started.

If the electronic camera receives the search signal outputted from the communication terminal in step S Is connectable equipment present so as to establish communication the electronic camera receives a unique address from the communication terminal newly joins a communication network and starts processing for performing connection handshake. At this time it can be also performed that a user selects and designates desired equipment from in this display by displaying a communicating state and identification information such as equipment names of destination s connecting equipment and communication terminal in the display device .

In the next step S Connection acknowledgement received the electronic camera performs processing of waiting for a Connection acknowledgement signal with the electronic camera that comes by wireless from the communication terminal . If Connection acknowledgement is not transmitted the program returns to step S again and loops step S and if Connection acknowledgement is transmitted the program goes to the next step S Transmit connection start. 

In the next step S Transmit connection start the electronic camera transmits a request command for performing Connection start to the communication terminal so as to automatically perform mutual authentication and the program goes to step S Connection approval received .

In the next step S Connection approval received if the electronic camera does not receive Connection approval from the communication terminal the program returns to step S again and loops step S. If the electronic camera receives Connection approval from the communication terminal the program goes to the next step S Authentication procedure to perform communication relating to authentication procedure. Further in step S END the program completes connection processing with the communication terminal and returns to the calling program routine.

On the other hand in a processing program of the communication terminal when the electronic camera and communication terminal come within a communication range mutually each equipment recognizes this and the program of the communication terminal branches step S START. In the next step S Start search mode the CPU transmits a radio wave including a search signal from the wireless communication device and starts processing of searching for communication terminal. At this time it can be performed that a user selects and designates a desired communications partner from in this display by displaying information such as an equipment name of the electronic camera which is communicating and information such as names of other connecting equipment communicably existing within a communication range.

If the communication terminal receives the search signal outputted from the electronic camera in step S Is connectable equipment present so as to establish communication this communication terminal recognizes the communication terminal that newly joins a communication network assigns a unique address and starts processing for performing connection handshake.

In the next step S the communication terminal transmits a command Connection acknowledgement showing the establishment of communication to the electronic camera by wireless and the program goes to the next step S Connection start received . In step S the program performs the processing of waiting for the request command of the connection start is transmitted from the communication terminal . If the electronic camera transmits a command demanding the connection start in step S Transmit connection start and the communication terminal receives this the program goes from step S to step S Transmit connection approval. 

In the next step S Transmit connection approval the communication terminal transmits an enabling signal of communication connection to the electronic camera . After that the electronic camera and communication terminal communicate with each other to establish each authentication in step S Authentication procedure. 

When the above described authentication procedure is finished the program informs a user of the establishment of communicative connection by the communication terminal giving dial in sound from the speaker in step S Give dial in sound. Then the program goes to S END to complete connection processing with the electronic camera and returns to the calling program routine.

In the above described explanation an example is explained the example that a user is informed of the establishment of communication between the electronic camera and communication terminal by the sound given from the speaker but the present invention is not limited to this. Thus a user can be also informed by display lighting of display flashing vibration or the like.

Description of the flow chart in the figure will be performed only about portions different from those in and portions that are the same processing will be omitted.

Difference of this program from the processing program of the electronic camera shown in is a portion of setting the one time mode after step S Authentication procedure in . When the authentication procedure of the electronic camera is finished in step S the program goes to decision step S One time mode . Here the program performs the display of setting the one time mode in the display device of the communication terminal and a user performs the setting of the one time mode by using the designating device . If the setting of the one time mode is performed in step S the program goes to step S Set mode in authentic code inhibition performs the setting of releasing the authentication code after the first time communication to go to step S END. If the setting of the one time mode is not performed in step S the program directly goes to step S END and completes connection processing with the electronic camera to return to the calling program routine.

If the setting of continuing or releasing the one time mode is designated the program jumps to step S START. In the next step S One time release mode it is judged whether the designation by user s input is the one time release mode. If the designation is not the one time release mode the program branches step S END. If the designation is the one time release mode the program goes to step S Restore inhibited authentic code to restore the authentic code set in step S in and perform the processing of establishing communication. Further the program returns to the calling program.

Since the flow of the processing program of the electronic camera that is shown in is the same as the flow shown in description will be omitted.

Description of the flow chart of the communication terminal in will be performed only about portions different from those in and portions that are the same processing will be omitted. In step S Transmit connection approval if the communication terminal transmits connection approval to the electronic camera the program goes to the next decision step S First time connection . In step S it is judged whether present connection is the first time connection. If the present connection is the first time the program goes to step S Perform authentication procedure and issue common key to perform the authentication procedure for the electronic camera . In addition the program issues a common key to establish communicative connection only when the common key is pressed. When the processing of step S is finished the program goes to the next step S END to return to the calling program routine.

If the present connection is not the first time the program goes to step S Second time connection . If it is judged that the present connection is the second time in step S the program goes to step S Perform authentication procedure and issue inherent key to perform the authentication procedure for the electronic camera . Furthermore the program issues the unique key to establish the communicative connection only when the unique key is pressed. When the processing of step S is finished the program goes to the next step S END to return to the calling program routine.

If it is judged that the present connection is not the second time in step S the present connection is the third time or after the program goes to step S Unique key to judge whether the unique key issued in step S is pressed. If the key pressed is not the unique key issued in step S the program goes to step S END to return to the calling subroutine. If the key pressed is the unique key issued in step S the program goes to step S Authentication procedure and performs the authentication procedure for the electronic camera to establish communicative connection. When the processing in step S is finished the programs goes to step S END to return to the calling program routine.

As described above it becomes possible to easily identify a user by using the common key and unique key that are issued at the time of connection.

As described above a communication terminal apparatus according to the present invention comprises communication means that can connect with a host computer wireless communication means that can connect with connecting equipment by wireless communication storage means for storing image information showing the appearance of the connecting equipment display means for displaying the appearance of the connecting equipment on the basis of image information showing the appearance of the connecting equipment that is stored in the storage means when wireless communication with the connecting equipment is started and designating means for establishing communication with connecting equipment thereafter which is designated when the appearance of the desired connecting equipment that is displayed in the display means is designated in which the communication means receives and stores image information showing the appearance of the connecting equipment from the host computer if the image information showing the appearance of the connecting equipment is not stored in the storage means and hence it becomes possible for the communication terminal to receive the appearance and product names of all the connecting equipment which are connected to the communication terminal to display them in the display means and to establish communication with designating desired connecting equipment.

In addition another aspect of the present invention is a communication terminal apparatus which when establishing communication with desired connecting equipment executes the steps of a receiving equipment information showing the connecting equipment from the connecting equipment b connecting to the host computer on the basis of the equipment information and receiving image information showing the appearance of the connecting equipment from the host computer c displaying the appearance of the connecting equipment in display means of the communication terminal apparatus on the basis of the image information which is received or was received and stored beforehand and d establishing communication with connecting equipment when the appearance of the desired connecting equipment that is displayed in the display means is designated and hence it becomes possible for the communication terminal to receive the appearance and product names of all the connecting equipment which are connected to the communication terminal to display them in the display means and to establish communication with designating desired connecting equipment.

As described above a connected destination selection method in wireless LAN according to the present invention comprises the steps of automatically starting communication when the connected equipment and the connecting equipment come within a wireless communication range the connected equipment receiving identification information that can specify the connecting equipment from among the connecting equipment display means of the connected equipment displaying the identification information for identifying connecting equipment the wireless LAN establishing wireless communication between the connecting equipment and the connected equipment when desired connecting equipment is designated from among the displayed connecting equipment and hence it becomes possible to select desired connecting equipment from among a plurality of connecting equipment existing in a communication range of connected equipment and to communicate with the desired connecting equipment.

According to still another aspect of the present invention depending on pressing of a key provided in the connecting equipment and a key provided in the connected equipment wireless communication between the connected equipment and the connecting equipment is established and hence it becomes possible to select desired connecting equipment from among a plurality of connecting equipment existing in a communication range of connected equipment and to communicate with the desired connecting equipment.

According to a further aspect of the present invention if a predetermined key provided in the connecting equipment and a predetermined key provided in the connected equipment are pressed nearly at the same time wireless connection between the connected equipment and the connecting equipment is established and hence it becomes possible to select desired connecting equipment from among a plurality of connecting equipment existing in a communication range of connected equipment and to communicate with the desired connecting equipment.

According to a still further aspect of the present invention wireless connection between the connected equipment and the connecting equipment is established if a predetermined key provided in the connecting equipment and a predetermined key provided in the connected equipment are pressed in predetermined sequence and hence it becomes possible to select desired connecting equipment from among a plurality of connecting equipment existing in a communication range of connected equipment and to communicate with the desired connecting equipment.

According to another aspect of the present invention when the connected equipment receives sound that is unique to the connecting equipment and is given from the connecting equipment wireless connection between the connected equipment and the connecting equipment is established and hence it becomes possible to select desired connecting equipment from among a plurality of connecting equipment existing in a communication range of connected equipment and to communicate with the desired connecting equipment.

According to still another aspect of the present invention the connecting equipment takes a photograph of expression in display means of the connected equipment displayed contents of the connected equipment are detected and wireless connection with the connected equipment is established if these displayed contents are predetermined displayed contents and hence it becomes possible to select desired connecting equipment from among a plurality of connecting equipment existing in a communication range of connected equipment and to communicate with the desired connecting equipment.

According to a further aspect of the present invention if the connecting equipment and the connected equipment are contacted the connected equipment and the connecting equipment recognize each other and wireless connection between the connected equipment and the connecting equipment is established and hence it becomes possible to select desired connecting equipment from among a plurality of connecting equipment existing in a communication range of connected equipment and to communicate with the desired connecting equipment.

According to a further aspect of the present invention wireless connection is automatically established when the connected equipment and the connecting equipment come within a wireless communication range and a user is informing of the establishment of wireless connection by giving sound light or vibration from the information means provided in the connected equipment when the wireless connection is established and hence it becomes possible to easily know that desired connecting equipment is selected from among a plurality of connecting equipment existing in a communication range of connected equipment.

According to a still further aspect of the present invention communication is automatically started when the connected equipment and the connecting equipment come within a wireless communication range common key information used for authentication is sent to the connecting equipment if it is the first time connection wireless connection is established by detecting that a common key provided in the connecting equipment and a common key provided in the connected equipment are pressed predetermined key information used for authentication is sent to the connecting equipment if it is the second time connection communication is continued as information for recognizing a user by detecting that a predetermined key provided in the connecting equipment and a predetermined key provided in the connected equipment are pressed the user is recognized and communication is continued by detecting that a predetermined key provided in the connecting equipment and a predetermined key provided in the connected equipment are pressed if it is the third time connection or after and hence it becomes possible to select easily desired connecting equipment from among a plurality of connecting equipment existing in a communication range of connected equipment and to communicate with the desired connecting equipment.

According to another aspect of the present invention both of connected equipment and connecting equipment automatically authenticate each other and wireless connection is established when coming within a wireless communication range and a user can designate a mode in which mutual authentication is limited to the first time one or another mode in which mutual authentication is performed first two times and more from designating means provided in the connected equipment and hence it becomes possible to select desired connecting equipment from among a plurality of connecting equipment existing in a communication range of connected equipment and to prevent unnecessary communication.

It should be understood however that there is no intention to limit the invention to the specific forms disclosed but on the contrary the invention is to cover all modifications alternate constructions and equivalents falling within the spirit and scope of the invention as expressed in the appended claims.

