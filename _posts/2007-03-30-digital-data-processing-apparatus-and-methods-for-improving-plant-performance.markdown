---

title: Digital data processing apparatus and methods for improving plant performance
abstract: The invention provides, in one aspect, human machine interface (HMI) methods and apparatus that permit users to search and/or view plant and other real-time process automation data in a manner similar to that with which they search and/or view pages on the Internet (web). Related aspects of the invention provide such methods and apparatus as permit users to search and/or view such real-time process automation data concurrently with such Internet web pages. Further related aspects of the invention provide such methods and apparatus as permit users to search and/or view such real-time process automation data concurrently with business data maintained in pages on an enterprise network (e.g., a LAN, WAN or otherwise).
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=07860857&OS=07860857&RS=07860857
owner: Invensys Systems, Inc.
number: 07860857
owner_city: Foxboro
owner_country: US
publication_date: 20070330
---
This application claims the benefit of priority of U.S. Provisional Patent Application Ser. Nos. 60 788 373 filed Mar. 30 2006 entitled Improved Digital Data Processing Apparatus and Methods for Improving Plant Performance and 60 856 572 filed Nov. 3 2006 entitled Further Improved Digital Data Processing Apparatus and Methods for Improving Plant Performance the teachings of both of which are incorporated herein by reference.

The invention pertains to digital data processing and more particularly to improved methods and apparatus for integration of internet search technologies. The invention has application by way of non limiting example in improving the performance and management of manufacturing and other plants whose operations are reflected by real time automation data.

Today s manufacturing plants and other automation facilities have a wealth of data represented as files databases and real time automation data. Systems exist to manage this information but it has traditionally been viewed in two highly separated worlds the world of enterprise or business systems and the world of control or process automation systems. In fact there is another dichotomy of data that which is real time dynamic and that which is recorded static generally file based or database structured.

The prior art includes U.S. Patent Application Publication US2002 0067370 entitled Extensible Manufacturing Process Control Information Portal Server assigned to the assignee hereof the teachings of which are incorporated herein by reference.

An object of this invention is to provide improved methods and apparatus for digital data processing.

A further object is to provide such methods and apparatus as are adapted for improving the performance of manufacturing and other plants with real time automation data.

A still yet further object of the invention is to provide such methods and apparatus as can be adapted for use with existing and future automation and web technologies.

The foregoing objects are attained by the invention which provides in one aspect human machine interface HMI methods and apparatus that permit users to search and or view plant and other real time automation data in a manner similar to that with which they search and or view pages on the Internet web .

Related aspects of the invention provide such methods and apparatus as permit users to search and or view such real time automation data concurrently with such Internet web pages. Further related aspects of the invention provide such methods and apparatus as permit users to search and or view such real time automation data concurrently with business data maintained on an enterprise network e.g. a LAN WAN or otherwise .

The invention provides in other aspects such methods and apparatus which utilizes web crawler search engine technology to collect real time automation data for such searching and or viewing by users. Related aspects of the invention provide such methods and apparatus in which that web crawler search engine technology also searches and indexes pages on the Internet and or enterprise network.

Still other aspects of the invention provide such methods and apparatus which utilize a web browser as an interface via which users search and or view real time process automation data as well as web pages and or business data on the enterprise network.

Yet still other aspects of the invention provide such methods and apparatus which transfer real time process automation data from a repository of plant automation data to the web crawler for indexing and use in resolving user queries. Related aspects provide such methods and apparatus which transfer field device tool FDT data and object linking and embedding for process control OPC data to the web crawler for such indexing and use.

Further related aspects of the invention provide such methods and apparatus in which such transfers are effected by presenting the real time process automation data the FDT data and or OPC data to the web crawler as if that data were web pages with related attributes. Related aspects of the invention provide such methods in which such data is presented to the web crawler with metadata of control point state alarm condition description status and value in place of conventional web page file metadata e.g. size author date created key words .

Still further related aspects of the invention provide such methods and apparatus in which the foregoing transfers are effected by an interface that updates the real time process automation data the FDT data and or OPC data indexed by the web crawler as change driven data. Related aspects of the invention provide such methods and apparatus in which the index is updated based either on scheduling or on demand by an application programming interface API .

In other aspects the invention provides methods and apparatus as described above in which policies that direct how the web crawler behaves are controlled such that it can be interrupted and redirected in a new direction based on a forcing policy associated with process state alarm conditions or events.

These and other aspects of the invention are evident in the drawings and in the description that follows. Advantages of methods and apparatus according to the invention include among others that they provide a view of the entire enterprise in reality real time and historical allowing users to view any relationship in any context thereby providing an new and valuable means of better understanding the business of the enterprise.

Google has forever changed the expectations of people regarding the ease speed and breadth of information access. By full text indexing a substantial portion of the Internet s web site content Google has indeed succeeded in bringing information to the people. A very important issue is that the information contained on Internet web sites is essentially unstructured text data with minimal encoded semantic information in the form of metadata e.g. data about data . In response Google created a mechanism for weighting information based on the number of links that reference a site s content. The more links the more important the site content. This concept enables the ability to assign relevance to large quantities of essentially unrelated and unstructured information providing easy information mining using simple ad hoc queries. This ease however comes at a price. Google is essentially a gigantic information cache which is updated infrequently at irregular intervals. For static information that doesn t change often this isn t a big issue. Old data is usually better than no data. For dynamic information that does change this highly non deterministic behavior results in a lot of stale invalid data.

Within a typical enterprise information comes in all flavors. A lot of corporate business information is well structured and lives within highly normalized relational databases attached to enterprise line of business LOB applications such as Enterprise Resource Planning ERP . These applications provide user interface and reporting querying facilities that broker information that is internally maintained. Other information lives on user desktops in the form of Microsoft Office files such as Excel spreadsheets and Word documents all by way of non limiting examples. In between the core enterprise systems and user desktops are files stored on network servers and intranet sites.

A manufacturing enterprise has additional information that resides within systems that are directly involved with process manufacturing execution asset management and process automation. Some of these data are relatively static such as configuration information and some are highly dynamic such as information directly related to manufacturing processes. From a user perspective there also appears to be an inverse square law associated with manufacturing information. Simply stated the further a user is away from an information source the less that user understands the information source and its context. The casual user often does not have access to the fine grained information that power users have because of high cost license fees or special training requirements.

As an example when plant mechanical engineering personnel are designing a piece of equipment they often refer to outdated process specifications. It would be advantageous for them to access actual process data associated with the particular equipment involved. This could be accomplished using a simple equipment query to the portal which would return a list of relevant instrument tagnames. Upon selecting an instrument tagname the user could navigate to an existing long term trend report or view historical statistics. Note that information correlation of this type is often not straight forward due to the fact that equipment databases are normally separate from process databases. An engineer located in a remote corporate engineering office would probably have less local knowledge and therefore could benefit even more from simplified search technology. It may not be long before Googling will be as important looking into an enterprise as it is today for looking out into the Internet.

Google provides application program interfaces APIs that permit tailoring of responses to search engine requests and specifically that permit creation editing deletion viewing and updating of stored data in the form of Google data API GData feeds as well as that permit control over how search results are requested and presented to end users. These and other APIs including but not limited to the Google Data APIs Google Base Data API Google Search Appliance APIs are described and publicly available at http code.google.com apis.html and are incorporated herein by reference 

Microsoft has developed products to provide easy and fast access to correlated information that resides in this distributed heterogeneous collection of repositories. These technologies are encapsulated within Microsoft Enterprise Search the next generation platform of indexing and query technology. This technology is common across both server and desktop platforms including Vista and XP Desktop Search as well as the upcoming Microsoft Office Sharepoint Server 2007. Microsoft Enterprise Search is Microsoft s next generation platform of indexing and query technology. This technology is common across both server and desktop platforms including Vista and XP Desktop Search as well as the upcoming Microsoft Office Sharepoint Server 2007 e.g. MOSS . A further understanding of this technology may be attained by reference to http msdn.microsoft.com library and http msdn.microsoft.com office server moss the teachings of which are incorporated by reference.

The search appliance so labeled in the drawing comprises any digital data processing apparatus suitable for operation in accord with the teachings hereof. This may be a dedicated digital data processing device such as a workstation or minicomputer or it may represent functionality executed along with one or more other applications on a workstation minicomputer or other digital data processing apparatus. Though shown here directly coupled to the enterprise network and thereby in communications coupling with the enterprise data system and the automation system in other embodiments it may be so placed in communications coupling by way of one or more other networks such as the Internet.

As further shown in the drawing the search appliance comprises a human machine interface HMI and an automation data crawler interface both of which are coupled to an data repository that forms part of the automation system and or otherwise serves as a repository for data therefrom.

The human machine interface of the illustrated embodiment comprises a digital data processing apparatus e.g. personal computer workstation personal digital assistant or otherwise that executes a conventional or other web browser the operation of which is adapted in accord with the teachings hereof to permit users to search and or view real time automation data in a manner similar to that with which they search and or view conventional web pages on the Internet and or within the enterprise e.g. on the enterprise network .

In the illustrated embodiment the automation data repository forms part of the ArchestrA manufacturing process control system commercially available from the assignee hereof though in other embodiments it represents such repositories for storing data from other automation systems.

The search appliance further includes a conventional web crawler search engine whose operation is utilized and or adapted in accord with the teachings hereof. Generally speaking search engines operate on the basic concept of scanning or crawling a directed graph of nodes. At each node encountered the Search Engine retrieves and indexes the data content discovered at that node. Nodes are identified by URL such as http MyDomain MySite.coms. In the first illustrated embodiment this is a crawler based on the Google search engine the application program interface API of which is publicly available from the company by that same name. Other embodiments may utilize other crawler and or search engine technology known in the art again as adapted in accord with the teachings hereof.

That Google API contemplates a large number of file types and database access routines. The illustrated embodiment utilizes an interface see to that API and therefore to the web crawler that provides dynamic automation data in a dynamically updating table. That interface additionally dynamically reconfigures the behavior of the search engine to re index re search the dynamic data based on a unique combination of prioritization scheduling on demand or by exception algorithms. As will be evident to those skilled in the art unique aspects of this design include among others 

In the illustrated embodiment a request by the user via the HMI for a process variable or other process attribute is met with a unified display showing results for the dynamically updating variable or attribute its historical values and it current configuration parameters. Likewise a search on brown sugar would result in recipes suppliers markets where and how brown sugar is being used in the process yesterday today or tomorrow as reflected in real time automation data from the Plant . As with other search technology data relevance is a function of the user and is managed by the actual user s behavior. This user interface provides prioritized data based on any number of configuration parameters e.g. Alarm value cost critically etc.

The normal output of a crawler is to download web pages extract links make determinations as to where to go next and pass the pages off to a search engine that will index them for retrieval. The index contains meta data on the page as well as pages themselves in a cache. The crawler is constantly updating the index while users are requesting searches from the search engine that first relies on the index for the requested data.

The first interface labeled 1 is between the InReality application and the Plant s real time data. Four sub interfaces are shown though other embodiments may have greater or fewer. The first such sub interface is between the Plant s control or automation system and the InReality application. In the illustrated embodiment this interface is the ArchestrA based global data repository and is supplemented by an interface that uses OPC data and FDT data. Together these allow real time data to be made available to enterprise applications. The other three sub interfaces are between the InReality application and the Plant s real time security system it s real time maintenance management system and it s real time asset tracking system all by way of example. These sub interfaces are supported by the ArchestraA by the corresponding plant system themselves and or otherwise.

The second interface labeled 2 is between the InReality application and the indexed data created by the crawler. In the illustrated embodiment this is the index that the search engine goes to first looking to resolve the users query. Such an interface can be adapted to any commercial or otherwise known search engine that allows real time process data to be viewed as if it were an indexed web page with related attributes. The metadata of the file size author date created key words is replaced by way of example with the metadata of control point state alarm condition description status and value. This index interface is updated by the control system as change driven data from the control system. Additionally there are mechanisms to update the index based either on scheduling or on demand by an application programming interface API .

The third interface labeled 3 is between the existing web crawler and the InReality application. All crawlers have their own unique methods of directing how the crawler behaves. These methods are known as policies and address how the crawler determines where to go next. The interface driven by the InReality application and its configuration will control the crawler such that it can be interrupted and redirected in a new direction based on a forcing policy associated with process state alarm conditions or events.

In operation users utilizing the human machine interface HMI of the illustrated embodiment depicted here by way of non limiting example as the workstations labeled Typical Users post search queries to a web browser or other application executing thereon. As noted above such a browser can execute in the conventional manner known in the art as adapted in accord with the teachings hereof. Those queries are applied by the search engine against the aforementioned index e.g. as more fully shown in the drawing in order to generate links to web pages from the Enterprise and or Internet in the conventional manner known in the art as well as to generate links to and or real time displays from real time automation data e.g. in accord with the teachings above .

In the illustrated embodiment a user or system administrator may configure the HMI for presentation of the displays of among others utilizing a preference panel not shown. Such preferences can permit by way of non limiting example selection of specific graphical display panels as well as specification of types and or subsets of automation data to be searched.

As evident upon examination of the search box of the illustrated browser is supplemented with a Search Internet button in addition to the conventional Search Web button. Use of the former permits the user to specifically limit his or her search to real time automation data and optionally other information on the enterprise network e.g. as determined by the aforementioned preferences panel . Use of the latter combines both a search of the web and of the real time automation data and optionally other information on the enterprise network .

As will be further evident upon examination of those drawings above the search box are domain specific search limiters. Those for web are conventional e.g. images groups news and so forth. Those for the intranet are unique to the illustrated embodiment. In the illustrated embodiment these are for categories of real time data such as plants equipment alarms historians and so forth. Other embodiments may use other categories. Regardless for each of the categories the HMI can additionally include a graphical component such as by way of non limiting example a bar graph reflecting a number of search hits per category.

Further embodiments of the invention utilize search engine technology based on Microsoft Enterprise Search as described in further detail below all by way of non limiting example. In these embodiments data content is categorized by Content Source which is associated with a Protocol Handler. Out of the box Protocol Handlers provided by Microsoft are available for the following Content Sources 

These content sources define what type of information will be crawled and indexed. Scopes can be defined that limit queries to a subset of data contained within the indexed content of a Sharepoint Server.

The system uses a pull based model not a push model. This can limit scalability and performance with respect to refresh latencies. In order to reduce latencies an incremental crawling technique implemented within the Microsoft technology allows more efficient and therefore shorter crawl cycles to be used. In embodiments of the invention wherein incremental crawling is leveraged then latencies of 10 15 minutes may be achievable. While this may not be considered real time data it falls well within the timing requirements of configuration metadata as well as hour average process data. Access to real time process data is handled through standard API mechanisms once a tag reference of interest has been identified through query.

A push model based on incremental change driven eventing as may be implemented in connection with future versions of Microsoft Search is beneficial in reducing data update latencies.

The relative ranking of information returned from a query is controlled by link analysis but can also be affected by tuning property weights and query weights.

Information is referenced in the form of properties. Two types of properties exist 1 Crawled Properties and 2 Managed Properties. Crawled Properties are discovered from the crawled content and Managed Properties are defined by an administrator. A mapping is then defined that associates these two properties for purposes of query and display.

Properties have names and may be single valued or multi valued. In addition property access is intended to be read only. If update is required then business objects should be used to control access and provide validation.

Document centric information valuable to the operation and management of industrial processes is indexed using standard content source types 

If these documents are currently available only through a document management system then either they can be 1 replicated to a read only network share or website such as Sharepoint or 2 a custom protocol handler could be built to provide direct access to the document management system.

Interesting properties might include such plant entities as equipment strategy loop pipeline instrument area etc.

Information contained within the control system configuration database is crawled and indexed using an appropriate technique such as 

The user can query and navigate the indexed documents as desired using standard Sharepoint user interface e.g. UI tools. A custom UI built using a web part allows the user to access the manufacturing and control systems applications directly based upon query results returned. This provides a very utilitarian interface especially for casual users. As crawler efficiency improves more and more dynamic process information can be included in the indexed content.

By way of example an enterprise environment in which a system according to the invention operates can include data repositories such as e.g. equipment databases manufacturing databases and batch processing databases of the type known in the art as adapted in accord with the teachings hereof . These databases which can exist in lieu of or in addition to the aforementioned ArchestrA based global data repository discussed above are merely additional examples of the data repositories with which systems and methods according to the invention operate.

In operation a user utilizing human machine interface HMI methods and apparatus according to the invention can obtain information regarding a process attribute such as a process control equipment tag SC100 by way of non limiting example by posting a query to a web browser as discussed above. As further discussed above such a query is applied to the search engine in order to generate links to and or real time displays from real time automation data for the enterprise as well as links to web pages internal to the enterprise including for example pages conveying information from the aforementioned equipment manufacturing and batch processing databases and to web pages on the Internet.

To this end links and or other information pertaining to the enterprise can be obtained via interface s of the type described above e.g. to the search engine API that provide dynamic automation data in a dynamically updating table. Alternatively or in addition such links and or other information can be obtained via use of Microsoft Enterprise Search or related technologies in enterprises whose infrastructures are so suited. In any event it will be appreciated that methods and apparatus constructed in accord with the teachings hereof identify and aggregate e.g. via display on the user s browser the aforementioned links and other information regarding the requested process attribute here tag SC100 regardless of whether it is contained in a single enterprise database or distributed throughout several non integrated or disconnected databases.

Described above are systems and their methods of operation meeting the objects set forth earlier. Those skilled in the art will appreciate that the embodiments presented herein are merely examples of the invention and that other embodiments incorporating changes thereto fall within the scope of the invention. Thus by way of non limiting example it will be appreciated that the specific arrangement of the presentations of is merely by way of example and shall not be construed to limit the invention.

