---

title: Game talk service bus
abstract: A service-oriented bus for distributed gaming systems allowing gaming machines, servers, workstations, mobile PCs, handheld devices and automatic telling machines to talk together over a network. The game service bus provides a publish-and-subscribe message bus over a private network within a gaming property and/or over the public Internet across several properties. The service bus framework allows participating communicating end points to publish services or subscribe to services in a simple and standardized high level fashion, thereby enabling the devices to understand one-another, thus “talk” together. The “talking together” paradigm is rather appropriate, as it emphasizes the value that the service bus brings to a complex distributed casino gaming system that may include thousands of devices manufactured by dozens of vendors. Gaming machines may talk together in a peer-fashion over the service bus, which is well suited for multiplayer gaming. The service-oriented bus allows third party ultra-specialized vendors to offer dazzling plug-in services directly on the casino floor, such as automated geo-localized logistic support and other geo-localized services.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08266212&OS=08266212&RS=08266212
owner: IGT
number: 08266212
owner_city: Reno
owner_country: US
publication_date: 20070821
---
This is a continuation in part of application Ser. No. 10 120 635 filed Apr. 10 2002 now U.S. Pat. No. 7 297 062 which claims the benefit under 35 U.S.C. 119 e of provisional application Ser. No. 60 332 593 filed Nov. 23 2001 both applications of which are hereby incorporated herein by reference in their entireties. This application is also related in subject matter to commonly assigned U.S. Pat. Nos. 6 916 247 6 945 870 and 7 297 062 and to commonly assigned U.S. pending application Ser. No. 11 844 201 filed Aug. 23 2007.

Embodiments of the present invention relate generally to the field of pay computer controlled games and entertainment devices including both games of skills and games of chance. More particularly embodiments of the present invention relate the field of methods systems and devices for the automated monitoring and control of a large number of clusters of such pay gaming and entertainment devices.

Conventional pay entertainment and gaming systems either of the cash or the cash less type are seriously limited due to the technical choices that are typically made to comply with regulatory requirements. Indeed regulators are mainly concerned with fraud cheating and stealing as may occur when legitimate winners are deprived of their just winnings or when illegitimate users receive illegitimate winnings. Because of these security concerns regulators are reluctant to approve licenses for state of the art open multimedia and Internet technologies opting instead for known but antiquated technology.

However the security of such antiquated technology i.e. technology developed prior to the present advanced multimedia and Internet age is mostly illusory. Such conventional technologies are only perceived as being more stable and secure because their flaws are not widely publicized. Computer technology being extremely complex there are always latent imperfections and flaws which may be exploited by the ill intentioned. This is even truer with antiquated technology as hacker crackers have now access to considerable information on software weaknesses as well as sophisticated attack strategies and tools that they may apply to older software.

Legacy entertainment and gaming systems that are authorized for use in public places are usually aggregates of old technologies bundled together with some PC hardware featuring basic fault tolerance basic data integrity and ad hoc security means together with some LAN networking functionality to enable some primitive centralized auditing. Although some advanced security means have been proposed such as disclosed in for example WO 01 41892 that promote off line gaming security using smart cards this approach in fact exposes the system to latent unidentified security threats that hacker crackers or employees will likely eventually exploit. Off line or semi on line systems are totally in the hands of very few people. In short these systems operate essentially with little means for detecting under the radar fraud to push the analogy farther finer grained and smarter radar means would be uneconomical for casino and gaming operators to implement .

In contrast lottery and pari mutual wager systems have evolved to modern fully on line very high capacity mission critical systems funneling billions of dollars annually while offering significantly greater security means than the security afforded by banks. Since these organizations have come on line lawsuits resulting from complaints flaws and fraud including internal fraud by employees have virtually disappeared. However although pay entertainment and gaming machines based on secure Internet web browser and cash less payment technology are ideal centralized candidate solutions to equip casinos and like sites these may rapidly kill the traditional gaming support industry.

The entertainment and gaming systems lag behind state of the art multimedia PC gaming console wireless and interactive TV technologies consequently these systems are ill prepared to attract the younger player generation accustomed to flashy and networked games.

It is therefore an object of this invention to provide an architecture that overcomes the technical lag security limitations and lack of stability of the prior art. It is a further object of this invention to provide an architecture that overcomes rapid obsolescence of technology. It is yet another object of this invention to provide a flexible architecture that may more easily accommodate the variety of specific regulatory requirements encountered around the world. It is a still further object of this invention to provide specific function peripheral devices with means of secure identification and secure network communication.

An embodiment of the present invention is a distributed gaming system. The distributed gaming system may include a communication bus at least one first node each including a first computer coupled to the communication bus and at least one second node each including a second computer coupled to the communication bus. The at least one first node may further include at least one first service oriented software executing in the first computer of each first node the first service oriented software including at least one high level function and a first service oriented protocol the first service oriented protocol being configured to negotiate service messages over the communication bus the first service oriented software being configured to selectively 

The at least one second node may include a second computer coupled to the communication bus and at least one second service oriented software executing in the second computer of each second node the second service oriented software including at least one function call and a second service oriented protocol configured to negotiate service messages over the communication bus the second service oriented software being configured upon execution of the at least one function call to selectively 

The first service oriented software may be configured to provide the at least one high level function upon receiving a request to consume the at least one high level function via a remote procedure call. The first service oriented software may be configured to provide the at least one high level function upon receiving a request to consume the at least one high level function via a HTTP request. The first service oriented software may be configured to enable execution of the at least one high level function upon receiving a request for execution via a HTTP request. The first service oriented software may be configured to perform a call back upon receiving a request to consume or execute the at least one high level function via a remote procedure call. The first service oriented software may be configured to return a HTTP reply subsequent to receiving a HTTP request for execution of the at least one high level function.

The service oriented protocol is the Service Oriented Architecture Protocol SOAP for example. The communication bus may include loosely coupled and or tightly coupled nodes. The loosely coupled nodes may include nodes coupled via Ethernet Wi Fi Internet radio link RS 422 micro wave link and or satellite link for example. The tightly coupled nodes may include nodes coupled via inter process communication USB Bluetooth RS 232 RS 422 and or IEEE1394 FIREWIRE connection protocols for example. The at least one high level function may include a business function an audit function an authentication function a biometric identification function a graphics rendering computation function and or an outcome determination function to name but a few of the possible high level functions. The at least one first node may include a gaming machine an entertainment machine a payment verification unit a specialized device an IP enabled peripheral a server a server farm a computer device and or an automatic teller machine for example.

The at least one second node may include for example a gaming machine an entertainment machine a payment verification unit a specialized device an IP enabled device a server a server farm a computer device and or an automatic teller machine. The first and or second service oriented protocol may include asynchronous notification of events COM DCOM MICROSOFT REMOTING MICROSOFT .NET CORBA SOAP IBM SOA and or UDDI protocols for example. Security over the communication bus may be provided by implementing the IPSec protocol the VPN tunneling protocol and or the SSL protocol for example.

The at least one second node may include a gaming machine. The at least one second node may be included inside a gaming machine. The at least one first node may include a gaming machine. The at least one first node may be included inside a gaming machine. The at least one second node may include a gaming machine played by a player and may be configured to execute at least one function call during a game session. The at least one second node may be included inside a gaming machine played by a player and may be configured to execute at least one function call during a game session. The at least one first node may be configured for load balancing with another one of the at least one first node. The negotiating of service messages on the communication bus may include at least one of for example naming discovery message routing publishing eventing subscribing eventing message transformations workflows and communication recovery from nodes powering off then on again.

According to another embodiment thereof the present invention is a distributed gaming system that may include a communication bus a first gaming machine coupled to the communication bus the first gaming machine being configured to selectively publish execute and provide at least one high level function and a second gaming machine coupled to the communication bus the second gaming machine being configured to selectively subscribe to or consume the at least one high level function published or provided by the first gaming machine and selectively request that the first gaming machine execute the at least one high level function.

The first gaming machine may be further configured to perform a call back upon receiving a request to consume or execute the at least one high level function and return a reply and wherein the second gaming machine is further configured to accept the reply subsequent to receiving the call back from the first gaming machine. The distributed gaming system may further include a service oriented device coupled to the communication bus the service oriented device including at least one of a payment verification unit a specialized device an IP enabled peripheral a server a server farm a computer device and an automatic teller machine for example. The service oriented device may be configured to selectively publish subscribe provide execute and request that either the first or the second gaming machine execute the at least one high level function.

According to another embodiment thereof the present invention is a method for distributed gaming over a communication bus. The method may include steps of for example providing a first gaming machine and coupling the first gaming machine to the communication bus publishing by the first gaming machine a first high level function over the communication bus providing a node coupled to the communication bus receiving from the node a request to subscribe to the published first high level function accepting the subscription request initiating a gaming session on the first gaming machine and responsive to updates occurring during the gaming session providing call backs by the first gaming machine the call backs returning a result of the execution of the first high level function to the node over the communication bus.

The receiving step may be carried out with the node including a second gaming machine. The receiving step may be carried out with the node including at least one of an entertainment machine a payment verification unit a specialized device an IP enabled device a server a server farm a computer device and or an automatic teller machine for example. The high level function may include at least one of a business function an audit function an authentication function a biometric identification function a graphics rendering computation function and or an outcome determination function. The method may further include a step of receiving from the node a request that the first gaming machine executes the high level function. A step may be carried out of the first gaming machine performing a call back upon receiving the request to consume or execute the high level function. The second providing step may be further carried out with the node being configured to selectively publish subscribe provide execute and request that the first gaming machine execute the high level function.

According to yet another embodiment thereof the present invention is a method for distributed gaming over a communication bus. The method may include providing a first node and coupling the first node to the communication bus publishing by the first node a high level function over the communication bus providing a first gaming machine coupled to the communication bus receiving from the first gaming machine a request to subscribe to the published high level function accepting the subscription request initiating a gaming session on the first gaming machine and responsive to updates occurring during the gaming session providing call backs by the first node the call backs returning a result of the execution of the high level function to the first gaming machine over the communication bus.

The receiving step may be carried out with the first node including a second gaming machine. The receiving step may be carried out with the node including an entertainment machine a payment verification unit a specialized device an IP enabled device a server a server farm a computer device and or an automatic teller machine for example. The high level function may include a business function an audit function an authentication function a biometric identification function a graphics rendering computation function and or an outcome determination function for example. The method may further include a step of receiving from the first gaming machine a request that the node execute the first high level function. A step may be carried out of the node performing a call back upon receiving the request to consume or execute the high level function. The second providing step may be further carried out with the first gaming machine being configured to selectively publish subscribe provide execute and request that the node execute the high level function.

Reference will now be made in detail to the construction and operation of preferred implementations of the present invention illustrated in the accompanying drawings. The following description of the preferred implementations of the present invention is only exemplary of the invention. Embodiments of the present invention are not limited to these implementations but may be realized by other implementations.

The gaming system may further include one or a plurality of entertainment machines. Alternatively the entertainment machines may be substituted for all or some of the gaming machines . Within the context of the present inventions gaming machines include machines that enable the player to plays games of chance while entertainment machines include machines that enable the player to play games of skill to watch entertainment materials or to even participate in interactive entertainment sessions with groups of players or other individual players. Monetary payouts from games of skills and entertainment machines are usually illegal and prizes may commonly be awarded in the form of longer play sessions or ranking into a higher skill level.

Central server s may be located on the same premises as the gaming machines entertainment machines and PVUs or elsewhere. A plurality of servers may be used in various configurations. For example the server s may be located on same premises for fault tolerance backup located on different premises for disaster tolerance backup located on same or different premises for load balancing and or configured in a hierarchical structure whereby a hierarchically higher server provides consolidated services for one or a plurality of hierarchically lower servers .

Electronic purses such as those based on the SmartCard technologies may also be used either in on line or off line modes although off line operation is to be avoided to preclude latent and under the radar fraud especially from inside employees.

Moreover the entertainment machines and or gaming machines may further include a video camera to allow for face to face action face ID recognition creation of avatars movable three dimensional images that may be used to represent a person or part thereof such as a head in cyberspace and the like. Incorporating functionality for identifying players based upon recognition of their facial features in the entertainment machines and or the gaming machines would allow any pre registered person to be immediately greeted and his or her account retrieved as soon as he or she stands by the entertainment machine and or the gaming machine . Alternatively still entertainment machines may enable the player to participate in a game of chance while offering the player a superb multimedia and sensorial experience.

Because of the technical similarities and potential functional overlap between gaming machines and entertainment machines the term gaming machine as used herein below will collectively refer to both gaming machines and entertainment machines and or any variant or combinations thereof.

When a player wishes to redeem the credit available in his or her account the player may consult a nearby cashier equipped with a PVU who may identify the player s account using one of the ID media provided by the player query the central server s for payment authorization and proceed with payment. When processing the payment authorization smart pattern analysis software may be used to detect possible fraud resulting from counterfeiting whereby for example the player would deposit some cash funds for credit to his or her account play very small wager amounts then claim the totality of the balance at another cashier. In that case there is a high probability that the coins or notes remitted by the player may be counterfeits or originate from suspicious origin. The PVU may also be used for crediting the player s account when the player remits cash to play on one of the cash less gaming machines.

When a player wishes to redeem the credit available in his or her account the player may consult a nearby APVU or smart cashier who will identify the player s account using one of the ID media provided by the player query the central server s for payment authorization then proceed with cash payment via the coin hopper and note dispenser for example. When processing the payment authorization smart pattern analysis software may be used to detect possible fraud. The APVU may also allow the player to credit directly his or her account by remitting cash via the note acceptor the coin acceptor or alternatively via Electronic Fund Transfer EFT with his or her bank account to play one of the gaming machines. Any of the ID media may be used to allow the player to play on any of the gaming machines connected to the network .

A hardware RNG is extremely desirable in order to ensure maximum entropy of encryption of the secret keys such that the encrypted keys are formed of true random bits thereby rendering a brute force attack thereon to its maximum theoretical level of difficulty. An embedded true RNG based on diode noise for example enables systematic use of the highest encryption strength for the encryption algorithms and key length allowed by government. Flaws in RNGs and badly chosen encryption keys are responsible for highly publicized cracked systems. Although 128 bit encryption such as RSA 3DES etc. requires a considerable theoretical computer power to crack a badly chosen encryption key may result in the secret keys being cracked within hours. There is a need to provide the gaming machines and external sources of random numbers coupled to the present gaming machines with almost Military Defense Class security. Virtual private Networks VPNs Secure Socket layer SSL and other secure communication protocols that rely on locally generated encryption keys are solutions that are widely available today. The resilience of such encryption protocols to attack depend on the quality of the encryption keys or their maximum entropy such as discussed in Schneider Wiley Sons Inc. 2000 pages 102 106 which is incorporated herein by reference.

The present gaming machine may also include one or more player video displays driven directly by a multimedia controller within the gaming machine or driven externally thereto one or more non video displays such as status indicators digital indicators mechanical indicators blinking lights illuminations and the like and one or more player interactive controls such as a one arm bandit handle push buttons trackballs or a joystick. As shown the payment and identification devices of the present gaming machines may include a coin acceptor a coin dispenser or hopper a bill or note acceptor a bill dispenser a smart card reader and writer a smart card dispenser a bar or other machine readable code reader a ticket printer a magnetic card reader a biometric ID reader and or other devices generically referenced at . The payment and identification devices may advantageously be coupled to the platform via RS232 RS485 or similar connections.

The payment and identification devices listed above are collectively referenced herein as specialized devices herein below and may not all be present in a given gaming machine configuration. For example a gaming machine may only be configured for cash less payment using voice ID in that case only a microphone and touch screen and or display and keypad need be present. Moreover the list of specialized devices above is not limitative as new specialized devices may become available such as interfaces with personal wallets contact less smart cards or ID tokens for example. Any such specialized devices may readily be incorporated within the present gaming machines. It is to be noted that the purpose for listing a significant number of specialized devices is not to recommend equipping gaming machine with each listed specialized device but rather to teach the benefits of designed in modularity as is discussed in detail herein below. Furthermore the same architecture may be advantageously applied to the APVU Automated Payment Verification Unit or Smart Cashier .

In legacy gaming machines the connection between specialized devices and the processing hardware is rather ad hoc as a wide variety of interfaces are encountered such as RS232 RS422 Parallel via dedicated add on board etc. More recent specialized devices are now capable of providing a Universal Serial Bus USB interface. However all of these devices require that special software software device drivers that understands the inner characteristics of the hardware be developed. Software device drivers are well known to be difficult to develop and to introduce computer instabilities and limitations especially when there is a large number of devices that may give rise to resource sharing conflicts.

As shown in the high level software application modules for a gaming machine according to an embodiment of the present invention may include an audit engine an authentication engine a business engine and or a video entertainment game engine . The audit engine as a passive observation layer transparently intercepts all the important events and all regulatory critical parameters associated with the operation of the specialized devices such as cash cash out or submitted identification information the serial numbers of all connected devices and generates a non modifiable reference audit log that may consulted by the central server s or the PVU . In addition the audit engine compares all devices connected to the gaming machine with a map of authorized regulatory configurations and may alert responsible personnel and or regulators whenever non valid device configurations are encountered such as may occur after replacing devices or relocation of the gaming machine. The audit engine may include instantly accessible non volatile data storage which data storage may be locally or remotely located accessible via network . This would allow resolving data coherence and correctness in case of power failure interruption virus infection and or software crash so as not jeopardize the accuracy of the game record keeping. For example the audit engine allows resolving conflicts wherein a record indicates a win and a payout amount although a power interruption has prevented the full payout from occurring. Moreover the audit engine may keep very specific accounting data as required by a given jurisdiction to meet locally applicable gambling regulations. For example the audit engine may keep a log of each drawn random number combination for audit purposes.

The audit engine may keep audit trails separately for all of the different forms of monetary value that may be accepted by modern gaming machines such as for example audit trails of all wagers found in the coin and currency cash boxes. In gaming machines equipped with coupon readers audit trail of the currency box may contain bar coded coupons of varying amounts in addition to cash. In the case of cashless wagers e.g. those placed from player charge accounts or using some form of electronic money as there is no currency in either of the coin or currency cash boxes the audit trail may include relevant information exchanged during the player identification process retrieval of the balance held in the central server s the wager debits and the prize credits for example.

The authentication engine may include functionality to consult a Certificate Authority which may be located on a server on the network or on a computer network connected thereto certify the authenticity of the identification presented authorize a given operation ensure data integrity of data exchanged securely time stamp the operation to ensure non repudiation of the operation and or revoke illegal identifications for example.

The business engine handles the games rules and the associated bookkeeping and may be subject to regulatory requirements. The business engine handles the business aspects of the game and or entertainment provided controls wagers and maintains the prize matrix. This software application module customarily requires extensive testing by an independent laboratory to receive the certification mandated by local regulatory requirements. The regulatory requirements essentially insure that funds are reliably disbursed to legitimate players and insure that funds are not acquired by other individuals because of flaws cheating and or stealing.

The business engine may include a transaction engine for online operation with the central server s . In the case of game of chance the video entertainment gaming engine receives the current draw from one or more random number generators located inside the gaming machine or outside the gaming machine see reference numbers and in in accordance with local regulatory requirements. In case of games of skills the gaming engine receives the bonus from the business engine in accordance with a given skill strategy which may also require certification by a regulatory body and compliance with local regulatory requirements. An example of skill strategy may be rapidity precision ability to reach a given score intelligence memory ability to focus on critical events amongst less critical events etc. The business engine may have received the applicable regulatory certification as illustrated by the star shaped stamp .

The video entertainment game engine communicates with the business engine to translate the business rules into an attractive interactive experience for the player. Indeed the video entertainment game engine handles the player user interface the multimedia interactive and entertainment and game graphics sound motion feedback and video streaming. The video entertainment game engine may include a library that offers a variety of entertainment multimedia game multimedia and video streaming to suit the player s taste and expectations as well as to accommodate a given strategy formulated by the game operator. For example the engine and library may implement the methods and systems disclosed in commonly assigned U.S. Pat. No. 6 921 331 issued Jul. 26 2005 which patent is hereby incorporated herein by reference in its entirety.

The central server s provides on line control of the gaming machines the PVU and APVUs . An advantageous embodiment of the present invention is for the central server s to instantly capture all the critical events occurring within the entire gaming system including for example when each coin is inserted in the coin acceptor noting its value as well as each coin rejection event. Further operation of the gaming machine may be prevented upon failure of the network . This principle is the basis of operation of large lottery systems whereby thousands of terminals are deployed in remote areas. Such a model has proven to be extremely successful at avoiding fraud including fraud committed by employees having access to sensitive data such as program source code. Performance is not an issue as central server s s may use a farm of Intel Pentium for example based servers and a transactional protocol such as described in commonly assigned application Ser. No. 09 862 165 filed May 21 2001 which application is hereby incorporated herein by reference in its entirety may handle tens of thousands of transactions per second with a guaranteed latency for each individual transaction no greater than 200 milliseconds.

It is to be noted that APIs not only define the exchange of information between the adjacent modules but also define how one module may provide services that may be consumed by the other. In this manner one module may be made to control another module.

The specialized devices may be configured to possess the necessary embedded processing resources to control the entire operation of the device and to communicate with high level application software via a clearly defined API or S API. In the capability to control the hardware is represented by the elements named Driver consequently the low level details necessary to operate the specialized device are not made available to the high level software module. According to embodiments of the present invention the device drivers may form part of the embedded software of the specialized devices or may form part of the software of the platform such as a PC or other computing platform so as to offer an API to the audit engine . Each specialized device may also be configured to supply its identity to the central server s this is represented by the element named ESN which is an acronym for Electronic Serial Number. It is advisable to rely on secure means of authentication that may cooperate with the authentication engine to ensure that the ESN is not associated with an illegal specialized device. Embodiments of the specialized devices may include secure ESN secure serial numbers that may be seeded with e.g. a X509 certificate or a secret private key via a configuration step such as embedded smart card modules and TPM Trusted Platform Module of the Trusted Computing Group . The authentication engine may advantageously maintain a registry of authorized devices and may dispatch alerts to prevent illegal devices from operating. The player video displays other player displays and player interactive controls are preferably modular devices capable of communication via a clearly defined API. Moreover the audit engine may read and record the serial numbers of each device connected to or coupled with the gaming machine.

According to embodiments of the present invention some or all of the specialized devices may have their hardware aggregated such as to present only one coupling interface. For example video displays non video displays interactive controls and card reader may be aggregated into a single specialized device mounted in on or coupled to the gaming machine. For example a player tracking device running WINDOWS CE operating system may be loosely coupled via the communication network to a high level software module running in the central server the high level software module implementing a player tracking management function.

SOAP forms the foundation layer of the Web services stack for providing a service oriented messaging framework featuring a basic messaging framework that more abstract layers can build on. SOAP is a protocol for exchanging XML based messages over computer networks using the HTTP HTTPS stack notably the following two methods HTTP request or GET and HTTP response or POST . There are several different types of messaging patterns in SOAP but by far the most common is the RPC pattern in which one network node the client sends to another node the server a request message for a service to be provided the request may contain input parameters and the server subsequently sends to the client a response message containing the return which may contain output parameters in accordance with the provided service. A node is a device that is connected as part of a computer network. For example a node may be or include a computer a personal digital assistant a cell phone a router a switch a hub a server a workstation a handheld PC gaming machine specialized device or ATM.

SOAP is the successor of XML RPC. SOAP originally stood for Simple Object Access Protocol and lately also Service Oriented Architecture Protocol but is now simply SOAP. The SOAP specification is currently maintained by the XML Protocol Working Group of the World Wide Web Consortium. SOAP is encapsulated in the Microsoft WCF Windows Communication Foundation available in .NET Framework 3.0 and later versions.

In a preferred embodiment abstract layers may be build on SOAP for providing a service oriented architecture SOA such as a game service bus whereby the game service bus provides a publish and subscribe message bus. A bus according to embodiments of the present invention is a service messaging engine based on for example standards such as SOAP RPC Microsoft Remoting CORBA RSS and or Microsoft WCF Windows Communication Foundation of .NET Framework 3.0 .

The game service bus according to embodiments of the present invention provides high level applications and specialized devices with a uniform set of mechanisms for negotiating service messages on the communication bus such as naming discovery message routing publish and subscribe eventing message transformations workflows communication recovery from nodes powering off then on again and so on. The game service bus may be deployed within a casino property via private Intranet or across casino properties via public Internet using secure communication means such as VPN SSL or IPSec for example . MICROSOFT Biztalk Services www.biztalk.net may advantageously be used to quickly deploy a service bus across properties. Biztalk Services is an Internet Service Bus i.e. a fabric that interconnects distributed applications.

The service bus framework or fabric allows participating communicating end points or nodes to publish services or subscribe to services in a simple high level fashion enabling the devices to understand one another thus to talk to one another. The talking together paradigm is rather appropriate as it emphasizes the value that the service bus brings to a complex distributed casino gaming system that may include thousands of devices manufactured by dozens of vendors.

According to an embodiment of the invention a casino progressive Jackpot server may advantageously be built on the game service bus framework whereby the progressive Jackpot is a service provider to gaming machines that subscribe to the services offered by the Jackpot service provider. The jackpot grows progressively as each spin hand played on a connected gaming machine adds a small credit to the running jackpot total. Several casinos may join together to form an inter casino progressive jackpot that can generate very large sums. In this example a progressive Jackpot high level application service may be hosted on a server and published across the network. Each participating gaming machine may subscribe to the published progressive Jackpot service may contribute to the jackpot at every spin hand played and may claim the jackpot if the winning jackpot combination is drawn.

According to embodiments of the present invention each gaming machine may publish its accounting meters via the game talk service bus and then authorized management servers workstations mobile handhelds and peer gaming machines may register to receive all or a subset of the accounting meters each time they are updated at a predetermined interval or upon the occurrence of a predefined event for example.

The ticket printer in each gaming machine may according to further embodiments of the present invention publish its printing services via the game talk service bus. Authorized management servers workstations mobile handhelds and or peer gaming machines for example may then register to print a ticket. For instance a promotional central server may print a free meal ticket for the player currently playing on the gaming machine he or she is currently playing on either as a random bonus or because the play profile of the player meets predetermined criteria for the awarding of such a meal ticket. Likewise a floor manager carrying a wireless mobile handheld and observing a player may print on the player s gaming machine printer a free trial coupon for a new game that has just been released and that may suit the player s playing style style as observed by the floor manager.

According to further embodiments of the present invention a central logistic support server may subscribe to the printers services a printer being installed in each gaming machine for a paper low or paper jam alert and the technician closest to the gaming machine having the necessary repair skill or paper supply may receive instantly an SMS message on his location finder equipped mobile phone to attend to the problem. The central logistic support server and the location finder equipped mobile phones may be supplied by a third party vendor specialized in automated geo localized logistic support or geo localized services for large factories such as car manufacturing plans airplane manufacturing plans airports harbor facilities for example. The central casino management system may also subscribe independently to the printers alerts for general accounting purposes.

Each gaming machine according to still further embodiments may publish player tracking services that a reads the player tracking card inserted in a card reader specialized device b displays player tracking information on at least one of the player display e.g. via a dedicated video display via pop up overlapping windows over a player video display via a sliding overlapping windows over a player video display via alpha blended outlined data icons or sprites over a player video display or any other mechanisms to overlay information over a player video display and c interacts with the player e.g. via a touch screen a keypad a pointing device a joystick biometric input . A central player tracking management system that may advantageously leverage on intelligence data retrieved from the casino property hospitality network and servers may subscribe to the player tracking services offered on each gaming machine in order for the central player tracking high level applications to interact directly with a player at the gaming machine.

According to an embodiment of the invention client side player tracking services may be offered by a specialized device including for example a an embedded computer controller running Windows CE b a touch screen video display c a card reader or any other means of player identification such as smartcard reader PIN entry pseudo password entry biometric identification etc. d a network interface for communicating over the game talk service bus and e controlling software to provide the client side player tracking software services.

In a service oriented architecture such as SOAP IBM SOA and a game service bus the term publishing a service or services encompasses within its scope the functionality of providing a service or services and the term subscribing to a service or services encompasses within its scope the functionality of consuming or invoking a service or services . The binding term is associated with the capability for allowing the publisher provider to perform an asynchronous callback to the subscriber consumer when a subscribed service or services is are available data update for example . The term publishing a service or services includes within its scope the functionality of exposing a service or services .

In a service oriented architecture based on SOAP CORBA IBM SOA and Web services for example services may be discovered using service discovery protocols. Service discovery protocols are network protocols which allow automatic detection of devices and services offered by these devices on a computer network. There are many service discovery protocols including for example DNS Service Discovery DNS SD Service Location Protocol SLP Simple Service Discovery Protocol SSDP as used in Universal Plug and Play UPnP Universal Description Discovery and Integration UDDI for Webservices JINI for JAVA objects BLUETOOTH Service Discovery Protocol SDP WS Discovery Web Services Dynamic Discovery Internet Storage Name Service iSNS Web Proxy Autodiscovery Protocol and Dynamic Host Configuration Protocol to name but a representative few.

The RNG random number generator located within the gaming machine preferably behaves in the same manner as a specialized device and therefore has the same networking API and secure communication characteristics requirements and behaviors. The gaming machines may selectively receive random numbers for the game draw from different sources to accommodate the various regulatory requirements mandated by given states or given countries. As represented in the sources for such random numbers may be internal to the gaming machine as shown at wherein the RNG is configured as a specialized device may originate from a RNG generator internal or coupled to the PVU or APVU and or from a RNG generator or generators internal or coupled to the central server s . According to one embodiment of the present invention a RNG generator may be provided for each gaming machine each PVU and for each central server . For example a single or a plurality of RNG generators coupled to the central server s may provide random number combinations to a large number of geographically distributed gaming machines. Also a single or multiple RNG generators coupled to the PVU or APVU may provide random number configurations for selected gaming machines at a single location within a cluster and or to several clusters as shown in . This configuration offers a great degree of flexibility and allows the present gaming system to meet most any applicable regulatory requirement relating to the RNG generators.

It is to be noted that all the modern technologies for offering network services and consuming network services via wired or wireless networks have very high security protection using advanced security techniques such as authentication encryption Secure Sockets Layer SSL Public Key Infrastructure PKI Kerberos True Random Number Generators for generating secret keys with maximum entropy hopping keys constantly changing keys 128 bit Wired Equivalent Privacy WEP algorithm etc. In addition a Virtual Private Network VPN tunnel may be used for secure inter module communication. For example a VPN tunnel may be established between the bill dispenser specialized device and the central server s or one or more software modules located on the central server s . A preferred embodiment of the present invention is to use the IPSec communication encryption standard that can be conveniently applied as a system wide policy.

Moreover a Network Access Point component may be introduced that simply allows the APIs of the specialized devices to be directly supported and controlled over the network . These Network Access Points are sometimes called IP Converters . Examples of such network access points or IP converters include the USB to Ethernet converter from Inside Out Networks www.IONetworks.com and the RS232 to Ethernet from Moxa Technologies www.moxa.com . Ideally an Ethernet interface would be directly embedded on processing hardware that controls the specialized device.

An embodiment of the present invention includes the use of the IP protocol for intercommunication between each of the modules shown in . Other existing or future protocols may also be used such as for example IPX from NOVEL however the IP protocol is universally used for the Internet and many communicating products and components support it. The payment and identification devices may be coupled to the Network Access Point or IP Converter by an RS232 RS485 USB I2C 802.11 BLUETOOTH Ethernet FIREWIRE or most any standardized interface.

An embodiment of the present invention includes automatic binding of specialized devices with the central server s following their activation for example after power on or reset. shows a simplified diagram wherein a specialized device coupled to the central server s by network sends following its activation broadcast packets over the network indicating its availability. The broadcast packet may contain data identifying the specialized device and describing its location and capabilities. The server that needs to communicate with this specialized device then enters into a binding protocol in order to establish bi directional communication. A preferred embodiment for the automatic binding is the Universal Plug and Play standard proposal led by Microsoft although other binding protocols may be used.

According to another embodiment of the present invention the specialized devices may be configured to offer asynchronous notification of events directly to the central server s over a communication network such as shown at for example. shows a simplified diagram wherein a specialized device coupled to the central server s by a network sends asynchronous notifications packets to the central server s following an event being received by the specialized device or an event generated by the specialized device. For asynchronous notification of events the server s may register subscribe with the specialized devices for the list of events that are of interest. Then the event notification process running in the specialized device may produce a call back to the server s thus the name callback in order to pass details on the event information when it occurs. A mechanism to un register unsubscribe may be provided wherein the server s may inform the specialized device to stop sending asynchronous notification of events. A preferred embodiment of the asynchronous notification of events is the callback feature of COM DCOM REMOTING technologies from MICROSOFT and the callback capability of SOAP although other technologies may be implement within the context of embodiments of the present invention.

Moreover the technologies for offering and consuming services over a network such as network work equally well without any network consequently the high level software modules may remain unchanged whether or not a network exists inside the gaming machine for inter module communication. Thus the same high level software modules may be used whether the gaming machine relies on a tightly coupled configuration as shown in or on a loosely coupled configuration as shown in .

The flexibility to configure a gaming machine in a variety of ways and avoid modifying high level software modules especially certified modules is immensely valuable for a company that produces gaming machines to the global market as regulatory requirements vary significantly from country to country and from state to state. Moreover a manufacturer may more readily leverage on advanced integrated software development platforms such as Microsoft .NET to promote significant re use of code across the product line accelerate development time improve code quality facilitate code maintenance and upgrade and reduce development cost.

Network Services deliver loose coupling services between service requestors and service providers. Service requestors consume services provided by services providers. Publication of service descriptions play a central role to enable service requestors to discover available services and hind to them. The service descriptions allow service requestors to bind to the service provider. The service requestor obtains service descriptions through a variety of techniques from the simple e mail me the service description approach to techniques such as MICROSOFT DISCO and sophisticated service registries like UDDI.

Network services offer a network distributed objects services infrastructure for transparent activations and accessing of remote objects services. Objects are typically the EGD s peripherals such as a note acceptor and the services are the functions performed by the peripheral that are accessible externally via the IP network such as the value of the banknote entered. The central server is typically a service requester. Peripherals are commonly service providers as well as service requestors consuming services provided by the central server . In the same way the central server is a services requestor and a services provider.

For embodiments of the present invention MICROSOFT DCOM is a currently preferred technology as DCOM support is already integrated into MICROSOFT WINDOWS CE and EMBEDDED XP although embodiments of the present invention may be readily configured using other technologies as those of skill in this art may appreciate. In the long term MICROSOFT.NET web services over a private IP network or VPN over Internet may become the preferred technology as it offers flexible and dynamic discovery of Net Web services. The notion of a private or non operator UDDI node is critical to the emergence of a dynamic style of a service oriented architecture. As of this writing Microsoft MICROSOFT has announced support of .NET web services in WINDOWS CE.NET.

The advantages of the configuration described above include significantly increased data integrity fully on line system fault disaster tolerant central server s significantly strengthened fraud control fully on line system centralized audit log centralized code execution quality code centralized authentication significantly increased stability server class operating system quality code fault tolerant central server s immediate code upgrade capability accurate and instantly available audit all the gaming machine critical events are instantly logged in the centralized audit log . Moreover the hardware necessary to support the execution the video entertainment games engine software module may be a very economical yet extremely multimedia capable game console such as MICROSOFT XBOX or SONY PLAYSTATION for example.

An alternative to the 1U pizza size form factor servers is the blade size factor whereby a complete server may be integrated on a narrow board or blade. One presently proposed configuration allows 9 reference numeral or 10 blade servers to be logged into a 3U size rack as shown on the right side of . These racks may then be stacked as shown at . The complete server fits on a small board that may be very easily accessed for replacement or upgrade. Higher density dense servers are being developed that make use of very low power processing components such as fitted in laptops and hand held PCs to help resolve the heat dissipation problem. It is to be noted that each of the servers discussed above may include a complete computer with CPU memory disk network interface and optionally full graphics. Large server farms that have on the order of 10 000 servers employ this type of dense server technology.

According to one embodiment of the present invention each server shown in corresponds to a central server and may be associated with and connected to a remotely located gaming machine. Preferably each server shown in is configured for multimedia graphics generating 3D video and data streams encoded according to an MPEG standard for example. In this manner the central servers may be constructed of an array of inexpensive servers such as off the shelf PCs. Indeed according to another embodiment of the present invention the video stream shown to the player is generated in MPEG4 format for example and streamed to the gaming machine over a broadband connection.

Suitable means of transmitting such a video signal to the present gaming machine may include for example cable or wireless TV HDTV or digital TV broadcast whereby each gaming machine is tuned to receive a separate predetermined frequency corresponding to the image to be displayed to the player high quality video streaming such as MPEG2 MPEG4 or other emerging digital video standards via Fast Ethernet such as 100 Mbps 1000 Mbps and upcoming higher bandwidth protocols a fiber optic network a wireless network such as IEEE 802.11b 11 Mbps 802.11a 54 72 Mbps 5 GHz 802.11g 54 Mbps 2.4 GHz and upcoming higher bandwidth protocols. It is to be noted that the means of video transmission and reception listed above whether based on TV technology or media streaming technology are already fairly economical and it is believed that the associated costs will continue to decrease rapidly.

In particular intensive video rendering to the player may be best if generated by an individual server at the central site and then the generated video signal may then be transmitted to the gaming machine. In this manner there is considerable power to generate very advanced and attractive graphics for the player. Real time translation to video streaming such as MPEG2 or MPEG4 may require hardware acceleration that may be carried out by a separate dedicated integrated circuit or alternatively may be directly integrated within the graphic processing unit of the server associated with the gaming machine.

Devices to receive high quality video information from the central server s decode it and display it on a TV screen or a video display monitor are readily available. These devices use advanced electronic components developed for the latest generation Internet ready set top boxes and interactive TV systems. For example such devices may be drawn from the devices and systems disclosed in commonly assigned application Ser. No. 09 932 282 filed Aug. 17 2001 which application is hereby incorporated herein by reference in its entirety.

According to further embodiments of the present invention each of the gaming machines may be configured to selectively offload computations to the farm of computer servers over the communication network. This may be done in a one to one manner whereby a computer server is entirely allocated to a given gaming machine in a one to many manner whereby several computer servers are allocated to one gaming machine or in a many to one manner whereby one computer server is allocated to several gaming machines.

The video rendering and distribution approach described above whereby the intensive graphics operations are performed at the central server s has considerable benefits for the gaming machines notably 

Moreover this approach is ideally suited for offering wireless mobile gaming machines that players may take to the bar the restaurant the swimming pool their hotel room etc.

According to one embodiment of the present invention MICROSOFT DCOM may be advantageously used DCOM support is already integrated into MICROSOFT WINDOWS CE and EMBEDDED XP. In the long term MICROSOFT.NET web services over a private IP network or VPN over Internet may become the preferred technology as it offers flexible and dynamic discovery of Net Web services. The notion of a private or non operator UDDI node is critical to the emergence of a dynamic style of a service oriented architecture. As of this writing MICROSOFT has announced support of .NET web services in WINDOWS CE.NET. These network technologies are encapsulated in the MICOROSOFT WCF Windows Communication Foundation available in .NET Framework 3.0 and later versions.

In the illustrations of and the service discovery is not shown but may include any service discovery protocol as discussed previously such as UDDI and SSDP. UDDI Universal Description Discovery and Integration is a platform independent XML based registry for businesses worldwide to list themselves on the Internet. UDDI is an open industry initiative enabling businesses to publish service listings and discover each other and define how the services or software applications interact over the Internet. UDDI may also be applied in an Intranet network. SSDP Simple Service Discovery Protocol is the basis of the discovery protocol of Universal plug and play. SSDP provides a mechanism through which network clients can use to discover network services. Clients can use SSDP with little or no static configuration. SSDP provides multicast discovery support server based notification and discovery routing. SSDP uses XML UDP unicast and multicast packets to advertise their services.

Nodes may be added and removed to the network new services will be discovered and bound automatically and services that are no longer available will be detected and their associated binding will be terminated. Nodes may be provided by any supplier complying with the service bus protocol. In the figures the SOAP stack is the network service but as may be readily inferred by persons of skill in the distributed network architecture arts any other network service stack offering similar capability may be used including the associated service discovery scheme.

Embodiments of the present invention offer a modular architecture for an on line gaming system that may readily accommodate the wide variety of regulatory requirements encountered around the world. The strongest open security standards may be used. The very complex software code is located in the high level software modules that may advantageously be developed using an advanced unified integrated development environment such as for example MICROSOFT.NET . The various elements may be arranged in a tightly coupled configuration loosely coupled configuration or in a mixture of tightly and loosely coupled configuration without requiring the high level software modules to be entirely redesigned retested and re certified. In most cases the high level software modules may be re used without modification thus saving enormous cost and development validation and testing time. A gaming system may be constructed using a wide variety of computer hardware and software platforms and make use of the latest multimedia technologies to attract the younger generation of players used to flashy and networked games. IP Ready specialized devices using Internet appliance technologies offer tremendous benefit as the gaming machines entertainment machines and payment verification units become a simple shell the devices may be fully managed by the central server s . An advantageous embodiment of the invention is one in which the processing of all the high level software modules including graphics rendering is carried out by the central server s which relies on a server class operating system and fault tolerant computing platform. Consequently embodiments of the present invention provide an architecture that overcomes the technical lag security limitations and lack of stability of the prior art.

Rapidity changing technologies such as advanced multimedia graphics and biometric recognition that require continual increase in processing power are according embodiments of the present invention processed at the central server s . The present gaming machine according to one embodiment thereof only requires means of receiving and displaying high quality video images and means for sending locally captured biometric data such as voice or video image of player to the central server s . Wireless mobile gaming machine may be readily constructed. The central server s constructed with advanced server blades in one embodiment of the present invention may be readily upgraded at any time by plugging in new replacement blades. Moreover it is likely that entire server blades will soon fit on a single integrated circuit. One or more servers therefore may fit on a single integrated circuit. The present gaming machines do not require costly upgrades to take advantage of such multimedia advances. Consequently embodiments of the present invention provide an architecture that overcomes rapid obsolescence of technology. The devices methods and systems disclosed herein provide a flexible architecture that enables international suppliers to readily accommodate the variety of specific regulatory requirements encountered around the world.

Embodiments of the present invention also offer a modular architecture for an on line gaming system that may readily accommodate the wide variety of regulatory requirements encountered around the world. The strongest open security standards may be used. The very complex software code is located in the high level software modules that may advantageously be developed using an advanced unified integrated development environment such as for example Microsoft .NET . The various elements may be arranged in a tightly coupled configuration loosely coupled configuration or in a mixture of tightly and loosely coupled configuration without requiring the high level software modules to be entirely redesigned retested and re certified. Similarly a subset of the specialized devices may have its hardware aggregated such as to present only one coupling interface. Embodiments of video displays non video displays interactive controls and card reader may be aggregated into a single specialized device mounted in the gaming machine for example a player tracking device running WINDOWS CE operating system that is loosely coupled via the communication network to a high level software module running in the central server the high level software module implementing a central player tracking management function. In most cases the high level software modules may be re used without modification thereby affording significant saving in costs and development validation and testing time. A gaming system may be constructed using a wide variety of computer hardware and software platforms and make use of the latest multimedia technologies to attract the younger generation of players used to flashy and networked games. IP Ready specialized devices using Internet appliance technologies offer tremendous benefit as the gaming machines entertainment machines and payment verification units become a simple shell as the devices may be fully managed by the central server s . An advantageous embodiment of the invention is one in which the processing of all the high level software modules including graphics rendering is carried out by the central server s which relies on a server class operating system and fault tolerant computing platform. Consequently embodiments of the present invention provide an architecture that overcomes the technical lag security limitations and lack of stability of the conventional gaming systems.

