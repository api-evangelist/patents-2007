---

title: Customizing application page loading in a discovery interface
abstract: A system provides customized user interface data to a media application, such as a media discovery interface, or to any application for that matter, thereby extending the original application. Via a network connection, elements of the user interface can be downloaded to the application in a package of markup data and resources, including images, text, and links. A user interface framework of the media application processes the markup data from the downloaded package and utilizes packaged resources, local code components, and externally-obtained (e.g., Web resources) to render a customized application page for the media application. Based on a wide variety of computing system and user parameters, the offerings and application pages presented to the user can be filtered and/or reordered to be more appropriate for the computing system and user.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08112714&OS=08112714&RS=08112714
owner: Microsoft Corporation
number: 08112714
owner_city: Redmond
owner_country: US
publication_date: 20070124
---
The present application claims benefit of U.S. Provisional Patent Application No. 60 846 789 entitled Customizing Application Page Loading in a Discovery Interface and filed on Sep. 22 2006 which is specifically incorporated by reference for all that it discloses and teaches.

The present application is related to U.S. patent application Ser. No. 11 657 356 entitled Customizing Applications in a Discovery Interface and filed on Jan. 24 2007 and U.S. patent application Ser. No. 11 657 244 entitled Customizing a Menu in a Discovery Interface and filed on Jan. 24 2007 which are both specifically incorporated by reference for all that they disclose and teach.

The convergence of computing and entertainment continues to provide new content and options for consumers. For example cable subscribers can now access cable television programs and video on demand content VOD through their set top boxes. In one offering video on demand service allows a user to select a program for viewing from a library of programs wherein all of the programs are available at any time and can be paused saved reviewed etc. as opposed to a cable television program that is only available at a scheduled time and duration . Other sources of content may also exist including content from a media library an Internet Protocol IP stream a Web site etc.

Consumers and content providers can find great benefit in the availability of content from so many different types of sources. For example a consumer can view a rerun episode of a cable television program and then search for and view a subsequent episode of the same program over VOD or some other content providing channel. For their part content providers can keep people tuned in with a wider assortment of content and content types.

In providing a user interface to access such a wide variety of content certain media applications provide a discovery interface. In one existing example a discovery interface takes the form of an Electronic Programming Guide EPG . However the available content and more importantly the offerings and the manner in which the offerings are made to the user may need to change over time. Existing EPGs fail to adequately accommodate changes to the user interface and functionality of application pages used to access the ever changing content and offerings.

Implementations described and claimed herein address the foregoing problems by providing customized user interface data for a media application such as a media discovery interface or to any application for that matter thereby extending the original application. Via a network connection elements of the user interface can be downloaded to the application in a package of markup data and resources including images text and links. A user interface framework of the media application processes the markup data from the downloaded package and utilizes packaged resources local code components and externally obtained e.g. Web resources to render a customized application page for the media application. Based on a wide variety of computing system and user parameters the offerings and application pages presented to the user can be filtered to be more appropriate for the computing system and user.

In this manner by leaving some or all of the responsibility for filtering to the user s computing device the task of managing content at the server is greatly simplified. A single version of the package capable of serving all users can be created and maintained. Otherwise a server would need the capacity to either a pre generate and store many possible permutations of the package representing various combinations of user parameters or b dynamically generate a filtered package for each user based on the user parameters at the time it is requested for download.

In some implementations articles of manufacture are provided as computer program products. One implementation of a computer program product provides a computer program storage medium readable by a computer system and encoding a computer program. Another implementation of a computer program product may be provided in a computer data signal embodied in a carrier wave by a computing system and encoding the computer program. Other implementations are also described and recited herein.

This Summary is provided to introduce a selection of concepts in a simplified form that are further described below in the Detailed Description. This Summary is not intended to identify key features or essential features of the claimed subject matter nor is it intended to be used to limit the scope of the claimed subject matter.

In one implementation the computing system executes a media application that manages the user s access to media content whether available locally or remotely. For example the user can use his or her computing system to control a portable media player the tuner device a local media library and other content available from discrete devices or over a communications network . Examples of the control a user may apply can include without limitations transferring content between a portable media player and a local media library scheduling the recording of a cable television program by a digital video recorder not shown coupled to the computing system downloading IP content such as a video or song from an IP content provider etc.

In one implementation the media application also provides the discovery interface on a display device e.g. a monitor or television coupled to the computing device . Discovery data is obtained through a media information service which collects program information about content from a variety of sources. The media information service maps data from a variety of sources to one or more consistent schema enabling a consistent discovery experience and associates the content from different sources to provide interrelationships among content elements. The discovery interface can be represented by an on screen guide such as an electronic program guide EPG although various monikers may be used in other implementations including without limitation interactive program guide IPG and electronic service guide ESG . The discovery interface presents an on screen guide to the available content e.g. broadcast content such as scheduled cable television programs and non broadcast content such as available IP content locally stored media etc. in which broadcast content and non broadcast content are shown together via virtual channels of the unified discovery interface.

In one implementation the discovery interface provides a graphical user interface that can display program titles and other descriptive information collectively discovery data such as a summary actors names and bios directors names and bios year of production etc. In one implementation the information is displayed on a grid with the option to select more information on each program although other formats are also contemplated. Channel identifiers pertaining to the scheduled cable programs the program start and end times genres thumbnail images and other descriptive metadata can also be presented within the discovery interface . Radio and song information may offer other information such as artist album album cover graphics and track title information. The discovery interface allows the user to browse program summaries search by genre channel etc. and obtain immediate access to the selected content reminders and parental control functions. If the computing device is so configured or so connected a discovery interface can also provide control for scheduled recording of programs.

A user can use the discovery interface to navigate select and discover content by a variety of parameters including time title channel genre cost actors directors sources relationships to other content etc. Navigation can be accomplished through the media application by a variety of input devices such as a remote control a keyboard and a mouse. In one implementation for example the user can navigate through the discovery interface and display information about scheduled cable programs video on demand programs and associated IP content within a single presentation frame. By navigating through the discovery interface the user can manipulate and obtain more information about a current program or about other programs available through the discovery interface . For example when the computing device is connected to a cable content provider the user can plan his or her viewing schedule learn about the actors of available programs and record cable programs to a hard disk in the computer device for later viewing.

In one implementation a customized application package can be downloaded to the computing system in order to customize the data and applications available to the user through the discovery interface . The customized application package is typically downloaded from the management interface service but customized application packages may be available from the local or remote media library or from various content providers such as content providers and . A customized application package may include without limitation images listings of available content text markup language files internal and external links used to present a customizable discovery interface to a user etc. In one implementation one or more menus of the discovery interface may be customized with new images text functionality selections endpoints etc. In another implementation individual application pages that are referenced from a menu or other selection may be customized.

In one implementation the start menu is represented internally by a markup data file that specifies a user interface having a set of menu items and offering tiles. A user interface UI framework processes the start menu markup data and renders the start menu on the display accordingly. One or more of the offering tiles may be built into the media application executing on the computing system. For such built in tiles the start menu markup data merely has statically defined links to built in application pages. One or more of the menu items and or offering tiles may also be customizable. For these menu items or offering tiles a placeholder exists in the start menu markup data such that if resources have been downloaded for a specific placeholder the offering tile is rendered for that placeholder.

An end user can then interact with the media application executing on the client computing system to select offerings. For example the end user can select an offering tile from the start menu to access a built in application page a customized application page or a Web application page. In some implementations the end user may employ a remote control a keyboard a mouse a touch screen etc. to interact with the media application.

Built in application pages represent application pages such as built in application page that are incorporated into the distribution of the media application including markup data and resources for individual applications accessible through the start menu and other offering tiles of the media application. Application pages represent customized application pages such as customized application page that have been downloaded in package form such as from a media information system server including markup data and resources of customized applications within the media application. Such packages are typically downloaded to the client computer system on which the media application executes during expected idle periods e.g. overnight . Web application pages such as Web page may be linked to Web resources and downloaded via a network .

Portions of an example markup data listing included within an application package for a customized application page Browse Categories are listed below although similar markup data could be used for a built in application page .

The element defines the user interface for the customized Browse categories application page which can be launched from the browse categories tile in the Online Media section of the Start menu. The user interface elements of this page are based on SpotlightBrowseBasePage which defines common behavior shared by multiple browse pages in the package thereby allowing for a consistent user interface style.

Another portion of the markup data listing see immediately below may define local variables that override selected inherited variables of the same name which are defined in the base user interface class. In this case the Choice object defines each of the pivots e.g. menu items on the application page tv movies music radio etc. The Choice object provides the data for each of the pivots on the page and the items to display in the gallery for each pivot. The names Choice BrowsePivot String Image MarkupBrowseDataSet and MarkupBrowseItem all refer to various managed code classes.

This BrowsePivot object for tv movies references two other user interface elements the ContentItemTemplate and DetailTemplate which are to be found in files entitled GalleryItem.mcml and BrowseDetails.mcml respectively. The ContentItemTemplate specifies the user interface behavior for each individual user interface element to be displayed in the gallery. The DetailTemplate specifies the user interface behavior for some additional details that are displayed at the bottom of the customized application page.

Each of the next two sections defines an offering tile in the customized application page. One is labeled TVTonic with a tile graphic is defined by a bitmap image at data Spotlight 1112.gif . The TVTonic offering tile is set to a URL that references a target Web application page at http www.tvtonic.com activation MCE link games and includes a tracking identifier. It should be understood that the TVTonic offering tile could alternatively have referenced another customized application page or a built in application page in which case the NonMcmlUrl variable would be set to a URL for such a page.

The TVTonic offering tile also has defined slogan text associated with the tile Subscribe to game trailers videoblogs more. Free with an associated graphic image which can appear when the TVTonic offering tile has the focus.

Another offering tile for American Chopper is defined below with a reference to a Web application page.

Another user interface behavior called MoreTV and defined in the same package is based on the BrowseCategories user interface element defined above. The MoreTV user interface element initializes the pivots such that the pivot with index 0 e.g. the tv movies pivot will be selected when the page is first loaded.

In the application package or in the native media application example markup data defines the Base user interface element for browse application pages Browse Page . The SpotlightBrowseBasePage user interface element above defines the base user interface element for the browse pages in the Spotlight package. This user interface element is itself based on a user interface element named Browse which defines the common behavior for all browse pages throughout the media application and is an example of a built in application page. The browse page uses a model object that provides the content for the page. Initially the model is an empty placeholder that will be replaced with the actual data at runtime.

A local variable named Pivots is defined. This variable s value is intended to be overridden by any user interface element that is based on this user interface element.

The customized application package can also define user interface rules for customized application page. A rule copies the local Pivots variable to the Pivots property of the Model making the content available to the page. A rule initializes the SMAppGuid property of the PageModel. Note GUID refers to a Globally Unique IDentifier. The value identifies the Start menu section with which this page is associated providing the customized application page with a reference back parameter to the calling application page e.g. the start menu and further to a specific user interface element of the calling application page that was selected to invoke the customized application page. In this manner the customized application page is integrated with other application pages of the media application to allow navigation to and from the page. This particular value corresponds to the Online Media section. If the user invokes a back navigation action while on this page the Start menu will be displayed with the Online Media section in focus.

Portions of another example markup language listing below define the user interface element for individual items in the gallery based on a shared Base UI GalleryItem. The ThumbSize and NumberOfRows properties of the base user interface element are overridden to customize the appearance of the gallery items. As the user navigates around the gallery various items gain and lose the focus. Each time an item gains or loses focus a corresponding property on the underlying model item is set using a Binding e.g. .

The ThumbSize and NumberOfRows properties of the base user interface element are overridden to customize the appearance of the gallery items. As the user navigates around the gallery various items gain and lose the focus. Each time an item gains or loses focus a corresponding property on the underlying model item is set using a Binding e.g. .

A user interface framework processes the markup data of the shell the built in application pages and the downloaded application pages . As for the shell the user interface framework parses the start menu markup data for example and renders the start menu defined by the markup data. The shell also handles navigation events for navigating among application pages and the detection loading of the downloaded application packages . In the cases of both built in application pages and downloaded application pages when the appropriate application is triggered e.g. by activation of an offering tile by the user the user interface framework ingests the markup language of the application pages referenced by the trigger and renders the application page defined by the markup data.

The markup data for application pages and and the shell can reference code in a library of code components. These code components provide functionality such as manipulating and filtering tables of content metadata initiating and controlling playback of media content and interacting with the operating system etc. The markup data references a specific code component and the user interface framework includes the functionality to execute the code in the context of the current user interface.

Portions of an example application package are described below which describe labels and links that correspond to various user interface elements on the Start menu. A string definition section immediately below defines references used to construct the customized application page. A first string in each pair defines the label to display on screen in association with an offering tile. A second string in each pair defines either the name of a markup resource contained in this application package or the URL of a built in application page or a Web application page to be retrieved from the Internet.

The markup data in the package defines one or more items distributed by the content management system in a package drop. Although each item is potentially available to the user of a particular computing system e.g. in a menu or application page the operations selectively present each offering to the user based on properties of the computing system and or the user. The selection of an item is controlled by a set of one or more constraints associated with the item in the markup data. Examples of constraints may be generally allocated into categories in accordance with one implementation although other constraints and categories may be employed.

In one example category which may be referred to as application configurations a constraint may be evaluated against a configuration parameter that identifies characteristics or capabilities of the media application executing on the client computer. Example application configuration parameters may identify without limitation a user identifier a user address or location a geographical locale a language preference the version of the application an OEM or marketing program identifier e.g. identifying a manufacturer of the client computer system or components thereof etc. In another example category which may be referred to as system configurations a constraint may be evaluated against a configuration parameter that identifies characteristics or capabilities of the client computing system or components thereof. Example system configuration parameters may identify without limitation an OEM or marketing program identifier e.g. identifying a manufacturer of the client computer system or components thereof whether the system is connected to a specified peripheral domain or server whether the system is connected to a console extension whether the system is coupled to a tuner e.g. a radio or television tuner which processor architecture the system supports e.g. as specified by a processor architecture descriptor stored within a configuration datastore registry memory location register etc. etc.

In another example category which may be referred to as time constraints a constraint may be evaluated against a time or date value e.g. as determined from a system or network clock . Example time constraints may include without limitation a start time an end time and or a time range all of which may specify a specific time and or date value. Such constraints may specify when a particular offering resource or application may be presented to the user through the media application.

Furthermore using the various constraint types AndConstraint OrConstraint and NotConstraint arbitrary Boolean expressions involving multiple constraints can be constructed. The property values evaluated in the constraints may be retrieved from a registry or other configuration data store or source.

Portions of example markup data for application page TestCases which includes certain constraints are listed below. In the first set of constraints immediately below the constraints are based on the architecture of the processor architecture of the client computer.

Other constraints may include without limitation the OEM e.g. Dell of the client computer the marketing program associated with one or more components of the client computer e.g. Viiv the language or locales of the client computer system e.g. U.S. English Australian English Spanish etc. specific capabilities of the application e.g. capabilities of the media application that is accessing the downloaded packages such as requires console to indicate that the offering should be visible on the console but not on a remotely connected device or requires TV to indicate that the offering should visible be visible only if a TV tuner is configured application product versions etc. Some of these specific capabilities may be determined by logic within the application e.g. distinguishing between console and non console configurations by accessing a configuration datastore such as a registry to read a setting created when a TV tuner is initially installed and configured for use etc.

Other loading constraints may include a limited time range a start time or an end time relative to which an offering is available. For example if the offering is related to the availability of Academy Award nominated movies for a time range spanning before and after the Academy Awards presentation event the offering can be set to be visible during a specified time period. Likewise start and end time constraints may be applied individually in other implementations. The time range constraint the start time constraint and or the end time constraint may be evaluated against a current time value. It should be understood that the time constraints and time value may specify times and or dates.

In one implementation generic constraints such as those exemplified in the markup data immediately below allow new types of constraints to be included in a package without producing an unknown type error on a non updated downlevel client system.

For example the generic constraint TVParentalRating may not be supported by a downlevel system. In response to the markup language below a generic MarkupBrowseItemGenericConstraint object is created and its properties e.g. Condition Value and SatisfiedIfUnknown are set accordingly based on the generic constraint specified by 

If the current system recognizes the TVParentalRating constraint then the object is called to evaluate the constraint returning the result i.e. TRUE or FALSE . Typically a TVParentalRating value is set by a user in the settings or parental control configuration portion of the application although techniques may be employed. In one implementation the setting is stored in a configuration data store such as a registry. Otherwise the current system does not recognize the TVParentalRating and the object returns the value specified in the SatisfiedIfUnknown property e.g. FALSE .

In one implementation Boolean logic constraints e.g. AND OR NOT etc. may be applied to constraint elements. For example the application may display a certain application page menu item or offering tile if a the system has a x86 architecture AND b supports Viiv OR b is not a French locale based on the example markup data immediately below 

A decision operation determine if and where user interface element e.g. a menu item or an offering tile is indicated in the application page markup data. If such user interface element is found a parsing operation parses the properties of the item including any constraints and combines them into a constraint expression. An evaluation operation evaluates the constraint expression based various computing system and or user parameters. If the constraint expression is evaluated to TRUE as determined by a decision operation then the user interface element will be set to visible in a setting operation . Otherwise the user interface element will be set to hidden in a setting operation . Processing then returns to the decision operation which searches for the user interface element in the markup data and continues to process that item. If no next user interface element exists in the markup data then a rendering operation renders the visible items on the computer system s display. The user interface framework renders the display based on the markup data of the application page.

In an alternative implementation a visible or hidden property need not be explicitly set. Instead a new list of menu items and or offering tiles is constructed to include those elements having constraints that evaluate to TRUE and omitting those elements having constraints that evaluate to FALSE. The user interface elements in this list are the elements that are rendered in the rendering operation .

The example hardware and operating environment of for implementing the invention includes a computing device such as general purpose computing device in the form of a gaming console or computer a mobile telephone a personal data assistant PDA a set top box or other type of computing device. In the implementation of for example the computer includes a processing unit a system memory and a system bus that operatively couples various system components including the system memory to the processing unit . There may be only one or there may be more than one processing unit such that the processor of computer comprises a single central processing unit CPU or a plurality of processing units commonly referred to as a parallel processing environment. The computer may be a conventional computer a distributed computer or any other type of computer the invention is not so limited.

The system bus may be any of several types of bus structures including a memory bus or memory controller a peripheral bus a switched fabric point to point connections and a local bus using any of a variety of bus architectures. The system memory may also be referred to as simply the memory and includes read only memory ROM and random access memory RAM . A basic input output system BIOS containing the basic routines that help to transfer information between elements within the computer such as during start up is stored in ROM . The computer further includes a hard disk drive for reading from and writing to a hard disk not shown a magnetic disk drive for reading from or writing to a removable magnetic disk and an optical disk drive for reading from or writing to a removable optical disk such as a CD ROM or other optical media.

The hard disk drive magnetic disk drive and optical disk drive are connected to the system bus by a hard disk drive interface a magnetic disk drive interface and an optical disk drive interface respectively. The drives and their associated computer readable media provide nonvolatile storage of computer readable instructions data structures program modules and other data for the computer . It should be appreciated by those skilled in the art that any type of computer readable media which can store data that is accessible by a computer such as magnetic cassettes flash memory cards digital video disks random access memories RAMs read only memories ROMs and the like may be used in the example operating environment.

A number of program modules may be stored on the hard disk magnetic disk optical disk ROM or RAM including an operating system one or more application programs other program modules and program data . A user may enter commands and information into the personal computer through input devices such as a keyboard and pointing device . Other input devices not shown may include a microphone joystick game pad satellite dish scanner or the like. These and other input devices are often connected to the processing unit through a serial port interface that is coupled to the system bus but may be connected by other interfaces such as a parallel port game port or a universal serial bus USB . A monitor or other type of display device is also connected to the system bus via an interface such as a video adapter . In addition to the monitor computers typically include other peripheral output devices not shown such as speakers and printers.

The computer may operate in a networked environment using logical connections to one or more remote computers such as remote computer . These logical connections are achieved by a communication device coupled to or a part of the computer the invention is not limited to a particular type of communications device. The remote computer may be another computer a server a router a network PC a client a peer device or other common network node and typically includes many or all of the elements described above relative to the computer although only a memory storage device has been illustrated in . The logical connections depicted in include a local area network LAN and a wide area network WAN . Such networking environments are commonplace in office networks enterprise wide computer networks intranets and the Internet which are all types of networks.

When used in a LAN networking environment the computer is connected to the local network through a network interface or adapter which is one type of communications device. When used in a WAN networking environment the computer typically includes a modem a network adapter a type of communications device or any other type of communications device for establishing communications over the wide area network . The modem which may be internal or external is connected to the system bus via the serial port interface . In a networked environment program modules depicted relative to the personal computer or portions thereof may be stored in the remote memory storage device. It is appreciated that the network connections shown are example and other means of and communications devices for establishing a communications link between the computers may be used.

In an example implementation a user interface framework module a download module a discovery interface module a library of code components and other modules may be embodied by instructions stored in memory and or storage devices or and processed by the processing unit . A personal media library content databases markup data packages resources and other data may be stored in memory and or storage devices or as persistent datastores.

The technology described herein is implemented as logical operations and or modules in one or more systems. The logical operations may be implemented as a sequence of processor implemented steps executing in one or more computer systems and as interconnected machine or circuit modules within one or more computer systems. Likewise the descriptions of various component modules may be provided in terms of operations executed or effected by the modules. The resulting implementation is a matter of choice dependent on the performance requirements of the underlying system implementing the described technology. Accordingly the logical operations making up the embodiments of the technology described herein are referred to variously as operations steps objects or modules. Furthermore it should be understood that logical operations may be performed in any order unless explicitly claimed otherwise or a specific order is inherently necessitated by the claim language.

The above specification examples and data provide a complete description of the structure and use of example embodiments of the invention. Although various embodiments of the invention have been described above with a certain degree of particularity or with reference to one or more individual embodiments those skilled in the art could make numerous alterations to the disclosed embodiments without departing from the spirit or scope of this invention. In particular it should be understood that the described technology may be employed independent of a personal computer. Other embodiments are therefore contemplated. It is intended that all matter contained in the above description and shown in the accompanying drawings shall be interpreted as illustrative only of particular embodiments and not limiting. Changes in detail or structure may be made without departing from the basic elements of the invention as defined in the following claims.

Although the subject matter has been described in language specific to structural features and or methodological arts it is to be understood that the subject matter defined in the appended claims is not necessarily limited to the specific features or acts descried above. Rather the specific features and acts described above are disclosed as example forms of implementing the claimed subject matter.

