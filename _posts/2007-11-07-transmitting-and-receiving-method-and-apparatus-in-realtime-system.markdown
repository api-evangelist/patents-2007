---

title: Transmitting and receiving method and apparatus in real-time system
abstract: A method and apparatus transmitting and receiving in a real-time system are disclosed. The method of transmitting in a real-time system includes scheduling a task included in a socket based on a predetermined transmission option designated to the socket, and transmitting a packet generated by the scheduled task based on the predetermined transmission option, so that real-time communications of a network communication can be secured and resources of the system can be efficiently used, thereby, transmitting and receiving data according to the required characteristics of transmission and reception.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08194658&OS=08194658&RS=08194658
owner: Samsung Electronics Co., Ltd.
number: 08194658
owner_city: Suwon-Si
owner_country: KR
publication_date: 20071107
---
This application claims the benefit of Korean Patent Application No. 10 2007 0001644 filed on Jan. 5 2007 in the Korean Intellectual Property Office the disclosure of which is incorporated herein in its entirety by reference.

One or more embodiments of the present invention relate to a real time system and more particularly to method and apparatus transmitting and receiving a packet in a real time system.

Nowadays a real time system is applied to various fields such as sensor networks remote monitoring RMON network multimedia a control robot for communications and home networks. In such real time system a technique for transmitting and receiving data using a network is absolutely essential. In particular the ability to transmit and receive data in real time is essential for example when multimedia data is periodically transmitted through a uniform bandwidth and when sensor data is transmitted within a predetermined time period.

Various methods to secure real time communications have been introduced in a conventional real time system. For example performing of a mission critical task using an application programming interface API provided from a real time operating system is secured by performing tasks according to their priority or generating a real time event using a timer. However a priority resource allocation method cannot secure real time communications in a network and real time communications cannot be realized according to the characteristics of required transmission and reception.

One or more embodiments of the present invention provide a method and apparatus transmitting a packet in a real time system that secures real time communications in a network and realizes real time communications according to the characteristics of required transmission and reception while efficiently using system resources.

One or more embodiments of the present invention also provide a method and apparatus receiving a packet in a real time system that secures real time communications in a network and satisfies real time communications according to the characteristics of required transmission and reception while efficiently using system resources.

One or more embodiments of the present invention also provide a computer readable recording medium having embodied thereon a computer program executing a method of transmitting and receiving a packet in a real time system that secures real time communications in a network and satisfies real time communications according to the characteristics of required transmission and reception while efficiently using system resources.

Additional aspects and or advantages will be set forth in part in the description which follows and in part will be apparent from the description or may be learned by practice of the invention.

To achieve at least the above and or other aspects and advantages embodiments of the present invention include a method of transmitting a packet in a real time system the method including scheduling a task included in a socket based on a predetermined transmission option designated to the socket and transmitting a packet generated by the scheduled task based on the predetermined transmission option.

To achieve at least the above and or other aspects and advantages embodiments of the present invention include a method of receiving a packet in a real time system the method including transmitting a received packet to a task included in a socket based on a predetermined reception option designated to the socket corresponding to the packet and scheduling the task included in the socket based on the predetermined reception option designated to the socket.

To achieve at least the above and or other aspects and advantages embodiments of the present invention include an apparatus for a packet in a real time system the apparatus including a socket scheduler that schedules a task included in a socket based on a predetermined transmission option designated to the socket and a packet manager that transmits the packet generated by the scheduled task based on the predetermined transmission option.

To achieve at least the above and or other aspects and advantages embodiments of the present invention include an apparatus for receiving a packet in a real time system the apparatus including a packet manager that transmits a received packet to a task included in a socket based on a predetermined reception option designated to the socket corresponding to the packet a socket scheduler that schedules the task included in the socket based on the predetermined reception option designated to the socket.

To achieve at least the above and or other aspects and advantages embodiments of the present invention include a computer readable recording medium having embodied thereon a computer program for executing a method including scheduling a task included in a socket based on a predetermined transmission option designated to the socket and transmitting a packet generated by the scheduled task based on the predetermined transmission option.

To achieve at least the above and or other aspects and advantages embodiments of the present invention include a computer readable recording medium having embodied thereon a computer program for executing a method including transmitting a received packet to a task included in a socket based on a predetermined reception option designated to the socket corresponding to the packet and scheduling the task included in the socket based on the predetermined reception option designated to the socket.

Reference will now be made in detail to embodiments examples of which are illustrated in the accompanying drawings wherein like reference numerals refer to the like elements throughout. Embodiments are described below to explain the present invention by referring to the figures.

Referring to the apparatus transmitting and receiving a packet in a real time system may include for example a socket scheduler a protocol stack a transmission packet manager a network interface and a reception packet manager .

The socket scheduler may generate sockets when tasks are to communicate with a network. In an embodiment the socket scheduler may designate an option for transmitting and receiving a packet to a socket that is to be generated. Also tasks included in the socket that is to be generated may be scheduled according to the designated transmission reception option by the socket scheduler .

The protocol stack controls the flow of the packet that is to be transmitted or received and may add a header to a transmitted packet or separate an added header from a received packet. The protocol stack may provide various protocols for example including unicast multicast TCP IP and UDP.

The transmission packet manager may transmit the packet generated from the task scheduled by the socket scheduler to a network through the network interface . In an embodiment the transmission packet manager may transmit the packet to the network based on the transmission reception option designated to the socket corresponding to the packet that is to be transmitted.

The reception packet manager may transmit the packet received through the network interface and the protocol stack to the task included in the corresponding socket that is one of the tasks that is a destination of the received packet based on the transmission reception option designated to the corresponding socket.

The socket scheduler may include for example a socket generation unit a socket register a socket scheduler table and a task selector .

The socket generation unit may generate sockets when the tasks are to communicate with the network. In an embodiment the socket generation unit may designate the option for transmission or reception to the socket that is to be generated. Some examples of the transmission or reception designated options may be as follows.

SO TXDEADLINE a transmission deadline for which the packet should be transmitted within a predetermined time after a transmission request is generated that is when a packet should be transmitted based on a transmission deadline.

SO RXDEADLINE a reception deadline for which the packet should be transmitted to a specific task within a predetermined time after the packet has entered in a reception packet queue where the packet that entered through the network interface is temporarily stored that is when the packet should be transmitted in a reception deadline.

Among the options above SO TXCYCLE SO RXCYCLE SO TXDEADLINE and SO RXDEADLINE may be expressed for example in a timer tick of a system or a time unit.

In addition the options may be designated using a setsockopt function that designates an option to the socket provided from a general socket API. The form of the setsockopt function may be as follows 

The second parameter of the setsockopt function level is generally referred to as a level of a socket that is which option is to be designated and the level of the socket may include SOL SOCKET IPPROTO IP and IPPROTO TCP. SOL SOCKET each of which may be used as the level of the socket to designate the options above. Additionally the values of the options may be designated while generating the sockets however these values may be changed according to requirements even after the sockets are generated.

First the socket register may determine the deadlines of each socket using the transmission cycle the transmission deadline or the system time from among the options designated to the socket. For convenience of explanation the transmission cycle the transmission deadline the system time and the deadline of the socket may be referred to as Tp Tdl Ts and Dn respectively. If only the transmission cycle is designated to the socket option the socket register may determine the deadline Dn as Dn Ts Tp and if only the transmission deadline is designated to the socket option the socket register may determine the deadline Dn as Dn Ts Tdl. In addition when both the transmission cycle and the transmission deadline are designated to the socket option the deadline Dn may be determined as Dn min Ts Tp Ts Tdl that is the minimum value among Ts Tp and Ts Tdl. Also the socket register may register the socket to the socket scheduler table .

The task selector may synchronize with the system time and select the task included in each socket registered in the socket scheduler table according to the deadline Dn designated as above and thereby may schedule the task. More specifically the task selector may select and execute the task that is the nearest to approaching the deadline Dn from among the tasks included in the sockets registered in the socket scheduler table that is the task included in the sockets having the nearest deadline Dn to the system time so that the selected task may perform a process related to transmission. However when two or more tasks having an identical deadline Dn exist the task with the highest priority may be selected from among the options above so as to be executed according to priority. If two or more tasks both having identical deadlines Dn and priority a round robin technique may be used to allocate the CPU time by going around each time slice e.g. by assigning time slices to each task in equal portions and in order thereby handling all tasks without priority.

A process of scheduling a task with the socket scheduler when receiving is typically the same as a process of scheduling a task when transmitting except that the deadline of the socket Dn is embodied using the reception cycle and the reception deadline instead of the transmission cycle Tp and the transmission deadline Tdl. However in the case of a task that is performed after the packet has been received from the reception packet manager here if the packet is not received the process typically cannot be performed.

The transmission packet from the protocol stack generally has the properties of a socket that requests transmission of a packet as is that is a socket ID Sn the deadline Dn and a priority Pn. The socket ID Sn is typically an identifier provided to the socket when the socket is generated the deadline Dn is typically a value determined in the socket register and the priority Pn is typically the priority determined for the socket in the socket generation unit .

The transmission packet manager generally arranges each packet to a transmission packet queue according to the deadline Dn and the priority Pn of each packet. In this case a sorting algorithm which is suitable for the applied system may be used as an arranging method for example a timing sort algorithm. In addition the transmission packet manager may synchronize with the system time and transmit the packets arranged in the transmission packet queue through the network interface according to the deadline Dn and the priority Pn of each packet. More specifically the packet that is approaching the deadline Dn that is the packet having the nearest deadline Dn to the system time is generally transmitted. However when two or more packets having the same deadline Dn exist the packet with the higher priority may be transmitted. When two or more packets both having the same deadline Dn and priority exist a round robin technique may be used.

The received packet from the protocol stack has the properties of a socket that requests reception of a packet as it is that is a socket ID Sn a deadline Dn and a priority Pn . The socket ID Sn is typically an identifier provided to the socket when the socket is generated the deadline Dn is typically a value determined in the socket register and the priority Pn is typically the priority determined for the socket in the socket generation unit .

The reception packet manager may arrange each packet to a reception packet queue according to the deadline Dn and the priority Pn of each packet. In this case a sorting algorithm which is suitable for the applied system may be used as an arranging method for example a timing sort algorithm. In addition the reception packet manager may synchronize with the system time and transmit the packets arranged in the reception packet queue to one of the specific tasks of the socket scheduler that is a task included in the socket that requests a reception of the corresponding packet according to the deadline Dn and the priority Pn of each packet. More specifically the packet that is approaching the deadline Dn that is the packet having the nearest deadline Dn to the system time is generally transmitted. Meanwhile when two or more packets having the same deadline Dn exist the packet with the higher priority may be transmitted. When two or more packets both having the same deadline Dn and priority exist a round robin technique may be used.

If a socket is generated in operation a socket option may be checked in operation e.g. by the socket register . If it is determined that the transmission cycle Tp has been designated in operation whether the transmission deadline Tdl has been designated may be determined in operation . Hence if it is determined that the transmission deadline Tdl has been designated in operation that is when both the transmission cycle and the transmission deadline have been designated the deadline Dn may be determined as Dn min Ts Tp Ts Tdl in operation . If it is determined that the transmission deadline Tdl has not been designated in operation that is if only the transmission cycle Ts has been designated the deadline Dn may be determined as Dn Ts Tp in operation .

If it is determined that the transmission cycle Tp has not been designated in operation whether the transmission deadline Tdl has been designated may be determined in operation . Here if it is determined that the transmission deadline Tdl has been designated that is if only the transmission deadline Tdl has been designated the deadline Dn may be determined as Dn Ts Tdl in operation . If it is determined that the transmission deadline Tdl has not been designated in operation a re generation of the socket may be requested to the socket generation unit in operation .

A determination of a deadline of the socket that requests reception of the packet is generally the same as the determination of the deadline of the socket as described above where the socket requests transmission of the packet except that the deadline of the socket is embodied using the reception cycle and the reception deadline instead of the transmission cycle Ts and the transmission deadline Tdl.

In operation the task selector may search for the task that is the nearest to the deadline from among the tasks in the socket scheduler table that is the task having the nearest deadline to the system time.

In operation the task selector may determine whether there is a plurality of tasks that are nearest to the deadline. Hence if it is determined that there is not a plurality of tasks in operation operation may be performed. In operation the task selector may select the searched task that is the nearest to the deadline in order for the selected task to be executed.

If it is determined that there is a plurality of tasks that are nearest to the deadline in operation that is when two or more tasks having the same deadlines exist in operation operation may be performed.

In operation the task selector may determine if the searched tasks have the same priorities. Hence if it is determined that the tasks do not have the same priorities operation may be performed. In operation the task selector may select the task having the highest priority in order for the selected task to be executed.

If it is determined that the searched tasks have the same priorities in operation operation may be performed. In operation the task selector may process the tasks using a round robin technique for example.

In operation the socket register may update the deadlines of each socket and the process may return to operation to repeatedly perform each of the operations through .

In addition to the above described embodiments embodiments of the present invention can also be implemented through computer readable code instructions in on a medium e.g. a computer readable medium to control at least one processing element to implement any above described embodiment. The medium can correspond to any medium media permitting the storing and or transmission of the computer readable code.

The computer readable code can be recorded transferred on a medium in a variety of ways with examples of the medium including recording media such as magnetic storage media e.g. ROM floppy disks hard disks etc. and optical recording media e.g. CD ROMs or DVDs and transmission media such as media carrying or including carrier waves as well as elements of the Internet for example. Thus the medium may be such a defined and measurable structure including or carrying a signal or information such as a device carrying a bitstream for example according to embodiments of the present invention. The media may also be a distributed network so that the computer readable code is stored transferred and executed in a distributed fashion. Still further as only an example the processing element could include a processor or a computer processor and processing elements may be distributed and or included in a single device.

According to one or more embodiments of the present invention the task included in the socket may be scheduled based on the transmission reception option designated to the socket and the packet generated by the task may be transmitted received based on the transmission reception option. Therefore real time communications of a network communication may be secured and resources of the system may be efficiently used thereby transmitting and receiving data according to the characteristics of transmission and reception required.

Although a few embodiments have been shown and described it would be appreciated by those skilled in the art that changes may be made in these embodiments without departing from the principles and spirit of the invention the scope of which is defined in the claims and their equivalents.

