---

title: Billing, alarm, statistics and log information handling in multi-services gateway device at user premises
abstract: A gateway device for operation at a user premises having at least one endpoint device associated with the gateway device, the gateway device being in communication with a remote service manager comprises an application service module having at least one application, the application service module being remotely managed by a remote service manager via a connection, the application service module residing on a user premises side of a network service provider demarcation, a user module having a user interface that is associated with the at least one application, wherein the user module enables bi-directional communications with the at least one endpoint device, a network module having the connection that enables bi-directional communications with the remote service manager, a processor coupled to the user module, application service module, and network module, and a storage device coupled to the processor operable to store operational information generated by and related to the gateway device, and having a management module operable to generate, collect, process, and provide access to the operational information under the control of the remote service manager.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08031726&OS=08031726&RS=08031726
owner: Prodea Systems, Inc.
number: 08031726
owner_city: Plano
owner_country: US
publication_date: 20071228
---
This application claims the benefit of U.S. Provisional Application No. 60 882 865 Filed Dec. 29 2006 entitled A Multi Services Application Gateway And System Employing The Same and of U.S. Provisional Application No. 60 882 862 Filed Dec. 29 2006 entitled System And Method For Providing Network Support Services And Premise Gateway Support Infrastructure the disclosures of which are incorporated herein by reference.

This application is related to co pending applications U.S. patent application Ser. No. 11 966 884 filed Dec. 28 2007 entitled Activation Initialization Authentication and Authorization for a Multi Services Gateway Device at User Premises and to U.S. patent application Ser. No. 11 966 945 filed Dec. 28 2007 entitled System and Method to Acquire Aggregate Manage and Distribute Media and to PCT International Application No. PCT US2007 019546 filed Sep. 7 2007 entitled Multi Services Application Gateway and to PCT International Application No. PCT US2007 019544 filed Sep. 7 2007 entitled System and Method for Providing Network Support Services and Premises Gateway Support Infrastructure and to PCT International Application No. PCT US2007 019545 filed Sep. 7 2007 entitled Subscription Management of Applications and Services Provided Through User Premises Gateway Devices and to PCT International Application No. PCT US2007 019543 filed Sep. 7 2007 entitled Demarcation Between Service Provider and User in Multi Services Gateway Device at User Premises and to PCT International Application No. PCT US07 0195333 filed Sep. 7 2007 entitled Display Inserts Overlays and Graphical User Interfaces for Multimedia Systems and to PCT International Application No. PCT US07 19534 filed Sep. 7 2007 entitled Presence Status Notification From Digital Endpoint Devices Through a Multi Services Gateway Device at the User Premises and to PCT International Application PCT US2007 019483 filed Sep. 7 2007 entitled Managed File Backup and Restore at Remote Storage Locations Through Multi Services Gateway Device at User Premises and to PCT International Application No. PCT US2007 019531 filed Sep. 7 2007 entitled File Sharing Through Multi Services Gateway Device at User Premises the disclosures of which are incorporated herein by reference.

The present subject matter relates to the management of operational information for gateway devices from a user premises and or for associated endpoint devices and to facilitate management of the application services where a demarcation is defined between resources of the gateway accessible to and managed by a service provider and service access by a user via an endpoint device.

The digital home is now becoming more complex with the myriad of new and emerging digital devices intended to address many user and consumer needs such as communication entertainment privacy and security. However given the complexity of the emerging digital home and digital environments generally users who are technologically challenged may find it a daunting and intimidating task to manage their home networks and interconnected digital devices. Moreover new paradigms are emerging oriented to delivering media content to and the consuming of media content at the home. Many of these paradigms rely on communication of application specific data to and or from the Internet as opposed to conventional telephone or broadcast video type applications. The protection of received Internet sourced media content in addition to user generated media content is additionally an important aspect that may be inadequately addressed by the technologically challenged user. Furthermore with respect to Internet based data most of the content delivery solutions are provided to the digital home networks through availability of the two foot interface i.e. the PC . It is relatively cumbersome to bring this content to the ten foot interface e.g. the television .

There exists a need for a system to simplify the overall management of services and applications available to the digital home or even the small enterprise. Such a system would reduce the complexity of the maintenance upgrading and operation of even the more basic needs addressed by emerging digital endpoint devices and networks. Approaches that suggest greater functionality in home based appliances fail to reduce or address the complexity of managing and provisioning those appliances. For example while the home gateway server appliance described in U.S. Pat. No. 6 930 598 enables networked electronic devices to communicate with each other without the direct interaction with external networks and provides a mechanism whereby a member of the household may be informed of certain network related events without having to use their home computer or other client devices it does not provide a convenient or simplified way of managing the services and applications executed by or associated with that device. Thus an unmet need exists for a device associated within a user s premises that has robust functionality but does not require sophisticated or inordinate attention from the user to manage provision and utilize.

A gateway device for operation at a user premises having at least one endpoint device associated with the gateway device the gateway device being in communication with a remote service manager comprises an application service module having at least one application the application service module being remotely managed by a remote service manager via a connection the application service module residing on a user premises side of a network service provider demarcation a user module having a user interface that is associated with the at least one application wherein the user module enables bi directional communications with the at least one endpoint device a network module having the connection that enables bi directional communications with the remote service manager a processor coupled to the user module application service module and network module and a storage device coupled to the processor operable to store operational information generated by and related to the gateway device and having a management module operable to generate collect process and provide access to the operational information under the control of the remote service manager.

An endpoint device residing at a user premises comprises a connection to a gateway device via a network an operational information module operable to generate and provide access to operational information related to the availability status integrity quality and performance of the endpoint device by a remote service manager via the gateway device. The gateway device includes an application service module residing on a user premises side of a network service provider demarcation.

A system comprises at least one remote service manager coupled to a network at least one gateway device disposed at a user premises and in communication with the at least one remote service manager via the network the at least one gateway device comprising at least one application performing traditional server functions and disposed on a user premises side of a network service provider demarcation at least one endpoint device disposed at the user premises and in communication through a user module with the at least one gateway device operable to under the control of the gateway device execute at least one application and generate collect and provide access to operational information related to the execution of the at least one application. The at least one gateway device operable to under the control of the at least one remote service manager direct the at least one endpoint device to generate collect and provide access to operational information related to the execution of the at least one application and to further generate collect and provide access to operational information related to the performance of the at least one gateway device.

A service management system managing application services delivered by endpoint devices via gateway devices disposed at user premises where the service management system comprises a management module residing on the user premises coupled to a network module the network module coupled to a router via a computer network an interface boundary between the management module and the network module forming a network service provider demarcation a connection manager operable to control system communications with the network module via the router and the computer network and a central management module operable to direct the management module to generate collect and analyze operational information to determine the availability status integrity quality and performance of the application services the gateway and the endpoint devices.

A method of managing a operational information on a gateway device residing on a user premises having at least one endpoint device associated with the gateway device where the method comprises delivering an application service traditionally residing on a network service provider s network through a network module to an application service module of the gateway device on the user premises side of a network service provider demarcation executing the application service on the at least one endpoint device through a user module residing on the gateway device directing the gateway device to generate and store the operational information related to the execution of the application service the endpoint device and the gateway device directing the gateway device to process aggregate compress and filter the operational information and directing the gateway device to provide access and reporting on the operational information.

A computer readable medium having encoded thereon a method of managing a gateway device for operation at a user premises having at least one endpoint device associated with the gateway device where the encoded method comprises delivering an application service traditionally residing on a network service provider s network through a network module to an application service module of the gateway device on the user premises side of a network service provider demarcation executing the application service on the at least one endpoint device through a user module residing on the gateway device directing the gateway device to generate and store the operational information related to the execution of the application service the endpoint device and the gateway device directing the gateway device to process aggregate compress and filter the operational information and directing the gateway device to provide access and reporting on the operational information.

In the following detailed description numerous specific details are set forth by way of examples in order to provide a thorough understanding of the relevant teachings. However it should be apparent to those skilled in the art that the present teachings may be practiced without such details. In other instances well known methods procedures components and circuitry have been described at a relatively high level without detail in order to avoid unnecessarily obscuring aspects of the present teachings.

In practice a customer typically subscribes to basic transport services from a network service provider e.g. ISP Internet Service Provider cable provider fixed wireless providers ILEC Incumbent Local Exchange Carrier or CLEC Competitive Local Exchange Carrier . For example a customer may have broadband Internet access via cable modem digital subscriber line service or the like. Digital video service may be provided separately. The network service provider manages these basic services at the logical network layer typically at layers 1 2 and 3 of the Open Systems Interconnection OSI model. While network services and associated devices may operate minimally at those levels they operate at those levels to support operations at OSI layers 1 2 and 3. Many applications however involve higher level service logic for applications that view the network transport as simply a transport pipe. The current Internet applications delivery and management architecture and many devices or management systems based on it require a server with robust processing and storage capability to be located at the network operations center not in the home. For Voice Over Internet Protocol VoIP type telephone service for example the VoIP service provider operates a session initiation protocol SIP server or the like and each user has only client functionality. The network transport layers are transparent to the Internet Protocol IP packets containing the voice and related signaling data. The SIP server however controls the call set up tear down billing and the like for the voice call services. With such a legacy architecture the major capabilities and functionalities connected with providing application services from the server throughout the network reside on the server and supporting elements all of which are located in the network operations center of the network service provider.

Exemplary endpoint devices with which the gateway device may communicate via the USB interface include for example a home automation networking device e.g. X10 Z Wave or ZigBee for wired or wireless home network automation. The device which in turn controls devices such as a switch controller sensor devices automatically controlled window blinds and a controlled lighting or lamp unit for example. Furthermore the gateway device may communicate via the Ethernet LAN interface across a local IP network or via the WiFi LAN access point to reach personal computing PC and laptop mobile devices . . . that serve as file sources control points and hosts for various other endpoint devices . In addition the gateway device may communicate via Ethernet LAN interface across a local IP network or via WiFi LAN access point to access one or more television display devices including the associated set top boxes STB or digital media adapters DMA . As further examples one or more SIP phones or VoIP phone devices or other devices that convert IP interfaces to Public Switched Telephone Network PSTN Foreign eXchange Office FXO and Foreign eXchange Subscriber FXS interfaces may be accessed by gateway device via Ethernet LAN interface across a local IP network or via WiFi LAN access point . The endpoint devices shown in and the respective interfaces used by gateway device to reach the endpoint devices are not intended to be comprehensive and one skilled in the art can appreciate other endpoint devices as well as other methods to allow gateway device to communicate with potential endpoint devices within this exemplary system.

As noted earlier the gateway device may access the DMA for a television display device which enables bidirectional wireline or wireless communication. The DMA supports several functions for multiple services including but not limited to media e.g. video and music by enabling the transfer of media e.g. video and music to the TV voice services by providing for Calling Line Identification CLID and for voice mail control and provide Home Automation Services including status and control of networked home automation devices. The DMA converts audio and video optionally to a format suitable for a TV. In addition the DMA may be capable of receiving context sensitive commands from a remote control device not shown and forwarding those commands to the gateway device . This enables the use of menus on the television display device for controlling application services and various features functions thereof as offered by the gateway device . Therefore the combination of the gateway device DMA and the television display device one is able to provide the following features including but not limited to display of media media control functions when enabled FF REW STOP PAUSE etc display of CLID control of voicemail picture viewing control of home automation and user functions for the gateway device .

A set top box is in communication with the gateway device via the wireless access point . The set top box also may handle media format conversion for example NTSC to ATSC television RF signals digital decryption and other DRM digital rights management functions Video On Demand Purchases etc. The combination of the Set Top Box with the television display device may enable by way of example Media format conversion for example NTSC to ATSC decryption other DRM functions such as expiry of leases prohibition of copying to digital outputs function restriction etc. Video On Demand Purchases and media control functions e.g. FF REW STOP PAUSE etc. .

Whether provided by the DMA and the television display device or by the set top box and the television display device the communications to and from the television display device provide a user interface for interaction with the gateway device . The software firmware of the gateway device supports among other things a graphical user interface GUI via the television display device sometimes referred to as the ten foot interface.

The PCs . . . shown in interface with the gateway device and serve as among other things file sources control points and hosts for various software clients. The gateway device may access PC device via Ethernet LAN interface across a local IP network or via WiFi LAN access point . The gateway device accessing the PC may provide for the bidirectional moving of files and status and control for the endpoint devices including for example status and control of networked home automation devices. In addition using the PCs . . . users may access the gateway device for any number of reasons such as for example share files on the gateway device with other endpoint devices back up or transfer files to the gateway device or other endpoint devices having storage capabilities access personal page for notifications receive RDF site summary RSS or Atom feeds share photos and receive voicemail messages. In addition to the Instant Messaging and SIP capabilities of the gateway device as will be described in more detail below PCs . . . may also serve as a host for IM and SIP soft phone clients and other endpoint devices . The client server interaction of the PCs . . . with the gateway device offers an alternative GUI for at least some of the services. The PC based GUI is sometimes referred to as the two foot interface.

Although not shown in other digital endpoint devices for which connectivity may be established with the gateway device include but are not limited to media player devices audio video audio video with or without metadata hi fi audio equipment with media streaming capability game stations Internet radio devices WiFi phones WiFi or other wirelessly enabled digital cameras facsimile machines electronic picture frames health monitors sensor and monitoring devices and devices now known or to be developed. In addition to endpoint devices coupled via the LAN and WAN the endpoint devices may be directly coupled to the gateway device off the Internet or private IP networks.

Although based on a client server architecture the exemplary system disclosed in moves substantial functions performed by the typical network server into the user premises by incorporating those functions into a gateway device but in a way that allows for the server functionality to be externally managed by a service management center which may in turn be operated by a third party application service provider . Moreover the architecture of the exemplary system does not require identity of the provider manufacturer of the gateway device the service management center or the third party application service provider. Thus a gateway device may be manufactured under the control of one entity for distribution to one or more service management entities each of which operates its own service management center . The gateway device may then be activated with a particular service management center under the control of a particular system management entity. A system management entity may be the entity that determines the mix of application services to which the user subscribes or this retail function for application services may be performed by one or more application service providers one or more of whom the user may subscribe to depending on the mix of application services offered by each application service provider. The term application service provider is used herein to refer to various entities up and down the supply chain and include but are not limited to manufacturers of the gateway device and endpoint devices suppliers of the gateway device and endpoint devices entities that provide operate or manage application services network service providers described above and entities that provide the activation manager function described in detail below. These entities in the supply chain may or may not operate or function independently of one another. Hereinafter the term remote service manager is also used to refer to the service management center and or application service provider .

The server functionality residing in the gateway device is not only located in the user premises but it now resides on the user premises side of the traditional network service provider demarcation . The exemplary system shown in does not just move server functionality from the servers in a traditional network operations center where they were previously located to the home but it also moves the logical position of the execution of application services logic of the server to the user premises side of the network service provider demarcation and provides logical hooks to enable the external service manager to perform its function s on that side of the demarcation. For example application service logic transmitted by application service provider related to the use of one or more gateway devices and or endpoint devices can now be provisioned serviced and managed on the user premises side of the network service provider demarcation albeit by an external service management center operated by or on behalf of a third party application service provider . The application software architecture coupled with the specific managed hardware implementation at the user premises enables a single service provider to provide the network services such as IP network whereas one or more application services providers possibly including the network service provider can provide the applications services to the customer independently of providing the network service.

By distributing the application services to the user premises but retaining a central management feature through the service management center and the application service provider s the disclosed exemplary system in addresses network computing and traffic capacity and latency challenges of providing application services at the network level. The exemplary architecture thus results in significantly reduced latency and improved reliability.

Another aspect of the exemplary system in is that it enables the application service provider through the use of the service management center to control hardware elements endpoint devices of various types located on the user premises side of the network service provider demarcation by communicating through the gateway device . The robustness of the gateway device coupled with the central management capabilities of the service management center and application service provider allow the system to register configure provision and enable inter communication among a wide variety of endpoint devices such as TV cell phone radios PC and digital picture frames. Furthermore the exemplary system can gather operational information such as billing records alarms statistical data and log information associated with gateway device and the endpoint devices connected to gateway device . Such a centralized management greatly reduces the burden on end users in managing their equipment or network and provides an application service provider through the service management center the ability to optimize service delivery.

As previously mentioned demonstrates the exemplary network configuration. Broadly speaking the major components of the exemplary system are gateway device which is connected to services management center and thereby application service provider via a wide area network such as by way of example IP network . Furthermore the exemplary system has gateway device located on the user premises associated with various endpoint devices .

As discussed in more detail below the novel system architecture of the exemplary network configuration as shown in allows for the management of services for the gateway device and endpoint devices and facilitates the easy addition of new services or modification of existing services on the gateway and endpoint devices via application service provider through service management center . Such services may include for example facility management home automation media content downloading and Digital Rights Management DRM device updates data backups file sharing media downloading and transmission. All these services may be provided from the user s perspective without the intermediary of a plurality of external service providers who may typically provide these individual services for every endpoint device in the user premises rather the user may receive through the system architecture application services for all these devices which application services may be managed through the system architecture by a network service provider.

The software firmware for these services resides in the gateway device . The gateway device is integrated with hardware and software modules and respective interfaces that handle all aspects of home automation and digital endpoint service and management for the home in a manner without having to rely on external service providers and in a manner that is essentially seamless to the user. This is advantageously provided by the service management center which is able to access regions of the gateway device that are not accessible to the user for controlling the transport and storage of digital content and enabling service applications and upgrades that provide largely invisible support for many tasks performed by users through their endpoint devices .

As seen in the gateway device connects the various endpoint devices together for enabling the user to experience a connected digital home where information from one endpoint device for example voicemail from SIP Phone can be viewed and acted on at another endpoint device for example the TV . In addition the gateway device maintains the operational status of endpoint devices associated with the gateway to determine whether the endpoint devices are online or offline. The gateway device thus hosts the various in home endpoint devices and facilitates the moving of information from one endpoint device to another endpoint device . Some of the in home endpoint devices processing duties performed by the gateway device include but are not limited to 1 detecting new devices and provide IP addresses dynamically or statically 2 functioning as a Network Address Translator NAT router and firewall 3 providing a centralized disk storage in the home 4 obtaining configuration files from the service management center and configuring all in home devices 5 acting as a registrar for SIP based devices 6 receiving calls from and delivering calls to voice devices providing voicemail services 7 decrypting and securely streaming media having digital rights management encoding 8 distributing media to an appropriate endpoint device 9 compressing and encrypting files for network back up 10 backing up files to the service management center to other elements within the system or other off site storage centers provided by third parties directly from the gateway device 11 handling home automation schedules and changes in status 12 providing in home personal web based portals for each user 13 providing parental control services e.g. URL filtering etc. 14 creating and transmitting billing records of endpoint devices including recording and uploading multi service billing event records 15 distributing a PC client to PCs . . . in the home used in support of the various services such as monitoring events or diagnostic agents 16 storing and presenting games that users and buddies can play 17 delivering context sensitive advertising to the various endpoint devices 18 delivering notifications to the endpoint devices and 19 enabling remote access through the web and Instant Messaging IM as an example. Other duties the gateway device may perform include service maintenance features such as setting and reporting of alarms and statistics for aggregation perform accessibility testing notify a registration server and location server of the ports it is listening on utilize IM or like peer and presence communications protocol information for call processing and file sharing services receive provisioning information via the registration server utilize a SIP directory server to make receive calls via the SBC network element to from the PSTN and other gateway device devices and download DRM and non DRM based content and facilitating the DRM key exchanges with media endpoints.

As will be described in greater detail herein below the service management center generally provides a communications and processing infrastructure for supporting the variety of application services and related communications residing at the gateway devices . . . . In an exemplary embodiment this infrastructure may be configured to provide a secure environment and may be IP based. Preferably this support architecture is designed for high availability redundancy and cost effective scaling.

The application service provider in conjunction with the service management center depicted in manages application services for a number of gateway devices . . . located at various users premises . Connectivity for the various gateway devices . . . to the service management center and thereby the application service provider is provided in one embodiment via a WAN termination interface such as Ethernet WAN over a broadband connection via the IP network or for example via a wireless EvDO Evolution Data Optimized Internet data interface embodied as a PCMCIA personal computer memory wireless card or a WiMax interface.

The gateway device includes both a hardware and software infrastructure that enables a bridging of the WAN and LAN networks e.g. a proxy function such that control of any endpoint device at any user premises via the gateway device using optionally a secure peer and presence type messaging infrastructure or other communications protocols e.g. HTTPS. For example as seen in via any IM capable device or client respectively connected with an IM or XMPP Extensible Messaging and Presence Protocol network messaging infrastructure e.g. IM networks such as provided by YAHOO MICROSOFT MSN SKYPE AMERICA ONLINE ICQ and the like a user may access any type of functionality at a subordinate digital endpoint device at and user premises via the gateway devices . . . and service management center by simple use of peer and presence messaging protocols. In one exemplary embodiment a peer and presence communications protocol may be used such as Jabber and or XMPP. Particularly Jabber is a set of streaming XML Extensible Markup Language protocols and technologies that enable any two entities on the Internet to exchange messages presence and other structured information in close to real time. The Internet Engineering Task Force IETF has formalized the core XML streaming protocols as an approved instant messaging and presence technology under the name of XMPP Extensible Messaging and Presence Protocol the XMPP specifications of which are incorporated by reference herein as IETF RFC 3920 and RFC 3921. Thus the gateway device is provided with functionality for enabling a user to remotely tap into and initiate functionality of a digital endpoint devices or the respective applications of the endpoint devices at the premises via the IM networks and

In addition the gateway device and network connectivity to the novel service management center provides in a preferred embodiment a secure peer and presence messaging framework enabling real time communications among peers via other gateway devices . . . . For instance the device provides the ability to construct communication paths between peers with formal communications exchanges available between for example one gateway device at user premises and a second gateway device located at user premises . Thus such an infrastructure provides for content addressing enabling peers through remote gateway devices . . . to supply and request content such as files media content or other resources of interest to a community of interest.

To further demonstrate the novel architecture between the gateway device and service management center reference to is now made. is a high level block diagram of an embodiment of the architecture of the exemplary system showing the demarcation between a gateway device and the service management center in reference to a network service provider demarcation . The logical network service provider demarcation is formed at the edge of the wide area network at the user premises between the wide area network and the equipment in the user premises. In a typical scenario a network service provider takes responsibility for managing resources on the network side of the network service provider demarcation leaving the user to manage everything on the user premises side. However the gateway device is implemented in such a manner as to offer its user many of the applications services that were previously offered from network side servers from the user premises.

The application services layer shown in represents the functional layers that provides access to applications services by application clients. These application services exist on a managed application service delivery platform ASD . The ASD may include three functional modules namely the application service enforcement ASE module the application service logic ASL module and the application service management ASM module .

On the user premises network with respect to the ASD the application services layer includes the ASL module which executes the application services that the gateway device or endpoint devices request. Such services may include parental control backup advertising server presence and peered networking media distribution call processing and file sharing . Also on the user premises network with respect to the ASD is the ASE module . The ASE module is responsible for enforcing the relevant application privileges to the application services. The ASE module and the ASL module must interact with each other so that the ASL module can provide access to the client applications that have passed the policy enforcement procedures set forth in the ASE module . Additionally a firewall to protect the application client from application level attacks from the open Internet is located on the user premises network within the application service layer .

Other elements shown in that may reside in the gateway device and logically positioned on the user premises network include a network function layer comprised of but not limited to a switch router and or a bridge . The switch router and bridge may optionally reside outside of the gateway device and the functions thereof be performed elsewhere. Additionally a LAN termination interfaces located within the network interconnect layer on the user premises network may optionally include but not be limited to the following interfaces WiFi Ethernet Multimedia Over Coax Alliance MOCA Home Phoneline Networking Alliance HPNA HomePlug and Asynchronous Transfer Mode ATM . Other interfaces currently known or to be developed may be included. The various LAN termination interfaces allows bi directional network layer communications on the user s side of the premises with one or more of the associated endpoint devices .

With further reference to the core of the logical capacities of the service management center resides on the Service provider network and is depicted as the Application Service Management ASM portion of the application service delivery platform in the application services layer . The ASM module is implemented in the service management center which is external to the user premises and on the service provider network side of the network service provider demarcation . The ASM module may include functions such as provisioning subscription and monitoring for example.

Examples of various ASM module functionalities performed at the service management center from the service provider network regime include but are not limited to initializing service in the gateway devices providing security for the gateway devices and the network support infrastructure enabling real time secure access and control to and from the gateway devices distributing updates and new service options to the gateway devices providing service access to and from the gateway devices and remote access to the gateway devices for example. In support of these services the service management center provides the following exemplary additional services and features authentication multi service registration subscription control service authorization alarm management remote diagnostic support billing collection and management web services access remote access to gateway devices e.g. via SIP or Internet web based communications reachability to access challenged gateway devices software updates service data distribution location service for all services SIP VoIP service media services backup services sharing services provisioning gateway interfaces to other service providers northbound and peering load balancing privacy security and network protection.

The logical network architecture for the service management center network delivering these capabilities is illustrated and described in greater detail in the above identified related applications.

The ASM module is operable to provide the necessary data to the ASE and ASL modules for them to carry out their respective functions. Specifically the ASE module receives the policies and permissions of each application client from the ASM module such as provisioning data and subscription data and enforces those policies against the requested actions by the client application. Furthermore the ASL module may interact with the ASM module for monitoring purposes and status information such as call data recording and billing. The ASM module also manages the overall security and integrity of the ASD .

Furthermore the ASL module and ASE module maintain logical connectivity or interaction with the ASM module in the service management center typically via communication through WAN . This logical connectivity is established through an always on or on an as needed periodic basis secure control channel between the application services layer ASL and ASE of the user premises network and the application services layer ASM of the service provider network . The control channel is established through the network function layer and the network interconnect layer . Through the control channel the service management center communicates with one or more of the gateway devices thereby providing an infrastructure to support and or manage the application services offered to endpoint devices and their users by logic implemented in the gateway device s . This logic is called the gateway operational management software and will be further described below. Effectively the ASD considered in its entirety extends all the way from the service provider network to the user premises network by traversing the network service provider demarcation .

The platform manager layer seen in is also responsible for implementing that part of the managed application services to be performed by the gateway device . In that regard the platform manager layer secures and manages the overall hardware platform given that in this scenario the network function layer and the application services layer reside on one hardware platform. This secure hardware platform provides a robust and secure operating environment for the application services layer . Thus to establish a secure and robust hardware operating environment the platform manager layer must interface represented by arrows and with all the layers above it and allow for bi directional operational information flow among all of the functions including application services.

Application services represent functionalities implemented in the upper layer s of the protocol or logical stack above the network layer s that may extend up to the application layer layer 7 of the OSI model . An application service for example provides application server communication with a client functionality of one or more endpoint devices for the respective service communicated on top of network layer communications through the interfaces. In the exemplary system the services are provided on a subscription service basis to users at the premises. The ASE module provides enforcement regarding authorization authentication configuration and or use of the respective application service via the endpoint devices . The application service includes service and feature functions implemented and controlled by the ASL module . Management of the application service is based on communications with the ASM housed within service management center via the WAN .

Examples of application services include but are not limited to one or more of media delivery content management access control and use tracking file sharing and protection and back up services of both Internet Web generated digital media content and user generated digital media content. The disclosed gateway device thus is configured and programmed to simplify various aspects of managing the emerging home business digital networks including the myriad of interconnected digital endpoint devices associated with the gateway device . The endpoint devices need not reside within or be located at the premises to maintain their association with the gateway device . Application service functionality of the gateway device as provided by the exemplary system is enabled disabled and configured by an application service provider via communications between the gateway device and the service management center .

As shown by the discussion of application service software firmware is logically positioned on the user premises network that is to say on the user premises side of the network service provider demarcation . The gateway device software firmware however also defines a logical service provider user demarcation between the user premises and the application service provider as will be described in more detail with regard to .

Thus referring to the gateway device and service management center move substantial functions performed by the typical network server into the user premises by incorporating those functions in a way that allows for the server functionality to be externally managed by the service management center which may be operated by a third party service provider such as an application service provider . In this exemplary system both the server functionality and the application services offered via the gateway device may be managed by the service management center . Moreover the server function residing in the gateway device is not only located on the user premises but it now resides logically on the user premises side of the network service provider demarcation and on the service provider side of the applications service provider demarcation see further discussion below in reference to .

In order for network service providers to deliver managed services they typically require a management element controlled by the CPU on the NSP TA . To depict these logical elements residing on the hardware components includes a representation of the application services layer above the physical network layer . This layer corresponds to the application services layer of but without reference to any logical elements residing at the network services provider. The management element represented by the network service provider managed application allows the network service provider to determine the status of the network hardware device and interfaces as well as maintain a certain degree of security enforcement at the customer premises.

As noted the network service functionality is at the network interconnect layer and network function layer displayed in and generally does not extend to the application services layer beyond basic authentication authorization and state management as depicted by network services user authentication application module . As with the hardware components the logical elements also have a network service provider demarcation . On the WAN side depicted as the network service provider managed applications side of the network service provider demarcation resides within the network service provider management application module the applications that are managed by the network service provider logic . The network service provider logic allows the network service provider the exclusive control over the applications within the portion of the network service provider management application module that are logically on the network service provider managed applications side.

The user interface to managed applications is present on the LAN side of the network service provider demarcation within the application services layer . Within this interface resides software firmware and logic available to users other than the network service provider referred to as the network user controlled logic . The network user controlled logic provides a user interface to the network service provider logic and to the extent permitted by the network service provider logic interaction with or communication between the user and network service provider through the network user controlled logic and the network service provider logic and to the NSP TA hardware components. The network user controlled logic allows the user of the NSP TA to make certain minimal software firmware changes relevant to their preferences e.g. user name and password changes local IP addresses changes local interface selection . All user devices typically can only communicate with the NSP TA through one or more of the user premises network interfaces . The user can modify the network user controlled logic through the user premises network Interface . The network service provider demarcation is typically within the NSP TA logically dividing the network service provider interface and the user premises network interface modules . The network service provider does not have any in depth visibility or significant responsibility beyond the network service provider demarcation .

Additionally shown on the right hand side of is the User Network and Application Delivery Apparatus UNA DA which is depicted as a separate managed gateway device but as described below may optionally be combined with elements of the NSF TA that a managed service provider which may be different than the network service provider would control in delivering a set of application services to the user premises . illustrates the logical architecture of the software and hardware of the gateway device together with a NSP TA for broadband connection to WAN . The gateway device is an application delivery apparatus for delivering application services to endpoint devices using network layer communications through the network interface . also illustrates two relevant demarcations and a termination which delineate control management access with respect to the functionalities of the gateway device . To be described further below shows the arrangement of the ASL module and the ASE module of as being logically positioned between these two demarcations which results in significant management control by the application service provider and relieve the user of significant burdens in arranging and configuring the systems services at the user premises .

With respect to the two demarcations and shown in one of the demarcations as outlined above is the network service provider demarcation . To identify the separation of and distinguish between the software firmware and hardware components subject to control by the application service provider and those subject to control by the user at the user premises identifies a dividing line across the logical elements of the UNA DA and a corresponding dividing line across hardware components referred to as the applications service provider demarcation . The arrows at the top of thus show the delineations in management responsibility created by the two logical demarcations and . The covered area to the left of the network service provider demarcation as depicted by arrow is the network service provider s responsibility. By contrast the area covered by arrow which represents anything to the right of the application service provider demarcation is the end user s responsibility. However the logic and hardware between these two demarcations as depicted by arrow is the application service provider s responsibility. This arrangement of two demarcations and the attendant logical demarcations in management access to the hardware resources at the premises result in significant management control by the application service provider and relieve the user of significant burdens in arranging and configuring the systems services at the premises.

It should be noted that the logical connection between the network service provider management application and the platform management may be provided to the NSP TA to enable the application service provider to assume any user s responsibility in managing the network user control logic of the NSP TA . Therefore the end user would no longer be responsible for managing any element with respect to the NSP TA .

Referring to the managed gateway device is composed of several elements at both the physical network layer and the application services layer . At the physical network layer the device includes its own dedicated CPU memory packet cell switching fabric data traffic module and power as well as its own dedicated set of interfaces. The UNA DA includes one or more network interfaces providing connectivity to the NSP TA as well as to user premises endpoint devices . One skilled in the art will readily recognize however that the physical connection that connects the UNA DA to the NSP TA also provides connectivity for the UNA DA to the WAN and is the means by which the UNA DA accesses the WAN .

Programming elements of the UNA DA in the gateway device are depicted at the application services layer of the UNA DA . The software firmware corresponding to the ASL module and the ASE module of reside on the application service provider managed applications and platform . The application service provider managed applications and platform is managed by the managed application service provider in conjunction with the service management center housing the ASM module . The application service provider accesses the application service provider managed applications and platform by means of control channel through the WAN .

Other logical elements that form the application service provider managed applications and platform include but are not limited to device drivers operating system system service and platform module . These logical elements are described with respect to below. Another logical element that forms the application service provider managed applications and platform includes the application service interface . The application service interface enables communications from user endpoint devices with the application service provider managed applications and platform .

The application service provider managed applications and platform includes a platform management module that with other software firmware in the platform and the ASM allows the managed application service provider to control the hardware elements of the UNA DA in addition to other relevant application services logic or hardware that may reside on the user premises. For example this software firmware enables a managed application service provider to control and manage the hardware elements on the UNA DA to ensure proper use and allocation of the UNA DA s processing memory storage and bandwidth to monitor local hardware security and generate needed alarms or protection sequences and to prioritize applications based on a set of established policies. The user would have control over specific parameters of application services obtained through the UNA DA through the user interface and platform to managed applications shown in . These parameters allow the user to control the local behavior of the interfaces and to configure the specific applications to implement the user preferences for those applications.

The application service provider can interact with the network service provider s managed applications through the network service provider management application . This is an optional function but it helps show how the gateway device can interface with a network device such as the NSP TA from a network service provider and provide a unified application interface. The logical connection represent this management relationship between platform management logic module in the gateway device and the network service provider management application in the NSP TA . In effect the application service provider manages the NSP TA for the user even though it is not the application service provider s hardware. In the case where the application service provider is a network service provider as well then it would work in practically the same way. If the NSP TA is the application service provider s own hardware the degree of integration and control can be elevated even more.

In another embodiment the two hardware regimes described above NSP TA and the UNA DA may be combined into one managed hardware platform. This would in effect replace the user access with a managed machine access for aspects of the NSP TA as well as aspects of the application services offered through the UNA DA . Thus the combination creates an integral gateway device providing both network service and application services under centralized management. Although integrated network interconnect functions of the NSP TA may still be managed by the network service provider as in the example of . Those skilled in the art will readily see additional suitable combinations and configurations for the hardware comprising the NSP TA and the UNA DA . For example in a further embodiment all the hardware dedicated to the network service provider interface may reside and be integral with the hardware comprising the UNA DA . Thus the network service provider interface may reside on the UNA DA .

The composition of the premises gateway device earlier described with reference to is now described in greater detail with reference to . are more detailed logical diagrams of an embodiment of an exemplary gateway device . As shown in the gateway device utilizes a layered architecture which enables the encapsulation of similar functionality and the minimization of dependencies between functions in different layers. shows the lower portion of the layered architecture and shows the upper portion of the layered architecture. The completed set of layers can be conceptualized as if was combined with with the layers of above those of . also depict exemplary functionality hardware and logical resident in each of the layers.

The layered architecture includes but not limited to a hardware components layer hardware driver layer base operating system layer system services layer platform modules layer platform management layer services framework layer application services layer and application services interfaces layer . These layers combined represent the layered architecture of the exemplary gateway device .

An overview of made in reference to is provided for orientation purposes. The logical elements of the network interconnect Layer residing on the gateway device are found in the hardware drivers layer in which govern the operation of the hardware components layer . The processor runs a base operating system shown in at layer which plays a role in each of the network interconnect network function application services and platform manager layer . Logical elements represented by the network function layer comprise elements from the system services layer . In a similar fashion the platform manager layer is implemented in the exemplary architecture of by the platform modules and the platform management layer . Particular logical elements comprising the ASL module and ASE module of the application services layer are shown in as comprising logical elements from each of services framework and application services . The layered architecture displayed in facilitates reuse or sharing of logic across the layers to provide a managed services framework . Finally application services interface enables communications from user endpoint devices within their respective service environments.

As shown in the hardware components layer includes a central processing unit CPU which may be a system on a chip that includes processing elements digital signal processor resources and memory. The implementation of functions and the related control such as a router with quality of service QoS firewall VoIP gateway voice services and voice mail may be embodied and performed within the CPU .

The CPU is also coupled to a random access memory RAM and additionally non volatile hard drive disk magnetic and or optical disk memory storage . Generally the hard drive disk magnetic and or optical disk memory storage provides non volatile storage of computer readable instructions data structures program modules objects service configuration data and other data for use by the gateway device . The non volatile hard drive disk magnetic and or optical disk memory storage may be partitioned into a network side which is the repository for storing all of the service logic and data associated with executing services subscribed to by the user and is invisible to the user and a user side for storing user generated content and applications in which the user has visibility. Although not shown the CPU may be coupled to a microcontroller for controlling a display device and or other devices.

Additional hardware components include one or more Ethernet LAN and WAN interface cards e.g. 802.11 T1 T3 56 kb X.25 DSL or xDSL which may include broadband connections e.g. ISDN Frame Relay ATM Gigabit Ethernet Ethernet over SONET etc. wireless connections or some combination of any or all of the above. For wireless connections the cards would be associated with WiFi LAN access point to enable a wireless connection. The Ethernet LAN interface provides data communication connectivity within the user premises essentially for communication with any endpoint devices operating within the premises. The Ethernet WAN interface provides data communication connectivity for the gateway device and endpoint devices not shown communicating through the device with the wide area network like IP network shown in .

For additional or alternative customer premises communications the hardware components may also include one or more USB interfaces . Furthermore for additional or alternative communications with the wide area network the hardware components may also include the PCMCIA EvDO interface card .

A data encryption decryption unit is additionally provided as part of the architecture for providing data security features. A watchdog timer element or like timer reset element is provided to ensure the software firmware on the device is operational. One or more LED devices are included for indicating status and other usable information to users of the gateway device .

The hardware layer may also include an option module . The hardware components at layer have multiple interfaces for connection to such an option module . These interfaces by way of example could be a data bus e.g. PCI etc network interface e.g. Ethernet RJ45 MoCA HPNA Coax and Power feeds. The option module allows additional functionality to be added to the gateway device at the hardware layer . For example this additional functionality could be everything from support for a variety of extra WAN interfaces e.g. xDSL DOCSIS Fiber PON cellular packet WiMAX etc. media processing e.g. Cable TV termination Digital Video Recording Satellite TV Termination over the air broadcasting etc to voice processing FXS FXO Speech Detection Voice to Text etc . The option module may have its own standalone CPU memory inputs outputs storage or provide additional functionality by its use of the CPU memory inputs outputs and storage facilities off of the other hardware layer components. The option module may be managed indirectly by the platform manager layer .

The discussion of the gateway hardware layer above and the illustration thereof in the drawings provides a high level functional disclosure of an example of the hardware that may be used in the gateway device. Those skilled in the art will recognize that the gateway device may utilize other hardware platforms or configurations.

As further shown in the hardware drivers layer comprises a multitude of driver interfaces including but not limited to a PCMCIA driver for enabling low level communication between the gateway CPU and the PCMCIA network interface card wireless interface an IDE driver for enabling low level communication between the gateway CPU and the local mass memory storage element and LAN WAN Ethernet drivers for enabling low level communication between the gateway CPU and the respective network interface cards and . The exemplary driver layer also includes but not limited to an LED driver controller for driving LED s a USB driver allowing CPU to communicate via USB interface and an 802.11b g or n wireless network driver for allowing the CPU to communicate via the WiFi LAN access point . The drivers provide the logical connectivity between the low level hardware devices and the base operating system .

The base operating controls the execution of computer programs and provides scheduling input output control file and data management memory management and communication control and related services for the gateway device . With respect to the base operating system the gateway device architecture may support any embedded operating system any real time operating system any open source operating system any proprietary operating system or even any operating systems for mobile computing devices as long as the operational needs of the client discussed herein below can be met. Exemplary operating systems that may be employed include WINDOWS MACINTOSH LINUX or UNIX or even an embedded Linux operating system. For instance the gateway device may be advantageously provided with an embedded base operating system that provides operating system functions such as multiple threads first in first out or round robin scheduling semaphores mutexes condition variables and message queues for example.

Built upon the base operating system as shown in is a system services support layer providing both client like and server like functions that enable a wide range of functionality for the types of services capable of being managed by the gateway device . For instance a Dynamic Host Configuration Protocol DHCP client and server software modules are provided. The DHCP client particularly requests via a UDP IP User Datagram Protocol Internet Protocol e.g. IPv4 IPv6 etc. configured connection information such as the IP address that the gateway device has been dynamically assigned by a DHCP service not shown and or any the subnet mask information the gateway device should be using. The DHCP server dynamically assigns or allocates network IP addresses to subordinate endpoints on a leased basis. A Virtual Private Network VPN client may communicate via a proxy server in the service management center according to a VPN protocol or some other tunneling or encapsulation protocol. An SMTP client handles outgoing email over TCP secure socket layer in accordance with the Simple Mail Transfer protocol. SMTP server functionality may be added to handle and process incoming email. A Network Time Protocol NTP RFC 1305 generates and correlates timestamps for network events and generally provides time synchronization and distribution for the Internet. A Domain Name Server DNS client and server combination are used by the IP stack to resolve fully qualified host or symbolic names i.e. mapping host names to IP addresses.

An HTTP S server handles secure Hypertext Transfer Protocol HTTP Secure Sockets Layer communications and provides a set of rules for exchanges between a browser client and a server over TCP. It provides for the transfer of information such as hypertext and hypermedia and for the recognition of file types. HTTP provides stateless transactions between the client and server.

A Secure File Transfer Protocol SFTP client and server combination govern the ability for file transfer over TCP. A SAMBA server is an open source program providing Common Internet Files Services CIFS including but not limited to file and print services authentication and authorization name resolution and service announcement browsing . An EvDO PPP driver includes a Point to Point Protocol PPP daemon configuration for wireless broadband services. A PPPoE Point to Point Protocol over Ethernet client combines the Point to Point Protocol PPP commonly used in dialup connections with the Ethernet protocol. The PPPoE client supports and provides authentication and management of multiple broadband subscribers in a local area network without any special support required from either the telephone company or an Internet service provider ISP . The gateway device is thus adapted for connecting multiple computer users on an Ethernet local area network to a remote site through the gateway and can be used to enable all users of an office or home to share a common Digital Subscriber Line DSL cable modem or wireless connection to the Internet. A Secure Shell or SSH server implemented with HTTP protocol provides network protocol functionality adapted for establishing a secure channel between a local and a remote computer and encrypts traffic between secure devices by using public key cryptography to authenticate the remote computer and optionally to allow the remote computer to authenticate the user.

Additionally provided as part of the system services layer is intelligent routing capability provided by an intelligent router device that provides Quality of Service QoS guaranteed bandwidth intelligent routing services for example by enforcing routing protocol rules and supporting unlimited multiple input sources and unlimited multiple destinations and particularly for routing communications to networked digital endpoint devices subordinate to the gateway device . A central database server handles all of the database aspects of the system. For example the database server maintains and updates registries and status of connected digital endpoint devices maintains and updates service configuration data services specific data e.g. indexes of backed up files other service specific indexes metadata related to media services etc. and firmware configurations for endpoint devices . The database server may also store billing and transaction detail records and performance diagnostics. The database server logic also satisfies all other database storage needs as will be described in greater detail herein.

Built on top of the system services layer is the platform module layer as seen in . The platform module layer provides a software framework for base operating system layer and communications level platform functionality such as CPU management timer management memory management functions a firewall a web wall for providing parental control services via the web e.g. HTTP SMS Short Messaging Service and WAP Wireless Access Protocol QoS management features bandwidth management features and hard disk drive management features

The layered architecture further provides a platform management layer as shown in which together with the platform modules implement the platform manager layer discussed earlier . In the layered architecture the platform management layer and elements shown above it in are built upon the platform modules .

The features and functions in platform management layer include a platform manager module which provides a management of all the processes and services in the system and implements unique rules based notification services. On operational failure for example when one of the components or services fails the platform manager module would detect this failure and take appropriate action such as implement a sequence of rules to provide notification to a user restart the service and generate alarms for example. Another module within platform management layer is a scheduler manager module . Scheduler manager module manages scheduled device maintenance managing scheduled services e.g. back up services etc. The layer also includes a diagnostics manager module and a firmware upgrades manager module for managing firmware upgrades. A resource manager module manages system resources and digital contention amongst the various resources e.g. CPU memory hard drive and bandwidth utilization within platform management layer . A display manager module manages the LED status and a logger manager module store and track gateway log in activity of users and applications e.g. voice call logs at the user premises.

The platform management layer in concert with resource manager module and the platform manager module enforce the separation of network side managed service control and user side delegations depending upon service subscriptions and configurations. For example the platform manager module and resource manager module encompass rules and guidelines provided according to subscribed services that act to enforce manage and control the input output operations and use of hard drives space. Thus the operation of the platform manager module and resource manager module help to determine the line between what is owned by the customer and what is owned by the application service provider thereby establishing the application service provider demarcation as seen in .

In general the logical platform management layer allows for inter layer allocation of local resources. This function guarantees access between the application services management logic implemented at the higher layers of the architecture within the gateway device and the applications service management function in the service management center by assuring that the local user premises hardware and software modules are functioning at a required state CPU and memory usage bandwidth usage QoS settings etc. . The platform management layer is also responsible for implementing that part of the managed application services to be performed by the gateway device . In that regard the platform management layer secures and manages the overall hardware platform given that in this scenario the network function layer and the application service layer reside on one hardware platform. This secure hardware platform provides a robust and secure operating environment for the application services layer. So to establish a secure and robust hardware operating environment the platform management layer must interface with all the layers above it and allow for bi directional operational information flow among all of the functions.

Referring back to built on top of the platform management layer is the Services Framework Layer which provides a library of application support service processes that facilitate data collection and data distribution to and from the endpoint devices . The application support service processes include but are not limited to a device authentication manager for use in authenticating devices connected to the gateway device and the user of the gateway device a billing manager for collecting and formatting service records and service usage by endpoint devices e.g. calls back up services etc. a fault manager for detecting and managing determined system and or service faults that are monitored and used for performance monitoring and diagnostics a database manager a control channel interface via which the gateway initiates secure communications with the operations support infrastructure a configuration manager for tracking and maintaining device configuration a user manager a service manager for managing service configuration and firmware versions for subscribed services provided at the gateway device and a statistics manager for collecting and formatting statistics generated by different components in the gateway device . Statistics may relate to the use of one or more services and associated time stamped events that are tracked. Finally the layered service architecture shown in additionally provides the gateway device with intra process communication and inter process communication amongst the many services and modules in the service framework layer that enables the provisioning management and execution of many applications and services at the application services layer .

As seen in next to the Services Framework layer is the application services layer providing library of user application services and application support threads including but not limited to file share manager backup server home storage network device manager basic photo editor home automation controller media services module call processing module voice mail and interactive voice response IVR server presence and networking parental control and intelligent ads manager

The gateway device shown in further provides application service interfaces that are used to enable a variety of user applications and communications modalities. Furthermore the application service interfaces enable communications from user endpoint devices within service environments. In that regard the application service interfaces enable the application services to act as an appropriate server with respect to client device application or service functionality of the endpoint devices . The application service interfaces also enable corresponding interfaces for the application services with aspects of service environments implemented outside the user premises. In that regard the interfaces enable the application services layer to act as an appropriate client for extending the application or service related communications to a server accessed via a wide area network such as a server of the service management center .

Specific application service interfaces might include a Session Initiation Protocol SIP Interface . SIP interface is an interface to the generic transactional model defined by the session initiation protocol that provides a standard for initiating modifying or terminating interactive user sessions that involve one or more multimedia elements that can include voice video instant messaging online games etc. by providing access to dialog functionality from the transaction interface. For instance a SIP signaling interface enables connection to a SIP network that is served by a SIP directory server via a session border controller element in the service management center .

Additionally application service interfaces layer may include the web interface that enables HTTP interactions requests and responses between two applications. Also the Web services interface that provides the access interface and manages authentication as gateway device access the service management center via web services may be included in the application service interface layer . The IM Interface which can optionally be located within the application service interface layer is a client that enables the gateway device to connect to one or more specific IM network s . As further shown in within the application service interface layer the UPnP Universal Plug and Play interface enables connectivity to other stand alone devices and PCs from many different vendors.

The XMPP interface within the application service interface layer is provided to implement the protocol for streaming XML elements via the gateway device in order to exchange messages and presence information in close to real time e.g. between two gateway devices. The core features of XMPP interface provide the building blocks for many types of near real time applications which may be layered as application services on top of the base TCP IP transport protocol layers by sending application specific data qualified by particular XML namespaces. For example the XMPP interface provides the basic functionality expected of an IM and presence application that enable users to perform the following functions including but not limited to 1 exchange messages with other users 2 exchange presence information with other devices 3 manage subscriptions to and from other users 4 manage items in a contact list in XMPP this is called a roster 5 block communications to or from specific other users by assigning and enforcing privileges to communicate and send or share content amongst users buddies and other devices and 6 communicating with applications in the service management center and vice versa. The synchronization of allowed services and features and the real time notification of service and configuration changes can be communicated through this interface.

The powerful processing connectivity and storage capability of the gateway device in this novel architecture brings opportunities with regards to the generation handling and storage of operational information and the management thereof. Certain terms used herein are defined as follows. Operational information is data and their analysis related to billing statistical information alarms and logs. Management familiar to one skilled in the art and used herein means the actions and processes whereby a manager entity performs any one or more of the following functions in relation to a managed entity access direction of operation security of accessibility configuration measurement of performance and response to notifications from the managed entity. Billing information familiar to one skilled in the art and used herein is information related to service utilization for the purpose of apply charging metrics or rating to a user s service utilization. Statistical information familiar to one skilled in the art and used herein is metric information related to the operation of a system. Alarm information familiar to one skilled in the art and used herein is information that is generated and then cleared or dismissed. Log information familiar to one skilled in the art and used herein is historical records of the operation of the software typically stored in a log file.

The gateway device provides an excellent scaling point within the exemplary system shown in because each gateway device within the system brings CPU processing power Internet connectivity and a large amount of storage capacity. However since the service delivery may be performed directly between the gateway device and the application service provider and does not transit the service management center the service management center may lack visibility into the service delivery function residing in the gateway device and the associated operational information. This operational information is necessary to provide robust functionality that does not require sophisticated or inordinate attention from the user to manage provision and utilize them.

To efficiently and economically manage and use operational information from a large number of gateway devices and for the service management center to access the operational information the gateway device and service management center must contain software firmware that takes advantage of the gateway s capabilities and the opportunities brought on by the novel system. As mentioned the gateway device stores all the operational information it generates on its hard disk including the billing alarms statistical information and logs. The gateway device s software firmware stores the operational information in databases log files and other memory or storage assets and makes this information accessible to diagnostic software on the gateway device to the user to the application service provider and service management center . By maintaining this information on each gateway device the service management center has access to operational information for each specific gateway device without providing a large amount of centralized storage processing or bandwidth to carry the operational information to the service management center .

Because the systems disclosed herein is comprised of many user gateway devices with powerful processing capabilities external events affecting a large number of gateway devices would cause the gateways to flood the service management center with operational information. The servers in the service management center or the control channel to the gateway device can become overloaded or even disabled under such an onslaught resulting in disruption of all users service. Any software device or technique for transmitting operational information from the gateway to the service management center must prevent this flooding. Likewise since the service management center maintains a control channel to each gateway device the operational information transmitting to service management center can overwhelm service management center when even a small number of gateway devices send a large amount of operational information over the control channel . In this novel architecture there is a need for a device and technique that can control sample and compress the operational information generated on the gateway device and its connected endpoint devices and subsequently transmitted to the service management center .

Among other things the gateway operational management software monitors the state and performance of the gateway device the services delivered to the user s endpoint devices and the state and performance of the endpoint devices attached to the gateway device . Based on these functions the gateway operational management software generates operational information in the form of billing records statistical information alarms and logs that are stored locally on the gateway device s hard drive .

As seen in the gateway operational management software through the gateway operational management support software provides an application software firmware interface . This interface allows gateway operational management software to extract operational information from other gateway components and their associated application software that are running on the gateway device . Furthermore the gateway operational management software through application software firmware interface extracts operational information from endpoint devices and their respective application software .

It should be noted that the application software firmware interface as depicted in is provided for the convenience of an application software programmer. Furthermore the gateway operational management software does not require the use of application software firmware interface to extract operational information from the gateway device and its associated endpoint devices . Therefore the use of application software firmware interface is not to be construed as any limitation but instead one skilled in the art can imagine other possible ways for gateway operational management software to extract operational information from gateway device and digital endpoint devices associated with gateway .

As referred to above the gateway operational management software extracts operational information. The gateway operational management software stores the operational information locally in databases on the gateway device . Specifically the gateway operational management software utilizes the database management to store the operational information in the appropriate database. In the exemplary implementation these databases are realized using for example the SQLite open source database. SQLite is a highly efficient database for embedded systems that provides a high level of transactional protection.

The service management center communicates with the gateway operational management software . The service management center may access the operational information stored on gateway device through control channel by communicating with the gateway device s operational management software . Specific access types by service management center as examples may include retrieving lost billing records historical statistics high priority alarms and log files.

As previously mentioned the billing manager is part of the gateway operational management software . Referring to the components of gateway device and its associated application software and the endpoint devices and their respective application software use the billing manager part of in and its associated application software firmware interface to generate billing and usage records. In the preferred embodiment the billing and usage records are expressed in Internet Protocol Detail Record Document IPDRDoc format. These records are generated by the service application components which pass the records to the billing manager which handles this operational information as described herein.

The billing records sent to the service management center are accessed from the billing service database by the billing manager . The records are sent from the gateway device using the control channel connection by accessing the control channel interface . The control channel interface then sends the billing records through control channel across a network connection such as for example an IP WAN connection to the service management center . For billing records the service management center provides a pivotal role that may include providing a SIP based network border interface and billing services for off net voice calls.

Because the gateway device in the exemplary system is an interactive device that enables users to purchase and activate services that are provided by application service provider the service management center provides bill collecting capabilities for services rendered at the gateway device . Examples of services that may have billing records associated with the application service include but are not limited to voice media such as movies and music backup services home automation file sharing and parental control.

In one embodiment the gateway device and other endpoint devices generate records of billable events which may be used for billing verifications troubleshooting and other purposes. The gateway device for example may record all billable events and send the data to the billing collector . This transmission of billing data may occur at a regular interval or a predefined interval or at other desired time or period.

Referring to one or more gateway devices may communicate billing records via XMPP messages that include billable events to the billing collector via control channel across a WAN such as IP network to a presence and networking infrastructure . In one embodiment the process of transferring a billing record from a gateway device to the billing collector may be a two way handshake. When the billing collector receives the billing record from the gateway device the billing collector checks the billing record for errors. If there are no errors the billing collector writes the data to a file and stores it e.g. on a storage device. If an error occurred in the message then the billing collector may formulate an error message and send it to the gateway device . The message may contain a reason for the error.

Next the billing collector sends an acknowledgment to the gateway device for the billing record received. The acknowledgment message for example may contain the same message id as the original billing record so that the gateway device can identify that it is in receipt of the billing record sent. If the acknowledge states there were no errors in the billing record then the process of transmitting that particular billing record ends. On the other hand if the acknowledgment states the billing record contained an error then the gateway device would retransmit the billing record to the billing collector . In one embodiment if the gateway device does not receive the acknowledgment message within a predetermined wait time it may resend the message to the billing collector .

Example functionalities on which a gateway device may generate billing records are listed in Table 1.

As previously mentioned the statistics manager is part of the gateway operational management software . The statistics manager provides for two types of statistics real time and periodic. Real time statistics reflect the current state of the component relative to the component start time while a periodic statistic reflects the value of the statistic for a period of time. For example consider the simple counter statistic control message received belonging to the control channel component. The real time form of this statistic increases from zero 0 monotonically until it reaches its maximum value and then rolls over to zero 0 again. The periodic form of this statistic for a recently expired period of 15 minutes is set to the number of packets received during that 15 minute interval. Finally the Statistics Manager provides gauge statistics which indicate the amount of some resource. For example the CPU utilization of the gateway device is a gauge statistic. The periodic form of a gauge statistics has min max and average values over the period. The real time form of a gauge statistic has the value at the time of the real time statistic query.

Example functionalities based on which a gateway device may generate statistics are defined in Table 2.

As described above the fault manager is part of the gateway operational management software . The fault manager also known as the alarm manager manages the alarm information generated by the gateway device and its associated endpoint devices . is a high level flow diagram of an exemplary gateway device that collects manages and stores the alarms associated with the services provided by or through the exemplary gateway device . As illustrated in the ASL module generates alarms sending these alarms to the alarm manager via the alarm manager application programming interface and incoming queue . The alarm manager filters these alarms following the logic downloaded from the service management center through the control channel via the control channel interface . After filtering the alarms the alarm manager saves these alarms in the alarm database . The event manager notifies the alarm manager that that control channel is established and thereby the alarm manager can send alarms to service management center . The alarm manager maintains timers for timeouts such as dispatch purge and expiry. On the dispatch event the alarm manager sends the alarms scheduled to be delivered to the service management center . On the purge event the alarm manager removes dated alarm records from the alarm database . On the expiry event the alarm manager finds and deletes alarms in its incoming queue which are older than the expiration time.

The gateway device may have the ability to generate alarms intended for the ultimate consumption of the user when a pre configured threshold value is exceeded. A user may have an option to set the method by which the user may be notified when an alarm is generated. In one embodiment multiple notification events are defined on the gateway device . These notification events may be capable of being associated with different roles so that assigned user can be notified when the event occurs. Examples of different methods of notification may include but not limited to e mail a text or SMS message instant messaging personal page TV and telephone. Every role types of users may have the ability to receive notification for any notification event. In one embodiment the same notification or alarm event may be notified in multiple ways to the same user. Analogously the same notification or alarm event may be notified in multiple ways to different users.

As described above the logger manager is part of the gateway operational management software . is a high level flow diagram of an exemplary gateway device that collects manages and stores the logs associated with the services provided by or through the exemplary gateway device . Referring to the logger manager manages log information generated by the interaction between the ASL module and the logging application programming interface . In the preferred embodiment the logging application programming interface is associated with either log4cplus or in the case of a third party software component the LINUX syslog system to create logs. The logger manager controls the maximum size of the log files and rolls over the files by interacting with the logging application programming interface . The log files created by the interaction between the ASL module and the logging application programming interface are stored in the log files . The service management center can control the logger manager by accessing the control channel interface through the control channel established between gateway device and service management center .

As described briefly above the service management center can instruct the gateway operational management software as to what information the gateway device should send and when that information should be sent to the service management center . Specifically the service management center downloads logic into the various components of the gateway operational management software to gather information for the gateway device . As an example service management center would access billing manager through control channel to change the logic dictating the gateway s parameters for handling billing records. This same method can be used by the service management center to change the logic in the gateway operational management software with respect to statistics manager alarms manager and logger manager .

As an alternative method demonstrates an example of how service management center can use diagnostic manager to access the operational information stored on the gateway device for data mining and debugging purposes. is a high level flow diagram of an embodiment of service management center using diagnostic manager on an exemplary gateway device to access the operational information stored on the gateway device for data mining and debugging purposes. For example when a billing record is lost as detected by a gap in the billing record sequence numbers the service management center generates a SOAP request for the missing billing record to the diagnostic web services application which converts this to a XMPP control message and sends this using its control channel adapter application programming interface . This message is then sent to the gateway device through the control channel . Referring to the gateway device receives an XMPP message requesting the lost billing record by sequence number via the diagnostic manager . Upon receipt from an indication from the diagnostic manager the billing manager sends the requested record to the service management center .

Only a small portion of the operational information generated and stored locally is sent to the service management center . However all the operational information is stored locally in respective databases such as billing service database statistics database alarms database and log files . The service management center can request that this historical information be sent by the gateway device to the service management center through a diagnostic manager . As seen in with respect to the collection of operational information concerning billing statistics alarms and logs each of those collection efforts use the diagnostic manager that allows the service management center to access historical operational information stored on gateway device .

Additionally the service management center may use diagnostic manager to access the gateway s historical operational information whenever a customer calls in with a problem. The service management center can use its access to the operational information stored on the gateway device for data mining and debugging purpose. One skilled in the art can recognize that this remote access to historical and current data could be used to perform any number of sample studies that would be useful in optimizing network operations as well as marketing activities.

Additionally illustrates an architectural overview of the service management center and demonstrates how the alarms and statistics aggregator collects the alarms statistics and log information from gateway device . The service management center processes alarms statistics and logs through the alarms and statistics aggregator . For example alarm aggregator may collect operational information from the gateway device using the control channel . Furthermore alarms and statistics aggregator for example may request operational information from selected gateway device at predetermined intervals. Operational information may also be collected on demand for instance when a user requests diagnostic information for a selected gateway device . Further yet the gateway devices may communicate alarms to the alarms and statistics aggregator as they occur.

In an exemplary embodiment referring to the alarms and statistics aggregator enables monitoring and troubleshooting the gateway device . The alarms and statistics aggregator in general may provide a collection point for all alarms statistical information and logs from the gateway device . These alarms statistics and logs are massaged e.g. filtered or reformatted and forwarded to the network management system for monitoring and managing of the gateway device . In the preferred embodiment the network management system monitors the aggregated performance of gateway devices by aggregating the summary statistics see discussion in reference to and performing filtering of more detailed alarms and statistics from a sample of the gateway device population. In one possible embodiment the aggregator functionality may serve as a conduit for querying information from each gateway device and information requests may be performed through simple networking management protocol SNMP Gets initiated by the network management system .

Specific to alarms statistics and log information are sent from the gateway device through a control channel via a WAN such as IP network to service management center . The presence and networking infrastructure maintains the control channel between the gateway device and the service management center . Upon receipt of alarms statistics and log information the presence and networking infrastructure transmits this operational information to the alarms and statistics aggregator . Finally the alarms and statistics aggregator transmits the information to the network management system for monitoring and managing of the gateway device . In the preferred embodiment the aggregator s receive alarms and statistics in the format of XMPP messages but other protocols are contemplated.

In one embodiment a mechanism for load balancing and redundancy may be provided for the alarms and statistics aggregators . One mechanism may include performing load balancing across the aggregators through a separate application or functionality referred to as alarm component not shown in . Alarm components may manage connectivity between the presence and networking infrastructure and the alarms and statistics aggregators as well as evenly distribute incoming messages across all aggregators . The alarms and statistics aggregators and components may run in N 1 configuration which may permit an aggregator or component to be unavailable without affecting the collection of alarms statistics and log information.

In another embodiment connectivity to the presence and networking infrastructure may be integrated directly into the alarms and statistics aggregators . In this embodiment the routing of messages from the gateway device to the alarms and statistics aggregators may be based on each gateway device establishing a static connection to the presence and networking infrastructure . Furthermore each alarms and statistics aggregator may establish static connections to multiple points within the presence and networking infrastructure for instance with no point within the presence and networking infrastructure having more than one aggregator connection. In this embodiment messages from a gateway device may then flow through a common path to the same the alarms and statistics aggregators . If an aggregator is unavailable then messages for that alarms and statistics aggregator may route to the closest available aggregator via an alternative path through the presence and networking infrastructure .

Based on the aggregated operational information received by service management center across all gateway devices the service management center can use this aggregated operational information to optimize the service delivery to each gateway device . The service management center controls the gateway devices at two points the diagnostics interface as described above and through subscriber provisioning. Typically for a large number of gateway devices the service management center would use subscriber provisioning to control the gateway operational management software which controls the operational information. When the gateway device is first activated on the exemplary network shown in the gateway device requests from service management center its provisioning. This provisioning includes instructions to the gateway operational management software on what when where and how to collect and transmit operational information to service management center . It should be noted that the gateway s operational management software may be updated any time after the gateway device is activated by the service management center notifying the gateway device of a new provision version.

An example of subscriber provisioning is described with reference to . Assume the application service provider through a new provisioning version of their software establishes that a certain statistic should be gathered every 15 minutes and transmitted to the service management center every 2 hours. In order to accomplish this the application service provider would communicate with the service management center by adjusting the subscriber provisioning in the service configuration manager accordingly. When the change is made in the subscriber provisioning the pub sub system notifies affected gateway devices . The gateway devices request the new provisioning from the service management center and update the appropriate module in the logic comprising the gateway operational management software . In this case the statistics manager would be updated and thereby start gathering the updated statistic every 15 minutes storing the results in the statistics database . Every 2 hours the statistics manager would transmit the updated statistic to the service management center across control channel . This statistic from all gateway devices would be aggregated by the alarms and statistics aggregators . Using the operational information collected by the alarms and statistics aggregators the service management center can control billing statistics alarm and logs information generation and transmission and thereby one skilled in the art can recognize the potential to optimize the network and application service delivery to gateway device and its associated endpoint devices .

It should be noted that subscriber provisioning may include assigning subscribers to predefined gateway classes. A class of gateway devices may be defined by for example geographic regions service basis and or model number of gateway device . By grouping gateway devices into classes the service management center can adjust or filter for example operational information for a particular class.

The gateway device can generate a large amount of operational information and transmit this information over the control channel . While the service management center controls this information by enabling and disabling transmission of this information by the gateway device in this novel system the service management center is not directly involved in service delivery and a summary statistic as seen in is invented so that the service management center can become apprised of the success of service delivery across the exemplary network seen in . is a table illustrating summary statistics that a gateway device may send to service management center to provide the status of the gateway device . These summary statistics are designed to indicate the status of the gateway device s services without requiring a large amount of operational information to be transmitted to the service management center . As discussed above the service management center can aggregate operational information which includes the summary statistics across the entire user base of gateway devices to understand the performance of each of the services provided by the application service provider to the gateway device and their respective endpoint devices . The summary statistic is a single digit number that indicates if the user used the service during the statistics collection interval and the percentage success that the user had with that service. These statistics give the service management center an extremely accurate appraisal of the success of service delivery to the gateway devices and endpoint devices . By default all gateway devices deliver summary statistics to the service management center .

An example of several summary statistics is shown in . Looking at the voice summary statistic row the gateway would set this statistic to zero 0 if no voice calls were made during the gathering period. If during this gathering period at least one voice call was attempted and all voice calls were successful the gateway would set this statistic to 3 indicating 100 success.

It is uneconomical to deploy control channel bandwidth and processing power in the service management center to process every piece of operational information generated by all the gateway devices and their associated endpoint devices . As previously mentioned the communication between the gateway device and the service management center is carried within XML stanzas over an XMPP control channel . To help conserve network resources the gateway operational management software compresses the information carried over the control channel while maintaining the UCS Unicode Transformation Format required by XMPP and XML. This compression is accomplished by using positional comma separated values by performing universal compression techniques limited to an ASCII output space or by compressing the information and then Uuencode the compressed information. In the exemplary gateway operational management software compression is achieved by using positional comma separate values.

With further respect to the architecture of service management center is composed of various layers that provide the security and service architecture required to support the various gateway devices . This layered architecture is a way to group the functional components into logical related grouping. The layered architecture as seen in is made up of the following layers access load distribution and security layer ALDS externally accessible service EAS layer VoIP support layer internal services support ISS layer system support SS layer and network management NM layer .

The equipment in the ALDS layer provides the public interfaces addressable from the public Internet through the IP access routers connecting the service management center to gateway device across IP network . This layer contains all devices that will be the initial entry point of all traffic entering the service management center . The ALDS layer provides security access control and load balancing of traffic directed to the service management center . Furthermore the ALDS layer may use network address translation to provide virtual public IP addresses that map to servers located in the externally accessible service interface layer .

The components of the ALDS layer provide safe access into the service management center by 1 only mapping well known connection ports to listening servers 2 providing port based network address translation PAT from the public access network to the private service management center network 3 protecting the internal application servers from attacks on accidentally open ports and 4 screening for protocol bugs that allow illegal access into applications.

The EAS layer contains servers that can be accessed by devices external to service management center such as gateway device . Specifically the servers comprising the EAS layer may include for example the activation manager . The activation manager receives and processes a new gateway device s activation request coordinating with the authentication manager and the certificate server to authenticate and provide keys and certificates for the activated gateway.

The EAS layer contains the initial entry point for access into the ISS layer to provide services to the gateway device . For example the servers within the EAS layer may provide access for Internet based services like email and remote user access. Additionally the servers in the EAS layer may be grouped into server farms and load balanced using the server load balancer in the ALDS layer .

The VoIP support layer may comprise of servers supporting voice services within the exemplary architecture. For example the VoIP support layer may process session initiation protocol SIP voice calls by performing end user authorization using the authentication manager and redirect the SIP call to the users location i.e. IP address . The equipment in the VoIP Support layer is protected from access from the Internet via the session border controller located in the ALDS layer .

The ISS layer provides the functional support for the application services available to the gateway device . All service requests from the gateway device enters though the EAS layer prior to being processed by the functions residing in the ISS layer . The equipment in the ISS layer may include but not limited to service configuration manager authentication manager certificate server database server and billing collector . The service configuration manager maintains the subscribers service information used to configure the gateway device and its associate endpoint devices . The authentication manager receives requests to authenticate the gateway device and the services the subscribers use. The certificate server creates signing certificates for the gateway device and its associated endpoint devices . The database server for example is the database for the service configuration manager the authentication manager the presence and networking infrastructure and the activation manager . The billing collector collects billing records.

The SS layer provides the services that are used internally within the service management center . For example the SS layer may provide a timing server to synchronize the internal architecture within the service management center . The internal services provided by the SS layer can be used by all other internal layers of service management center but are not accessible by the gateway device .

The equipment comprising the NM layer may include but not limited to the network management system and alarms and statistics aggregator . The network management system is a collection of computer equipment that receives and manages alarms and statistics for the service management center and the gateway device and its associated endpoint devices . The alarms and statistics aggregator processes the statistic and alarm feeds from all gateway devices and all other servers and sends them to the network management system .

The NM layer provides the support for access to and management of operational information from other components of the service management center as well as gateway device and its associated endpoint devices . In addition the NM layer may contain the access point for the network operations center and subsequently application service provider into the infrastructure of the service management center .

Additional components of the service management center include the network operations center the presence and networking infrastructure publisher subscriber server and IP access routers . The network operations center is a location containing computers used by network support personnel for managing the service management center . The presence and networking infrastructure maintains the control channel to the connected gateway device to route command and control messages between the gateway device and the support servers within the service management center . The publisher subscriber server allows the servers in the service management center to subscribe gateway devices and its associated endpoint devices to topics and send notifications to gateway devices and its associated endpoint devices which have subscribed to a topic. The IP access routers are the routers that terminate the physical interfaces to the IP network and route IP packets to and from the service management center .

The gateway device and its interactions with various endpoint devices service management center and application service provider have been described with reference to diagrams of methods apparatus systems and computer program products above. It will be understood that elements and functions illustrated in the diagrams can be implemented by computer program instructions running on one or more appropriately configured hardware platforms e.g. to operate as a gateway device or as one or more systems implementing functions of the service management center . Hence operations described above may be carried out by execution of software firmware or microcode operating on a computer other programmable device of any type. Additionally code for implementing such operations may comprise computer instruction in any form e.g. source code object code interpreted code etc. stored in or carried by any computer or machine readable medium.

Program aspects of the technology may be thought of as products typically in the form of executable code and or associated data for implementing desired functionality which is carried on or embodied in a type of machine readable medium. In this way computer program instructions may be provided to a processor of a general purpose computer special purpose computer embedded processor or other programmable data processing apparatus to produce a machine such that the instructions which execute via the processor of the computer or other programmable data processing apparatus so as to implement functions described above.

Terms regarding computer or machine readable medium or media as used herein therefore relate to any storage medium and any physical or carrier wave transmission medium which participates in providing instructions or code or data to a processor for execution or processing. Storage media include any or all of the memory of the gateway device or associated modules thereof or any of the hardware platforms as may be used in the service management center such as various semiconductor memories tape drives disk drives and other devices now known or to be developed which may provide storage at any time for the software software firmware. All or portions of the software may at times be communicated through the Internet or various other telecommunication networks. Such communications for example may enable loading of the software from one computer into another computer for example from gateway device or from another source into an element of the service management center . Thus another type of media that may bear the software elements includes optical electrical and electromagnetic waves such as used across physical interfaces between local devices through wired and optical landline networks and over various air links. The physical elements that carry such waves such as wired or wireless links optical links or the like also may be considered as media bearing the software. Hence the broad class of media that may bear the instructions or data encompass many forms including but not limited to non volatile storage media volatile storage media as well as carrier wave and physical forms of transmission media.

Those skilled in the art will recognize that the teachings of this disclosure may be modified extended and or applied in a variety of ways. An extension of the system architecture for example provides the ability of various and disparate third party application service providers to provide multiple application services independently. Application services are managed by the application service provider through the service management center meaning generally authorizing provisioning and monitoring the usage of a particular application service. This can be accomplished in a variety of ways with varying degrees of involvement of or coordination with the service management center . The service management center could manage these items soup to nuts or have minimal involvement. For example the service management center could deal directly with the third party application service provider to acquire application services at the request of a user and manage the delivery authorization usage monitoring and upgrading of the application service. At the other end of the spectrum a service provider may have arrangements with the third party application service provider by which orders or requests from the users may come directly to the third party application service provider and services are delivered to the user by the third party service provider who in turn coordinates with the managed service provider to register and monitor the particular application service placed in the gateway device . It should be noted that this ability to manage application services extends through the gateway device into the endpoint devices registered or associated with the gateway device or service management center .

While embodiments of the invention have been illustrated and described in detail in the disclosure the disclosure is to be considered as illustrative and not restrictive in character. All changes and modifications that come within the spirit of the invention are to be considered within the scope of the disclosure.

The foregoing has described what are considered to be the best mode and or other examples it is understood that various modifications may be made therein and that the subject matter disclosed herein may be implemented in various forms and examples and that the teachings may be applied in numerous applications only some of which have been described herein. It is intended by the following claims to claim any and all applications modifications and variations that fall within the true scope of the present teachings.

