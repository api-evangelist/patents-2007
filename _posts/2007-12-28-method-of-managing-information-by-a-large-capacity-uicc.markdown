---

title: Method of managing information by a large capacity UICC
abstract: A method of exchanging information comprising dynamic contents through an interne type network between a large capacity universal integrated circuit card located within a mobile equipment and a remote device, said large capacity universal integrated circuit card comprising a smart card web server and having at least one servlet installed, wherein said smart card web server is configured for managing and controlling the execution of said servlet. It comprises the following steps: said servlet installed in said large capacity universal integrated circuit card implements a functionality of remote application management and processes commands configured for being used by said functionality of remote application management; exchanging said commands between said large capacity universal integrated circuit card and said remote device using an http-type protocol layer.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08676260&OS=08676260&RS=08676260
owner: Microelectronica Espanola S.A.U.
number: 08676260
owner_city: Madrid
owner_country: ES
publication_date: 20071228
---
The present invention is related to the field of mobile communications and more particularly to mobile communications which use a smart card for exchanging information with a remote device through an Internet type network.

In the context of the present disclosure the following terms and expressions can be interpreted as set forth below 

Smart card chip card or integrated circuit card ICC is defined as any pocket sized card with embedded integrated circuits which can process information.

UICC Universal Integrated Circuit Card is the smart card chip card or integrated circuit card used in mobile terminals in GSM and UMTS networks. In a GSM network the UICC contains a SIM application and in a UMTS network it is the USIM application. A UICC may contain several applications making it possible for the same smartcard to give access to both GSM and UMTS networks and also provide storage of a phone book and other applications. It is also possible to access a GSM network using an USIM application and it is possible to access UMTS networks using a SIM application with mobile terminals prepared for this. SIM Subscriber Identity Module is part of a removable smart card or ICC Integrated Circuit Card also known as SIM Card for mobile cellular telephony devices such as mobile computers and mobile phones. It is managed by a GSM mobile network operator MNO and comprises a module for identifying a subscriber who accesses a mobile communications network MNO . It is also capable of storing subscriber information such as its agenda or text messages. USIM Universal Subscriber Identity Module An application for UMTS mobile telephony running on a UICC Universal Integrated Circuit Card also known as USIM Card which is inserted in a 3G mobile phone. MegaSIM Card Large capacity Universal Integrated Circuit Card UICC . In other words it is a SIM Card or USIM Card which additionally comprises a large amount of storing capacity i.e. more than 128 MBytes typically flash memory which allows the subscriber and the MNO to store a large amount of information such as video or images. A large capacity Universal Integrated Circuit Card UICC or MegaSIM Card usually comprises a high speed communications interface such as USB but not limited thereto which allows offering services which imply a large exchange of information. MegaSIM is a registered term MegaSIM by MSYSTEMS LTD. Kefar Saba Israel. Smart Card Web Server SCWS Web server placed in a MegaSIM card. Card Application Runtime Environment CAT RE Entity integrated in the Operative System OS of a large capacity Universal Integrated Circuit Card UICC or MegaSIM card which is in charge of managing and controlling the execution of Toolkit applications. Remote Application Management RAM Toolkit application controlled by the CAT RE in charge of managing the large capacity Universal Integrated Circuit Card UICC or MegaSIM card in relation to the installation of new applications management of the current applications status and management of the status of the card itself. USB Inter chip USB IC Electrical interface between the USB of a large capacity Universal Integrated Circuit Card UICC or MegaSIM and the device supporting said USB of the large capacity Universal Integrated Circuit Card UICC or MegaSIM. This interface is an adaptation of the interface USB 2.0 designed for short distance communications. It only refers to electrical parameters. http Protocol used for the transfer of web pages. https http protocol which includes ciphering based on the Secure Socket Layers SSL in order to create a ciphered channel which is more appropriate than http for the transfer of sensitive information information which requires a certain level of security . TCP IP Network protocol on which Internet is based and which allows data transmission between computer networks. Servlet Is an object that receives a request and generates a response based on that request. The basic servlet package defines Java objects to represent servlet requests and responses as well as objects to reflect the servlet s configuration parameters and execution environment.

Last generation smart cards have the possibility of including a Web server capable of serving static or dynamic web pages to Internet browsers located within the mobile terminal in which the smart card is located or to Internet browsers located within a remote device having Internet access. This service is called Smart Card Web Server SCWS .

The SCWS is feasible thanks to the recent evolution of the smart card since there has been a significant improvement in its communications interfaces communications protocols and storage capacity.

In three physical entities are represented a mobile equipment or mobile terminal a MegaSIM card or large capacity Universal Integrated Circuit Card UICC located within said mobile equipment and a remote device configured for exchanging information with said large capacity Universal Integrated Circuit Card UICC through the Internet . The large capacity UICC comprises at least a high capacity memory such as a flash memory.

In order for the large capacity UICC to communicate with an Internet browser located within the mobile equipment a protocol stack comprising an http or https layer mounted over a TCP IP layer in turn supported by a high speed protocol such as USB IC interface is used. The high speed protocol represented in is USB IC. The SCWS is mounted over said http or https layer . Similarly at the mobile equipment said Internet browser is supported by a http layer mounted over a TCP IP layer in turn supported by a high speed protocol such as a USB IC interface .

Thus when required by a user the Internet browser performs http requests to the SCWS in order to download web pages. These contents web pages are stored and managed at a high capacity memory within the large capacity UICC . Such contents managed by the SCWS can be either static thus being stored in the high capacity memory or dynamic. The dynamic contents are obtained through the execution of applications or Servlets which manage the requests and generate those contents depending on external parameters. The management and execution control of the Servlets is done by the SCWS .

The SCWS comprises three different entities an http and https engine as defined in the Open Mobile Alliance OMA OMA Smart Card Web Server a communications protocol as defined by the European Telecommunications Standards Institute ETSI standards ETSI TS 102 600 and ETSI TS 102 223 and a Servlet functionality as defined by ETSI standard ETSI TS 102 588 .

On the other hand the large capacity UICC comprises a multi application platform in which different applications can co exist allowing the large capacity UICC to become a device offering a plurality of services and having the possibility of adding new services during its lifetime.

The entity in charge of controlling and managing the applications offered by the large capacity UICC is called Card Manager. Besides this entity manages the status of the large capacity UICC and of its applications as well as its privileges.

Once the large capacity UICC is provided to a final user and inserted in a mobile equipment the entity called Card Manager is not reachable any more due mainly to the fact that the mobile equipment does not provide the applications either those located within the device or the remote ones with any mechanism of communication with the Card Manager. This is due to the fact the communication with the Card Manager must be done through a basic logical channel. When the mobile equipment or terminal starts a session it communicates with a default GSM or USIM application through a basic channel. Therefore no other application can select the Card Manager in that basic channel.

In order to solve this problem of visibility of the Card Manager there exists a Toolkit application to which the Card Manager delegates and which allows to carry out many of the tasks for which the Card Manager is responsible. This Toolkit application provides the extra advantage that these activities can be carried out during the whole life of the large capacity UICC and with different communications protocols supported by mobile equipments. This Toolkit application is called Remote Application Management RAM and is defined by ETSI standards ETSI TS 102 226 and ETSI TS 131 116 .

In three physical entities are represented a mobile equipment or mobile terminal a large capacity UICC located within said mobile equipment and an operation center of a Mobile Network Operator MNO . The operation center is configured for exchanging information with said large capacity UICC through the MNO network .

An entity within the Universal Integrated Circuit Card UICC implements the protocol layers ISO 7816 ETSI TS 102 221 3GPP TS 31.102 which define the physical communication with the corresponding protocol layers ISO 7816 ETSI TS 102 221 3GPP TS 31.102 of the mobile equipment within which the large capacity UICC is located.

An entity called CAT RE within the large capacity UICC implements the protocols layer ETSI TS 102 223 ETSI TS 102 241 3GPP TS 31.111 and ETSI TS 131 130 which communicates with the corresponding protocols layer ETSI TS 102 223 ETSI TS 102 241 3GPP TS 31.111 and ETSI TS 131 130 of the mobile equipment within which the large capacity UICC is located. This layer defines the protocol which allows the communication of the Toolkit applications which can be found in the large capacity UICC with external or remote applications and devices.

The physical communication between the mobile equipment and the operation center is implemented by means of layer ETSI TS 123 040 present at both devices . This layer defines the structure of short messages sms which are exchanged between both devices through a sms serving center located within the MNO network .

An entity called OTA Over The Air within the large capacity UICC implements the protocols layer ETSI TS 102 225 and ETSI TS 131 115 which defines a protocol which allows applying security to the frames providing confidentiality authentication and sequence control to said frames. At the operation center this layer ETSI TS 102 225 and ETSI TS 131 115 is supported on the already mentioned layer ETSI TS 123 040 .

Finally an entity called RAM within the large capacity UICC implements the upper layer Global Platform ETSI TS 102 226 and ETSI TS 131 116 . At the operation center this layer Global Platform ETSI TS 102 226 and ETSI TS 131 116 is supported by the already mentioned layer ETSI TS 102 225 and ETSI TS 131 115 . This layer allows an application present at the operation center to manage and control the large capacity UICC through the RAM . Layer defines the application commands which allow the card management that is to say the command which the RAM is capable of interpreting. Among the different tasks supported at this last layer the following can be mentioned loading and installing new applications deleting applications getting the status and characteristics of the applications modifying its status and obtaining the large capacity UICC status and its modification.

Reference refers to the ETSI TS 102 221 layer which comprises an APDU envelope Data Download. This is also represented by reference

A layer 123 040 referred to as is encapsulated within said APDU. This is also represented by reference . This layer is formed by a TLV SMS TPDU. In turn within this SMS TPDU an ETSI layer 131 115 is encapsulated. This ETSI layer 131 115 is referred to as and . This layer comprises a Command packet in which its secured data comprises a Global Platform layer . This secured data which forms the Global Platform layer are the actual commands which are processed by the RAM Toolkit application.

Reference refers to an ETSI TS 102 223 layer which defines a proactive command Send Short Message . This is also represented by reference . A layer 123 040 referred to as is encapsulated within said proactive command Send Short Message . This is also represented by reference . An ETSI layer 131 115 referred to as is encapsulated within the former one . This is also represented by reference . This layer is formed by a Response Packet which provides security. Finally Global Platform layer is encapsulated. This layer comprises de RAM reply. This is also represented by reference

Like in in three physical entities are represented a mobile equipment or mobile terminal a MegaSIM card or large capacity Universal Integrated Circuit Card UICC located within said mobile equipment and a remote device configured for exchanging information with said large capacity Universal Integrated Circuit Card UICC through the Internet .

If the large capacity Universal Integrated Circuit Card UICC wants to establish a TCT IP communication with an external entity such as the mobile equipment a Bearer Independent Protocol BIP gateway located within this mobile equipment is needed. Basically this BIP gateway is used as a protocol converter. In the mobile equipment the TCP IP protocol is used between the http application and the BIP gateway the BIP protocol being used between the BIP gateway and the large capacity Universal Integrated Circuit Card UICC .

Thus in order for the large capacity UICC located within a mobile equipment to communicate with an Internet browser located within the mobile equipment a protocol stack comprising an http or https layer mounted over an entity which implements the protocols layer ETSI TS 102 223 ETSI TS 102 241 3GPP TS 31.111 and ETSI TS 131 130 is used. They communicate with the corresponding protocols layer ETSI TS 102 223 ETSI TS 102 241 3GPP TS 31.111 and ETSI TS 131 130 of the mobile equipment within which the large capacity UICC is located. This layer defines the protocol which allows the communication of the Toolkit applications which can be found in the large capacity UICC with external or remote applications and devices. This layer lays over an entity which supports ISO 7816 ETSI TS 102 221 and 3GPP TS 31.102.

The browser uses the TCP IP protocol and treats the SCWS like another application in the mobile equipment with its IP address and its port. The TCP IP stack usually associates the loop back address 127.0.0.1 with the SIM card USIM card or large capacity Universal Integrated Circuit Card UICC therefore all the received data in the TCP IP stack which are to be delivered to the loop back address are translated to the BIP Protocol and sent to the large capacity Universal Integrated Circuit Card UICC .

At the large capacity Universal Integrated Circuit Card UICC this UICC uses the BIP Protocol to get the data. In this case the data are formatted according to the http or https protocol and then delivered to the SCWS which is configured for triggering any Servlet to process the incoming http command.

Thus when required by a user the Internet browser performs http requests to the SCWS in order to download web pages. These contents web pages are stored and managed at a high capacity memory within the large capacity UICC . The dynamic contents are obtained through the execution of applications or Servlets which manage the requests and generate those contents depending on external parameters.

However the mentioned Toolkit application RAM has several disadvantages among which it can be emphasized that the communications protocol that it uses is very inefficient when it needs to manage tasks which require a large amount of data transfer such as the installation of large sized applications.

The above mentioned problems are addressed by means of a Servlet managed by a SCWS. This Servlet carries out substantially the same functions as a Toolkit application implementing remote application management. This is achieved by taking advantage of the connectivity facilities of the Servlets which adds efficiency and performance to the services offered by an application for remote access management.

Additionally the new approach manages to enhance the application layer Global Platform ETSI TS 102 226 ETSI TS 131 116 implemented by means of a RAM with a more efficient one which takes advantage of the http or https protocol over TCP IP.

Various embodiments are possible to carry out the foregoing including systems and methods for managing information by a large capacity UICC. In one embodiment a method is provided for exchanging information comprising dynamic contents through an internet type network between a large capacity universal integrated circuit card located within a mobile equipment and a remote device. The large capacity universal integrated circuit card comprises a smart card web server and has at least one servlet installed wherein said smart card web server is configured for managing and controlling the execution of said servlet.

This method comprises the following steps said servlet installed in said large capacity universal integrated circuit card implements a functionality of remote application management and processes commands configured for being used by said functionality of remote application management exchanging said commands between said large capacity universal integrated circuit card and said remote device using an http type protocol layer.

In a particular embodiment the body of said http type protocol layer comprises an ETSI TS 131 115 layer encapsulated therein said ETSI TS 131 115 layer having in turn a global platform layer encapsulated therein said global platform layer comprising the commands which said servlet is configured to process.

Alternatively the body of said http type protocol level comprises an enhanced global platform level said enhanced global platform level comprising the commands which said servlet is configured to process said enhanced global platform level permitting encapsulation of commands having size larger than 256 bytes. Preferably said enhanced global platform level is encapsulated within an ETSI TS 131 115 layer in turn encapsulated within said body of said http type protocol level.

The functionality of remote application management is preferably the RAM application as defined by ETSI standards ETSI TS 102.226 and ETSI TS 131 116 .

In a particular embodiment the http type protocol layer is encapsulated within a TCP IP layer in turn encapsulated within a high speed protocol. This high speed protocol is preferably USB IC.

In this embodiment those commands are exchanged between said large capacity universal integrated circuit card and said remote device through a proxy located in said mobile equipment wherein said large capacity universal integrated circuit card is located said proxy implementing a high speed protocol. Additionally the method comprises the step of exchanging said commands between said proxy and said remote device through said internet type network.

In another particular embodiment said http type protocol layer is encapsulated at said large capacity universal integrated circuit card within a bearer independent protocol in turn encapsulated within an ISO 7816 layer at said large capacity universal integrated circuit card.

In that case said commands are preferably exchanged between said large capacity universal integrated circuit card and said remote device by mapping said bearer independent protocol into a TCT IP layer at a gateway located within the mobile equipment within which said universal integrated circuit card is located.

In that case the method further comprises the step of exchanging said TCT IP frames between said mobile equipment and said remote device through an internet type network.

It is another aim of the present invention to provide a large capacity universal integrated circuit card comprising a smart card web server and at least one servlet wherein said smart card web server is configured for managing controlling the execution of said servlet wherein said servlet comprises means for implementing a functionality of remote application management and for generating commands for being used by said functionality of remote application management. Said functionality of remote application management is preferably the RAM application as defined by ETSI standards ETSI TS 102.226 and ETSI TS 131 116 .

It is another aim of the present invention to provide a mobile equipment comprising a large capacity universal integrated circuit card as previously indicated.

It is another aim of the present invention to provide a system comprising at least one mobile equipment according to the previously indicated and at least one remote device said at least one mobile equipment and said at least one remote device being connected through an internet type network.

It is a final aim of the present invention to provide a computer program comprising computer program code means adapted to perform the steps of the method previously indicated when said program is run on a smart card a computer a digital signal processor a field programmable gate array an application specific integrated circuit a micro processor a micro controller or any other form of programmable hardware.

In this text the term comprises and its derivations such as comprising etc. should not be understood in an excluding sense that is these terms should not be interpreted as excluding the possibility that what is described and defined may include further elements steps etc.

In three physical entities are represented a mobile equipment or mobile terminal a large capacity UICC or MegaSIM card located within said mobile equipment and a operation center of a Mobile Network Operator MNO . The operation center is configured for exchanging information with said large capacity UICC through the internet . Non limiting examples of mobile networks over which Mobile Networks operators can operate are GSM UMTS CDMA and IMS.

Preferably said remote application management functionality is the RAM application as defined by ETSI standards ETSI TS 102 226 and ETSI TS 131 116 .

In the embodiment represented in the maximum size length of each of the commands of the Global Platform protocol is 256 bytes of data . As a consequence in order to install large sized applications a plurality of http frames is required each of them having very few application data 256 bytes . The protocol becomes thus very inefficient.

Thanks to the improvement described with respect to an efficient protocol is achieved. However this embodiment can lack certain security which can in turn be overcome by encapsulating a layer 131 115 not illustrated in within the http layer . The enhanced Global Platform layer is in this case encapsulated within said layer 131 115. This way efficiency is maintained while the security requirement which is normally applied to the conventional RAM application is also maintained. The frame corresponding to this situation is similar to the one represented in with the difference that the regular Global Platform commands are substituted by the Enhanced Global Platform commands of . The Enhanced Global Platform commands are thus encapsulated over layer 131 115.

Next an alternative to this last embodiment is described where a ciphered channel can be applied in order to confer security to the protocol. Non limiting examples of technologies which can be used for applying such ciphered channel are SSL and TLS. When http is used over TLS or SSL the resulting secured channel offers authentication and confidentiality to the applications that run over http in which case the http protocol is called https.

The encapsulation of the commands of the Global Platform and of the enhanced Global Platform within an http type frame illustrated in respectively also applies to the embodiment of .

In summary systems and methods implemented as described above provide a Servlet managed by the SCWS. This Servlet carries out the same functions as the ToolKit application RAM. This is achieved by taking advantage of the connectivity facilities of the Servlets which provides the services offered by application RAM with better efficiency and performance.

Additionally this approach manages to improve the application layer Global Platform ETSI 102226 ETSI 131116 implemented by means of a remote application management functionality taking advantage of the http or https protocol over TCP IP.

The various embodiments of the invention are obviously not limited to the specific embodiments described herein but also encompasses any variations that may be considered by any person skilled in the art for example as regards the choice of components configuration etc. within the general scope of the invention as defined in the appended claims.

