---

title: Communications device and related method with improved acquisition estimates of frequency offset and phase error
abstract: A repeated preamble bit or symbol pattern such as for a binary phase shift keyed (BPSK) communications signal is received within a modem. An initial frequency offset and phase error estimate is generated by processing a Fast Fourier Transform (FFT) that detects the repeated preamble pattern for a block of samples within the communications signal. Two halves of the block of samples are correlated with a plurality of different BPSK shifted sequences to obtain a symbol timing alignment based on the shifted sequence providing the maximum correlation value. A frequency offset estimate is iteratively updated an N number of times using the shifted sequence providing the maximum correlation value to refine an acquisition estimate of the frequency offset and phase error of the received communications signal.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08054920&OS=08054920&RS=08054920
owner: Harris Corporation
number: 08054920
owner_city: Melbourne
owner_country: US
publication_date: 20071212
---
The present invention relates to communications devices and more particularly the present invention relates to communications devices that improve acquisition estimates of frequency offset and phase error.

Some multi band or other tactical radios operate in the high frequency HF very high frequency VHF and ultra high frequency UHF bands. The frequency range of these multi band tactical radios is from about 2 MHz to about 512 MHz. Next generation radios will probably cover about 2.0 to about 2 000 MHz 2.0 GHz or higher to accommodate wider bandwidths higher data rates and less crowded frequency bands. Several standards have been developed for the different frequency bands. For HF US MIL STD 188 110B and US MIL STD 188 141B specify waveforms and minimum performance requirements of waveforms and radio equipment the disclosures which are incorporated by reference in their entirety.

UHF standards on the other hand provide different challenges over the 225 to about 512 MHz frequency range including short haul line of sight LOS communication and satellite communications SATCOM and cable. UHF waveforms operate through different weather conditions foliage and other obstacles making UHF SATCOM an indispensable communications medium for many agencies. Different directional antennas can be used to improve antenna gain and improve data rates on the transmit and receive links. This type of communication is typically governed in one example by MIL STD 188 181B the disclosure which is incorporated by reference in its entirety. This standard specifies a family of constant and non constant amplitude waveforms for use over satellite links.

The joint tactical radio system JTRS implements some of these standards and has different designs that use oscillators mixers switchers splitters combiners and power amplifier devices to cover different frequency ranges. The modulation schemes used for these types of systems can occupy a fixed bandwidth channel at a fixed carrier frequency or can be frequency hopped.

These systems use many different types of modulations including M ary phase shift keying M PSK modulation M ary quadrature amplitude modulation M QAM or modulations with memory such as continuous phase modulation CPM and are sometimes combined with convolutional or other type of forward error correction codes. To ensure interoperability standardized waveforms are often used. These and other systems often use a Binary Phase Shift Keyed BPSK waveform for Demand Assigned Multiple Access DAMA communications systems. Some examples are the 117F and F3 manpack radios manufactured by Harris Corporation of Melbourne Fla. Several performance issues were noted in some of these and similar radios as caused by bad acquisitions. The receiver modem must acquire the waveform in each DAMA slot such as corresponding to a time division multiple access TDMA slot. If acquisition estimates have excessive error data is lost for the entire slot.

This type of modem often uses a Fast Fourier Transform FFT to detect the waveform and exploit spectral characteristics of a transmitted preamble. After the modem processes the FFT and detects the preamble the modem estimates the frequency offset and the phase from complex FFT output values. It is desirable to improve acquisition estimates of the frequency offset phase error and symbol timing to allow better processing and acquisition estimates and enhance communications.

Also because of the non random aspect of the preamble the start of message bit correlation can sometimes false alarm during this non random preamble portion of the waveform i.e. the 110110110110 portion of the preamble for example forming the training sequence. It would be advantageous if false detections could be reduced in this portion of the preamble prior to the start of message bits.

In accordance with a non limiting example of the present invention a communications device and associated method processes a communications signal to improve the acquisition estimates of frequency offset and phase error. A repeated preamble bit pattern for a digitally modulated communications signal such as a binary phase shift keyed BPSK communications signal is received within a modem. An initial frequency offset and phase error estimate is generated such as by processing a Fast Fourier Transform FFT as a non limiting example that detects the repeated preamble pattern for a block of samples within the communications signal. The block of samples is divided into two halves and each half is correlated with a plurality of different BPSK sequences generated by shifting the original training sequence to obtain a symbol timing alignment based on the shifted training sequence which provides the maximum correlation value for the two half blocks. A frequency offset estimate is iteratively updated an N number of times using as the reference for the correlator the shifted sequence which provided the maximum correlation value to refine an acquisition estimate of the frequency offset and phase error of the received communications signal.

In accordance with another non limiting aspect of the present invention the magnitude squared of the sum of the two halves of the complex correlation output values for each shifted training sequence is calculated and the shifted sequence providing the largest sum is used to determine the symbol timing alignment. The frequency offset adjustment is also determined by performing a complex conjugate dot product between the two halves of the correlation outputs. The frequency offset estimation is updated based on the initial frequency offset estimate and the new estimated frequency offset. The initial block of samples used by the FFT is rotated by the updated frequency offset estimate. A repeated preamble pattern is formed as a training sequence in one non limiting example.

Different embodiments will now be described more fully hereinafter with reference to the accompanying drawings in which preferred embodiments are shown. Many different forms can be set forth and described embodiments should not be construed as limited to the embodiments set forth herein. Rather these embodiments are provided so that this disclosure will be thorough and complete and will fully convey the scope to those skilled in the art.

It should be appreciated by one skilled in the art that the approach to be described is not limited for use with any particular communication standard wireless or otherwise and can be adapted for use with numerous wireless or wired communications standards such as Enhanced Data rates for GSM Evolution EDGE General Packet Radio Service GPRS or Enhanced GPRS EGPRS extended data rate Bluetooth Wideband Code Division Multiple Access WCDMA Wireless LAN WLAN Ultra Wideband UWB coaxial cable radar optical etc. Further the invention is not limited for use with a specific PHY or radio type but is applicable to other compatible technologies as well.

Throughout this description the term communications device is defined as any apparatus or mechanism adapted to transmit receive or transmit and receive data through a medium. The communications device may be adapted to communicate over any suitable medium such as RF wireless infrared optical wired microwave etc. In the case of wireless communications the communications device may comprise an RF transmitter RF receiver RF transceiver or any combination thereof. Wireless communication involves radio frequency communication microwave communication for example long range line of sight via highly directional antennas or short range communication and or infrared IR short range communication. Applications may involve point to point communication point to multipoint communication broadcasting cellular networks and other wireless networks.

As will be appreciated by those skilled in the art a method data processing system or computer program product can embody different examples in accordance with a non limiting example of the present invention. Accordingly these portions may take the form of an entirely hardware embodiment an entirely software embodiment or an embodiment combining software and hardware aspects. Furthermore portions may be a computer program product on a computer usable storage medium having computer readable program code on the medium. Any suitable computer readable medium may be utilized including but not limited to static and dynamic storage devices hard disks optical storage devices and magnetic storage devices.

The description as presented below can apply with reference to flowchart illustrations of methods systems and computer program products according to an embodiment of the invention. It will be understood that blocks of the illustrations and combinations of blocks in the illustrations can be implemented by computer program instructions. These computer program instructions may be provided to a processor of a general purpose computer special purpose computer or other programmable data processing apparatus to produce a machine such that the instructions which execute via the processor of the computer or other programmable data processing apparatus implement the functions specified in the block or blocks.

These computer program instructions may also be stored in a computer readable memory that can direct a computer or other programmable data processing apparatus to function in a particular manner such that the instructions stored in the computer readable memory result in an article of manufacture including instructions which implement the function specified in the flowchart block or blocks. The computer program instructions may also be loaded onto a computer or other programmable data processing apparatus to cause a series of operational steps to be performed on the computer or other programmable apparatus to produce a computer implemented process such that the instructions which execute on the computer or other programmable apparatus provide steps for implementing the functions specified in the flowchart block or blocks.

The communications system and device and related method in accordance with a non limiting example of the present invention involves an iterative approach to refine frequency offset and phase error estimates and provides a highly accurate symbol timing estimate.

Some current modems for communications systems and devices especially those processing a BPSK waveform have implemented an approach that uses the FFT to detect the waveform by exploiting the spectral characteristics of the transmitted preamble. After the FFT detects the preamble the modem estimates the frequency offset and phase error from complex FFT output values. Note that other techniques such as sliding block correlators using a single reference sequence rotated by various frequency offset hypothesis where block size is equal to FFT size can be used instead of FFT approach but may be more computational intensive to implement.

An initial transmission typically has a repeated pattern such as 011 followed by a unique start of message SOM sequence. The FFT based processing in the modem detects the repeated pattern of the 011 sequence and generates an initial frequency offset and phase error estimate. The FFT in this case spans 256 samples containing 64 BPSK symbols sampled at four samples per symbol. The system device and method in accordance with a non limiting example of the present invention processes this block of 256 samples and the initial frequency offset estimate in an iterative fashion to improve the acquisition estimates of frequency offset and phase error and provide a symbol timing estimate. It also better detects the start of message sequence using correlators. Note that the block size can be increased in an effort to further improve the initial acquisition processing for example 512 samples instead of 256 .

An example of the steps that can be used in accordance with a non limiting example of the iterative technique is set forth below as explained for a BPSK waveform.

Step 2 A complex correlation is performed in two halves 128 samples each with 12 different BPSK 011 training sequence alignments 4 samples per symbol as follows 

Step 3 The magnitude squared of the sum of the two halves of each correlator output is calculated and the alignment giving the maximum value is selected Note that only the training sequence alignment yielding the maximum value will be used in steps 4 7.

Step 4 A frequency offset adjustment is calculated by performing the complex conjugate dot product between the first one half complex correlator output and the second half complex correlator output.

Step 6 The initial 256 samples used by FFT processing are rotated by the negative of the updated frequency offset estimate.

Step 7 A complex correlation is performed in two halves 128 samples each with the training sequence alignment that gave the maximum value.

Step 8 Steps 4 7 are repeated a number of times iteratively . In one non limiting example three iterations occur.

Step 9 The final updated frequency estimate is obtained after the iterative process the selected training sequence alignment accurately identifies the proper symbol alignment and the final correlation values provide the phase error estimate to give a more refined or accurate frequency offset and phase error.

DAMA technology is often used in association with a BPSK waveform because binary phase shift keying BPSK is a simple and robust digital modulation technique. BPSK uses two phases that are separated by 180 degrees thus it can also be termed 2 PSK . This type of modulation is more robust than higher order PSK modulations i.e. 4 PSK 8 PSK etc and serious distortions would have to occur to force a demodulator to reach an incorrect decision.

It should be understood that the technique as described can be used with any type of modem that processes M PSK M QAM and CPM waveforms and particularly a BPSK waveform that has known repeated data in the preamble to provide a technique for not only obtaining the symbol timing but also improving the acquisition estimates of the frequency offset and phase error. Also as noted before the modem uses the FFT to detect the waveform by exploiting the spectral characteristics of a transmitted preamble.

As shown in the modem is incorporated as part of a transceiver modem processor for BPSK modulation and demodulation and includes a modulator and demodulator . The modulator receives data and includes all necessary processing functions with appropriate modules and circuits as required for operation. A clock signal is received from a system clock as illustrated. The demodulator includes necessary functional modules or circuits including those for a detector demodulator decoder data decompressor CRC checker and filter as non limiting examples of the type of circuits or modules that can be part of the modem and its processor. The modem can be incorporated within a digital signal processor or field programmable gate array including a software defined radio or it can be part of a hard wired transceiver or discrete modem radio circuit. The modem includes any necessary processor modules . The switch allows transmit and receive functions to pass through other radio circuits into and from the antenna .

Appropriate amplifiers can be positioned between the modulator switch and demodulator . Correlator modules as will be explained in further detail relative to detect the start of message sequence in a better manner with reduced false detects providing a technique for reducing start of message false detects. The correlators using multiple hypothesis correlation processing as a quad correlator. Due to the non random aspect of the preamble the start of message bit correlation can sometimes false alarm during this non random preamble portion of the waveform. The correlator modules can reduce the false detections in the 110110 . . . portion of the preamble prior to the start of message bits. Once the waveform preamble is acquired and frequency phase and timing offset computed it is possible to start the correlator modules while searching for the start of message bits and the other plurality of correlators correlating for three different phases of the 110 pattern as will be explained in detail below.

It should be understood that different techniques can be used for generating BPSK signals including the use of standard lattice ring modulators or balanced modulators. Demodulation can occur using a balanced modulator such as a diode ring or lattice modulator. These modules or circuit functions could be incorporated within appropriate DSP or FPGA circuits that include the modem. As an example when demodulating BPSK signals a carrier with a correct frequency and phase relationship can be applied to a balanced modulator along with the BPSK signal in an appropriate carrier recovery circuit. Some type of bandpass filter could ensure that only the desired BPSK signal is passed. This signal could be squared or multiplied by itself in a balanced modulator or analog multiplier by applying the same signal to both inputs. Squaring could remove the 180 degree phase shifts resulting in an output that is twice the input signal frequency. The signal could be passed through a bandpass filter with the resulting signal applied to the phase detector of a phase locked loop PLL . A voltage controlled oscillator could track any carrier frequency shifts. A correct frequency and phase relationship can be obtained as the result and the carrier is applied to the balanced modulator demodulator along with a BPSK signal in one non limiting example.

A complex correlation is next performed in two halves with different BPSK training sequence alignments block . As noted before in the previous step by step description twelve different BPSK training sequence alignments are used in this example. Any number of different BPSK sequences however could possibly be used depending on end use and device processing requirements such as the number of samples per symbol . It should be understood that the phasing of the 011 portions in the data are initially not known. Because there are 256 samples the bit sequence is broken into two halves with 128 samples followed by 128 samples. These samples are correlated against a shifted and repeated 011 BPSK symbol pattern. For example if four samples per symbol are used the 011 BPSK symbol pattern expands to 000011111111 samples and this base pattern is repeated to generate 256 samples. To generate the second sequence the base pattern is circularly shifted left by 1. The third pattern is the base pattern circularly shifted left by 2 the fourth pattern is the base pattern circularly shifted left by 3 and so forth. Once the twelve patterns are generated the processor can then correlate the received 256 samples with the 12 training sequence alignment patterns where each correlation is over 128 samples.

At this time block the sum of the magnitude squared of the two halves is calculated using the correlation outputs of each of the 12 training sequence alignment patterns. The modem receive processing looks at the 12 magnitude squared values and the largest value corresponds to the best symbol timing alignment. Thus this technique can determine symbol timing alignment down to a sample. Prior to this step the modem does not know where symbol boundaries begin and end.

At this time the modem calculates the frequency offset adjustment by performing a complex conjugate dot product block between the output of the two 128 sample correlations for the sequence alignment with the largest magnitude squared value. Ideally if the first estimate coming from the FFT was correct this would be a 0. This often would not occur and as a result a delta corresponding to the change in the frequency offset is obtained. The frequency offset estimate is updated block as based on the initial value with the new estimated value. A loop back occurs and the initial data is rotated by the negative of the new frequency offset value. The initial FFT values are rotated and a complex correlation performed with only the shifted training sequence alignment pattern that gave the largest magnitude squared value block . Instead of performing the correlation for all 12 sequences the modem performs a correlation for one sequence in which the timing alignment is known as has been determined in the previous portion of the process. The modem the first time through the process obtains the symbol timing alignment from the sequence providing the maximum value. On the subsequent rotation the loop occurs.

The frequency offset adjustment is repeated block and the frequency offset estimate is updated with the complex correlation an N number of times. N can vary but in one non limiting example is three. The final updated frequency estimate is used and the symbol alignment is identified and the phase error estimate completed block . Thus the selected correlator gives the proper symbol timing alignment and the final correlator values for the phase error estimate.

It is possible for the line drawn from the frequency compensation block to come from after the received samples at block into the frequency compensation at block . This process and choice can depend on how the frequency estimate is maintained and the delta compensated. It is possible to establish an initial frequency estimate from the acquisition and keep updating a delta frequency estimate from that estimation. It is also possible to maintain a total frequency offset and pull the received samples every time.

When no offset is inserted ideally only an impulse centered at zero would be observed. When an offset is inserted into system impulse shifts to frequency offset value. Noise causes the FFT and the new technique to differ from the ideal impulse centered at 0 for or 100 Hz for . It is evident from these results that at low signal to noise ratios the new technique reduces the frequency error computed by the FFT process.

For the case of BPSK the communications device and modem provides for fast complex correlation processing when using the iterative technique as described because the reference patterns are purely real i.e. the computational complexity of correlations is half of true complex correlations . Additionally for all modulation types computational complexity is reduced further by using only one training sequence alignment pattern in iterative process. It should be understood that not only does the modem use the 12 training sequence alignment pattern correlations to obtain good symbol timing but also through further processing the modem and its iterative processing obtains the enhanced frequency and phase estimate. The iterative technique as described can be applied to any waveform and modulation that has a known repeated preamble. The first portion of the algorithm which is the first iteration of the iterative technique obtains a better alignment for the symbol timing. Then a better frequency estimate and phase estimate are obtained as the iterative technique proceeds.

Referring now to the details of the correlator modules shown in are illustrated. For the example case of BPSK with a repeated training sequence of 011 four correlators are shown. The first correlator is as a start of message correlator that is operative using a start of message bit sequence derived from a Legendre Polynomial LPN . Three training correlators are operative with the three different phases of the 011 sequence e.g. the 110 011 and 101 phase as illustrated. The processor module shown in is also operative with the correlators . Note that one sample per symbol processing is used for this portion of modem processing in a non limiting example.

The correlators i.e. quad correlators together reduce the false detection of the start of message sequence. As noted before the modem must acquire the waveform in each DAMA slot. Because of the non random aspect of the preamble the start of message bit correlation can sometimes false alarm during this non random preamble portion of the waveform i.e. 110110110110 see . The quad correlator reduces the false detections in the 110110 . . . portion of the preamble prior to the start of message bits as shown in .

As noted before some legacy radios use the FFT to detect the waveform by exploiting the spectral characteristics of the transmitted preamble. After the FFT detects the preamble the modem estimates the frequency offset phase error and symbol timing. To detect the start of message a start of message bit correlator is executed until the correlator output value exceeds a threshold. In these legacy radios some operability is obtained with adequate results but better results could be obtained.

The start of message false detect technique in accordance with a non limiting example of the present invention acquires the waveform preamble and the frequency offset phase error and symbol timing are computed as noted before. The four correlators are started. The first correlator as the start of message correlator searches for the start of message bits. The other three correlators correlate for the three different phases of the 110 pattern. The start of message correlator output must be larger than any one of the three correlators looking for the different phases of the 110 pattern. The processor module provides a new state machine for acquisition with the correlators. It should be understood that the processor module of the modem can incorporate the different correlators as part of a digital signal processor or field programmable gate array or other processing modules or circuitry. The processor module takes the results from the correlator and processes them for the start of message detect. It should be understood that the start of message should be greater than the start of message threshold and all three correlators should have less than a start of message threshold to correspond to a good acquisition. Thus the correlator module avoids falsing during the non random portion of a preamble when searching for the start of message bits.

It should be understood that the correlator modules are advantageous because the 011 or similar pattern often is a poor pattern from a correlation properties perspective and this pattern makes it difficult to correlate for the start of message especially if noise is involved. The quad correlator allows a more reliable detection of the start of message because the three different phases of the 011 are looked for within the correlators. In the first portion of the technique described relative to the four samples for every symbol are processed. In a non limiting example of the present invention the start of message false detect technique described by shows modem processing performed on a one sample per symbol basis with four different correlators running the start of message correlator and the three phases of the 011 pattern.

The first correlator as the start of message correlator uses bits obtained from a Legendre Polynomial LPN . Note that this bit pattern can be found in the US MIL STD 188 181B specification.

As shown in the SOM correlator has a false peak during the training sequence. Modem processing that only correlates for the SOM sequence would have falsely detected the SOM pattern and output erroneous data for that DAMA slot.

In the graph shown in there is a good acquisition with the three training correlators coming up and ramping back down again. The peak occurs at the end after the three correlators slide into the start of message bit pattern. The phase can be irrelevant at the end and a positive or negative peak can occur.

For purposes of description some background information on coding interleaving and an exemplary wireless mobile radio communications system that includes ad hoc capability and can be modified for use is set forth. This example of a communications system that can be used and modified for use with the present invention is now set forth with regard to .

An example of a radio that could be used with such system and method is a Falcon III radio manufactured and sold by Harris Corporation of Melbourne Fla. This type of radio can support carrier frequencies form 30 MHz up to 2 GHz including L band SATCOM and MANET. The waveforms can provide secure IP data networking. It should be understood that different radios can be used including software defined radios that can be typically implemented with relatively standard processor and hardware components. One particular class of software radio is the Joint Tactical Radio JTR which includes relatively standard radio and processing hardware along with any appropriate waveform software modules to implement the communication waveforms a radio will use. JTR radios also use operating system software that conforms with the software communications architecture SCA specification see www trs.saalt.mil which is hereby incorporated by reference in its entirety. The SCA is an open architecture framework that specifies how hardware and software components are to interoperate so that different manufacturers and developers can readily integrate the respective components into a single device.

The Joint Tactical Radio System JTRS Software Component Architecture SCA defines a set of interfaces and protocols often based on the Common Object Request Broker Architecture CORBA for implementing a Software Defined Radio SDR . In part JTRS and its SCA are used with a family of software re programmable radios. As such the SCA is a specific set of rules methods and design criteria for implementing software re programmable digital radios.

The JTRS SCA specification is published by the JTRS Joint Program Office JPO . The JTRS SCA has been structured to provide for portability of applications software between different JTRS SCA implementations leverage commercial standards to reduce development cost reduce development time of new waveforms through the ability to reuse design modules and build on evolving commercial frameworks and architectures.

The JTRS SCA is not a system specification as it is intended to be implementation independent but a set of rules that constrain the design of systems to achieve desired JTRS objectives. The software framework of the JTRS SCA defines the Operating Environment OE and specifies the services and interfaces that applications use from that environment. The SCA OE comprises a Core Framework CF a CORBA middleware and an Operating System OS based on the Portable Operating System Interface POSIX with associated board support packages. The JTRS SCA also provides a building block structure defined in the API Supplement for defining application programming interfaces APIs between application software components.

The JTRS SCA Core Framework CF is an architectural concept defining the essential core set of open software Interfaces and Profiles that provide for the deployment management interconnection and intercommunication of software application components in embedded distributed computing communication systems. Interfaces may be defined in the JTRS SCA Specification. However developers may implement some of them some may be implemented by non core applications i.e. waveforms etc. and some may be implemented by hardware device providers.

For purposes of description only a brief description of an example of a communications system that includes communications devices that incorporate the filter in accordance with a non limiting example is described relative to a non limiting example shown in . This high level block diagram of a communications system includes a base station segment and wireless message terminals that could be modified for use with the present invention. The base station segment includes a VHF radio and HF radio that communicate and transmit voice or data over a wireless link to a VHF net or HF net each which include a number of respective VHF radios and HF radios and personal computer workstations connected to the radios . Ad hoc communication networks are interoperative with the various components as illustrated. The entire network can be ad hoc and include source destination and neighboring mobile nodes. Thus it should be understood that the HF or VHF networks include HF and VHF net segments that are infrastructure less and operative as the ad hoc communications network. Although UHF and higher frequency radios and net segments are not illustrated these could be included.

The radio can include a demodulator circuit and appropriate convolutional encoder circuit block interleaver data randomizer circuit data and framing circuit modulation circuit matched filter circuit block or symbol equalizer circuit with an appropriate clamping device deinterleaver and decoder circuit modem and power adaptation circuit as non limiting examples. A vocoder circuit can incorporate the decode and encode functions and a conversion unit could be a combination of the various circuits as described or a separate circuit. A clock circuit can establish the physical clock time and through second order calculations as described below a virtual clock time. The network can have an overall network clock time. These and other circuits operate to perform any functions necessary for the present invention as well as other functions suggested by those skilled in the art. Other illustrated radios including all VHF or UHF and higher frequency mobile radios and transmitting and receiving stations can have similar functional circuits. Radios could range from 30 MHz to about 2 GHz as non limiting examples.

The base station segment includes a landline connection to a public switched telephone network PSTN which connects to a PABX . A satellite interface such as a satellite ground station connects to the PABX which connects to processors forming wireless gateways . These interconnect to the VHF radio or HF radio respectively. The processors are connected through a local area network to the PABX and e mail clients . The radios include appropriate signal generators and modulators.

An Ethernet TCP IP local area network could operate as a radio mail server. E mail messages could be sent over radio links and local air networks using STANAG 5066 as second generation protocols waveforms the disclosure which is hereby incorporated by reference in its entirety and of course preferably with the third generation interoperability standard STANAG 4538 the disclosure which is hereby incorporated by reference in its entirety. An interoperability standard FED STD 1052 the disclosure which is hereby incorporated by reference in its entirety could be used with legacy wireless devices. Examples of equipment that can be used in the present invention include different wireless gateway and radios manufactured by Harris Corporation of Melbourne Fla. This equipment could include RF5800 5022 7210 5710 5285 and PRC 117 and 138 series equipment and devices as non limiting examples.

These systems can be operable with RF 5710A high frequency HF modems and with the NATO standard known as STANAG 4539 the disclosure which is hereby incorporated by reference in its entirety which provides for transmission of long distance radio at rates up to 9 600 bps. In addition to modem technology those systems can use wireless email products that use a suite of data link protocols designed and perfected for stressed tactical channels such as the STANAG 4538 or STANAG 5066 the disclosures which are hereby incorporated by reference in their entirety. It is also possible to use a fixed non adaptive data rate as high as 19 200 bps with a radio set to ISB mode and an HF modem set to a fixed data rate. It is possible to use code combining techniques and ARQ.

A communications system that incorporates communications devices can be used in accordance with non limiting examples of the present invention and is shown in . A transmitter is shown at and includes basic functional circuit components or modules including a forward error correction encoder that includes a puncturing module which could be integral to the encoder or a separate module. The decoder and its puncturing module includes a function for repeating as will be explained below. Encoded data is interleaved at an interleaver for example a block interleaver and in many cases modulated at modulator . This modulator can map the communications data into different symbols based on a specific mapping algorithm to form a communications signal. For example it could form Minimum Shift Keying or Gaussian Minimum Shift Keying MSK or GMSK symbols. Other types of modulation could be used in accordance with non limiting examples of the present invention. Up conversion and filtering occurs at an up converter and filter which could be formed as an integrated module or separate modules. Communications signals are transmitted for example wirelessly to receiver .

At the receiver down conversion and filtering occurs at a down converter and filter which could be integrated or separate modules. The signal is demodulated at demodulator and deinterleaved at deinterleaver . The deinterleaved data i.e. bit soft decisions is decoded and depunctured for punctured codes combined for repeated codes and passed through for standard codes at decoder which could include a separate or integrated depuncturing module. The system apparatus and method can use different modules and different functions. These components as described could typically be contained within one transceiver.

It should be understood in one non limiting aspect of the present invention a rate K 7 convolutional code can be used as an industry standard code for forward error correction FEC during encoding. For purposes of understanding a more detailed description of basic components now follows. A convolutional code is an error correcting code and usually has three parameters n k m with n equal to the number of output bits k equal to the number of input bits and m equal to the number of memory registers in one non limiting example. The quantity k n could be called the code rate with this definition and is a measure of the efficiency of the code. K and n parameters can range from 1 to 8 m can range from 2 to 10 and the code rate can range from to in non limiting examples. Sometimes convolutional code chips are specified by parameters n k L with L equal to the constraint length of the code as L k m 1 . Thus the constraint length can represent the number of bits in an encoder memory that would affect the generation of n output bits. Sometimes the letters may be switched depending on the definitions used.

The transformation of the encoded data is a function of the information symbols and the constraint length of the code. Single bit input codes can produce punctured codes that give different code rates. For example when a rate code is used the transmission of a subset of the output bits of the encoder can convert the rate code into a rate code. Thus one hardware circuit or module can produce codes of different rates. Punctured codes allow rates to be changed dynamically through software or hardware depending on channel conditions such as rain or other channel impairing conditions.

An encoder for a convolutional code typically uses a look up table for encoding which usually includes an input bit as well as a number of previous input bits known as the state of the encoder the table value being the output bit or bits of the encoder. It is possible to view the encoder function as a state diagram a tree diagram or a trellis diagram.

Decoding systems for convolutional codes can use 1 sequential decoding or 2 maximum likelihood decoding also referred to as Viterbi decoding which typically is more desirable. Sequential decoding allows both forward and backward movement through the trellis. Viterbi decoding as maximum likelihood decoding examines a receive sequence of given length computes a metric for each path and makes a decision based on the metric.

Puncturing convolutional codes is a common practice in some systems and is used in accordance with non limiting examples of the present invention. It should be understood that in some examples a punctured convolutional code is a higher rate code obtained by the periodic elimination of specific code bits from the output of a low rate encoder. Punctured convolutional code performance can be degraded compared with original codes but typically the coding rate increases.

Some of the basic components that could be used as non limiting examples of the present invention include a transmitter that incorporates a convolutional encoder which encodes a sequence of binary input vectors to produce the sequence of binary output vectors and can be defined using a trellis structure. An interleaver for example a block interleaver can permute the bits of the output vectors. The interleaved data would also be modulated at the transmitter by mapping to transmit symbols and transmitted. At a receiver a demodulator demodulates the signal.

A block deinterleaver recovers the bits that were interleaved. A Viterbi decoder could decode the deinterleaved bit soft decisions to produce binary output data.

Often a Viterbi forward error correction module or core is used that would include a convolutional encoder and Viterbi decoder as part of a radio transceiver as described above. For example if the constraint length of the convolutional code is 7 the encoder and Viterbi decoder could support selectable code rates of 6 7 using industry standard puncturing algorithms.

Different design and block systems parameters could include the constraint length as a number of input bits over which the convolutional code is computed and a convolutional code rate as the ratio of the input to output bits for the convolutional encoder. The puncturing rate could include a ratio of input to output bits for the convolutional encoder using the puncturing process for example derived from a rate code.

The Viterbi decoder parameters could include the convolutional code rate as a ratio of input to output bits for the convolutional encoder. The puncture rate could be the ratio of input to output bits for the convolutional encoder using a puncturing process and can be derived from a rate mother code. The input bits could be the number of processing bits for the decoder. The Viterbi input width could be the width of input data i.e. soft decisions to the Viterbi decoder. A metric register length could be the width of registers storing the metrics. A trace back depth could be the length of path required by the Viterbi decoder to compute the most likely decoded bit value. The size of the memory storing the path metrics information for the decoding process could be the memory size. In some instances a Viterbi decoder could include a First In First Out FIFO buffer between depuncture and Viterbi function blocks or modules. The Viterbi output width could be the width of input data to the Viterbi decoder.

The encoder could include a puncturing block circuit or module as noted above. Usually a convolutional encoder may have a constraint length of 7 and take the form of a shift register with a number of elements for example 6. One bit can be input for each clock cycle. Thus the output bits could be defined by a combination of shift register elements using a standard generator code and be concatenated to form an encoded output sequence. There could be a serial or parallel byte data interface at the input. The output width could be programmable depending on the punctured code rate of the application.

A Viterbi decoder in non limiting examples could divide the input data stream into blocks and estimate the most likely data sequence. Each decoded data sequence could be output in a burst. The input and calculations can be continuous and require four clock cycles for every two bits of data in one non limiting example. An input FIFO can be dependent on a depuncture input data rate.

It should also be understood that the present invention is not limited to convolutional codes and similar FEC but also turbo codes could be used as high performance error correction codes or low density parity check codes that approach the Shannon limit as the theoretical limit of maximum information transfer rate over a noisy channel. Thus some available bandwidth can be increased without increasing the power of the transmission. Instead of producing binary digits from the signal the front end of the decoder could be designed to produce a likelihood measure for each bit.

The system and extended preamble in accordance with non limiting examples of the present invention can be used in multiprocessor embedded systems and related methods and also used for any type of radio software communications architecture as used on mainframe computers or small computers including laptops with an added transceiver such as used by military and civilian applications or in a portable wireless communications device. The portable wireless communications device can include a transceiver as an internal component and handheld housing with an antenna and control knobs. A Liquid Crystal Display LCD or similar display can be positioned on the housing in an appropriate location for display. The various internal components including dual processor systems for red and black subsystems and software that is conforming with SCA can be operative with the radio. The architecture as described can be used with any processor system operative with the transceiver in accordance with non limiting examples of the present invention. An example of a communications device that could incorporate the system and method in accordance with non limiting examples of the present invention is the Falcon III manpack or tactical radio platform manufactured by Harris Corporation of Melbourne Fla.

This application is related to copending patent applications entitled COMMUNICATIONS DEVICE AND RELATED METHOD WITH REDUCED FALSE DETECTS DURING START OF MESSAGE BIT CORRELATION and COMMUNICATIONS DEVICE AND RELATED METHOD THAT DETECTS SYMBOL TIMING which are filed on the same date and by the same assignee and inventors the disclosures which are hereby incorporated by reference.

Many modifications and other embodiments of the invention will come to the mind of one skilled in the art having the benefit of the teachings presented in the foregoing descriptions and the associated drawings. Therefore it is understood that the invention is not to be limited to the specific embodiments disclosed and that modifications and embodiments are intended to be included within the scope of the appended claims.

