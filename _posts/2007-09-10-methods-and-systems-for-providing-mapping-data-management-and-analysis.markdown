---

title: Methods and systems for providing mapping, data management, and analysis
abstract: A computerized method for providing mapping, data management, and analysis. A user request for creation of a map with a desired Gaussian aggregation and desired color map parameters is received. Vector geographic data is loaded at the server. The vector geographic data comprises location data, and the location data comprises an attribute. The vector geographic data is rasterized to create image data composed of pixels. The image data is converted to a certain scale grayscale image data. A convolution operation is performed on the grayscale image data to provide an aggregation of the data using a kernel radius, wherein the kernel radius is adjusted in accordance with the desired zoom level. Convolution results are applied to a color ramp; the map for the location data is created based on the color ramp and the convolution results, and the map is provided to the user.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09147272&OS=09147272&RS=09147272
owner: 
number: 09147272
owner_city: 
owner_country: 
publication_date: 20070910
---
This application claims priority to provisional application 60 824 913 filed Sep. 8 2006 and entitled System and Method for Web Enabled Geo Analytics and Image Processing which provisional application is herein incorporated by reference in its entirety.

The file of this patent contains at least one drawing executed in color. Copies of this patent with color drawings will be provided by the Patent and Trademark Office upon request and payment of the necessary fee.

The system can include a core platform explained further in and its accompanying explanation . The core platform can provide many core functions of applications data management including but not limited to data dictionaries data wikis user generated content search capabilities database federation capabilities i.e. data pulled from outside system authentication and identification and analysis functions e.g. heatmap generation intersection analysis spatial concentration indexing SCI spatial correlation and temporal analysis . The core platform can manage all the data in the system and can link it to analysis modules that serve up results to the system . All external data can be loaded through and managed by the core platform and all analysis of that data can be provided by the core platform and delivered to the rest of the system . The exposure of the core platform functions to the rest of system can be handled by the portal which can serve as a gateway to the services in the core platform . The portal can then be linked to the application server instances which can handle the middleware connecting the core platform to the outside world. The application server instances can be managed by a balanced proxy front end server which can control the flow of traffic from the user interface and Web services which can communicate using APIs Application Programming Interfaces SOAP Simple Object Access Protocol XML RCP eXtensible Markup Language Remote Procedure Call REST REpresentational State Transfer Javascript and or any other technique . The user interface enables a user to access the system and the services it provides. The Web services are the standard means by which a developer can access the services provided by the core platform . Through either the user interface or Web services the outside world can interact with the system by sending requests routed through the balanced proxy server . These requests can be for raster analysis including but not limited to heatmaps intersection spatial concentration spatial correlation and or temporal analysis . More detail on the raster analysis requests is provided in and its accompanying explanation. The raster analysis request is routed to the core platform which can locate the appropriate dataset from the database for the analysis request and can process that data through the appropriate raster analysis module and then serve up the results using the service pools for raster analysis to create a portable network graphic PNG or other compatible format such as GIFF TIFF of the results along with numeric output if appropriate. Those outside the system can also request to import a data set to the core platform using the service pools for data import that place the data in the spatial database . Details on how the data is managed is provided in and its accompanying explanation . In addition to requesting analysis and adding data to the system third party applications can be implemented in the system through Web service requests . For instance a third party mapping application can be used to provide a layer in the application for the geo referenced raster analysis as well as a reference upon which the data in the core platform can be represented. Web service requests are sent through the balanced proxy frontend server to initiate Web services .

As pointed out above the system set forth in can enable entities to utilize geo spatial Web 1.0 and Web 2.0 technologies. Adding geo analytics to media rich Web applications allows expanded computational and processing abilities. The system can also be used with a variety of applications including desktop applications and or Web enabled systems. The analysis that is created can be used for one or more geographic scales. The user can zoom into the image to gain further detail and get an expanded picture of the original raster surface and or additional detail regarding what specifically is causing the variation in attribute valuation. The user is also able to perform additional analysis using mathematical formulas the add data e.g. SCI subtract data e.g. temporal analysis multiply data e.g. intersection etc.

In addition a broad easy to use application can be provided to accommodate a non technical user base. An understanding of the geo spatial and mathematical concepts underlying the mapping application is thus not required. Many geo analytics can be leveraged and simplified from the user s perspective to solve imminent real world problems for this new user set.

In one embodiment the system can be built with a geo database back end using MY Structured Query Language MY SQL that allows geo referenced data to be stored and queried. The data can be rated and tagged similar to what is implemented with Flickr Flickr is an application that can provide photo sharing to consumers . Note that other tagging and rating systems can also be utilized. The tagging and rating system allows data to be to easily managed pushing the most relevant and accurate data to the top of the hierarchy. The middleware of the application can be developed in one embodiment using Ruby on Rails Ruby on Rails is a middleware development platform that allows rapid building of media rich Web applications providing a robust architecture for quickly building media rich Web applications to utilize a geo database. Note that systems other than Ruby on Rails can be utilized. The front end can be developed in one embodiment in OpenLaszlo OpenLaszlo is a middleware development platform that can integrate Macromedia Flash with html and dynamic html in a browser deployable environment without requiring plug ins to be downloaded . Note that systems other than OpenLaszlo can also be used.

As pointed out above with respect to data is entered in that is used to generate the heat map. Many formats can be utilized to allow data e.g. a geometric location to be specified and described. It is sometimes useful to allow multiple attributes to be associated with a location or data point. In one embodiment data structures can be feature attributes so that quantifiable metrics can be parsed from the data to analyze. This can be done by placing the feature attribute data in the schema tag of any XML based language in a structured way that allows it to be machine parsable. For instance 

From this code the system knows that geometry is a placemark on the map. That placemark is a city with the name Nowheretown and it has the following attributes a population of 300 a temperature of 76 and a crime rate of 25. The city has a location and string of attributes that allow analysis to be done by the system.

While the above code is useful for a machine to read in another embodiment the system allows a user to easily create attribute data to describe the numeric and textual features of a location. The following two methods for example can be utilized. For the first method illustrated in the user creates fields for the attributes they would like add to a geometry e.g. point line or polygon or set of geometries. For example the fields State name Bush Votes and Kerry Votes can be created. The user then fills in the fields for each point created on the map.

For the second method illustrated in the user loads a set of predefined geometries with attributes in an easy spreadsheet interface. The user then selects from a list of predefined geometric boundaries e.g. countries states counties zip codes provinces or they upload a file with geometric boundaries they would like to use as a reference. From the geometric boundary file selection the user chooses the field unique identifier they would like to join data to e.g. State name city Name FIPS code identification number etc. . The user then adds the additional fields they would like to supply attribute data for. The user can enter the attributes by hand or cut and paste the attributes from another source.

Similar configuration data from other formats can also be converted to this structure so that information resident in several systems can be put into a single format that is easily transferable over a network. Once the data is in an open standard single file format that is easily parsable the data can be easily served up and analyzed in a Web browser environment. The data can be stored in a variety of database configurations and accessed through any number of middleware languages and served to the analytics engine.

Once the data has been entered in the remainder of the process set forth in generates a heat map. The heat map can then be dynamically regenerated as the image is zoomed into panned across or as the attribute data changes e.g. the heat map for weather would change as new temperature values were uploaded to the system . For example a user can zoom to a certain level of specificity or pan across an area by changing the desired Gaussian aggregation in of . An example of the dynamic zooming and or panning capability is provided in . illustrates real time pipeline flows in a particular city. One color such as yellow can be utilized to indicate the areas of the city where there is the most frequent use of the pipelines. Another color such as purple can indicate the areas of the city where there is less frequent user of the pipelines. Zooming can be performed by setting a kernel radius at each geographic level of granularity. When the user zooms in to a level of specificity the kernel radius is set to match the geographic level of interest or the radius can stay the same and the number of pixels can change due to the size of the window viewed.

The map can also change based on the original attributes in the data source of changing. An example of the attribute changing capability is provided in . The addition of buffered bounding boxes allows dynamic rendering and refactoring of heat maps by the user. When the attributes change the pixel valuation determination is run again to produce a new image. The speed at which the image processing occurs can be enhanced by for example Fourier transforms for convolution and or separable kernels. As shown in an image is given geographic bounding boxes such as which is illustrated in by an inside box which can be green or which is illustrated in by an inside box which can be green based on the original coordinates of the attributed data. In addition to the bounding boxes and a buffer which is illustrated in by an outside box which can be yellow and which is illustrated in by an outside box which can be red for each box is set based on the Gaussian distance decay function to produce an image outside of the viewing bounding boxes and . Thus when the viewer moves to the next tile or zooms in and out there is a continuous buffer and creating a seamless image. Since the result of the analysis is an image e.g. PNG JPEG TIFF BITMAP it can be created as a single overlay onto a variety of geo referenced maps or surfaces following the process described in . This image can be easily viewed in a Web browser after being sent to a user s Web browser following a request from the user. Each time the user pans zooms etc. a new request is sent from the user and a new image is sent to the user s browser

The heat maps can also be analyzed based on applying additional mathematical processes to the method illustrated in according to several embodiments of the invention. Example analysis include temporal analysis using subtraction intersection analysis using multiplication special concentration analysis using addition integration and spatial correlation analysis using a linear correlation function .

Now that the system has a set of a series of temporal data points the map can visualize the change over time either as a series of static maps e.g. or a map showing the difference e.g. . If a series of maps are created the maps can be animated for example sequenced as a timed animation using any number of standard methods. The dynamic heat mapping approach can also be used to re render heat maps on the fly as real time data changes or is dynamically updated. illustrates the changing heat map of real time pipeline flows at three different time periods according to one embodiment. For each map e.g. one two or three the method illustrated in is followed using the data points for the particular time period e.g. one two or three as the vector data source .

In addition to dynamically visualizing real time data flows the approach can also provide temporal analytics for change over time. For instance did a certain geography or asset increase or decrease between the two time periods. is a map illustrating map which is the difference in flow between two time periods map representing pipeline flow of time period one and map representing pipeline flow of time period two . For map geographies that gained flow e.g. there was an increase in pipeline use can be illustrated in one color such as green and those that lost flow e.g. there was a decrease in pipeline flow can be illustrated in another color such as red . Map is time period one map is time period two and map is the difference between map one and map two . is a method illustrating how map is generated according to one embodiment. In of the method illustrated in are followed using the data points for time period one as the vector data source . In of the method illustrated in are followed using the data points for time period two as the vector data source . In the grid vector results of for time period one is subtracted from the grid vector results of for time period two. The map for the temporal analysis can then be created by following of the method illustrated in .

Another example of analysis that can be applied is illustrated in which illustrate the intersection of data according to one embodiment. For example if two or more images for two or more different data sets weighted or unweighted by an attribute are added the results could be an image illustrating where those two data sets intersected each other and the color would indicate the proximity and magnitude if weighted by an attribute of those two or more data sets. illustrates intersection map . For example map could illustrate areas where pipelines and possible earthquake locations intersect thus illustrating areas of possible flooding. is a method illustrating how map is generated according to one embodiment. In the grid vector result for the first data set can be created by following of the method illustrated in and using the data points for the first data set as the vector data source . In the grid vector result for the second data set can be created by following of the method illustrated in and using the data points for the second data set as the vector data source . In map for the intersection can be created by multiplying the grid vector result of for the first data set by the grid vector result of the second data set. The map for the intersection analysis can then be created by following of the method illustrated in .

The SCI can also integrate the real time data analytics discussed above. For instance the SCI could be determined in real time based on the actual flows though the infrastructure. Also a risk index could be calculated based on real time hazard data like wind speed or storm surge from an approaching hurricane. As the threat ebbs and flows in magnitude or direction the SCI would dynamically recalculate to indicate the risk exposure as the real time threat evolves.

The SCI approach is not confined to calculating only risk parameters but can also be used on a wide variety geospatial data providing geo analytic decision support across a number of verticals. Consumers can hook in local searches such as Yahoo Local and Google Local and determine which location has a higher SCI of businesses they find attractive. This data can then be mashed up with demographic information to provide geo analytics to support consumer and business decisions. For instance does neighborhood A or neighborhood B have a high concentration of young singles and highly rated bars From the business perspective does neighborhood A or neighborhood B have a low concentration of competing coffee shops and a high concentration of individuals making over 100 000 per year 

To compute the correlation score note that a numerical output and not a map output is provided in the correlation analysis in of are followed for the data set for the first attribute. In of are followed for the data set for the second attribute. In a numerical output is created using the grid vector results of the first and second attributes. At this point we can compute a score by using the traditional linear correlation coefficient 

While various embodiments have been described above it should be understood that they have been presented by way of example and not limitation. It will be apparent to persons skilled in the relevant art s that various changes in form and detail can be made therein without departing from the spirit and scope. In fact after reading the above description it will be apparent to one skilled in the relevant art s how to implement alternative embodiments. Thus the present embodiments should not be limited by any of the above described exemplary embodiments.

In addition it should be understood that any figures which highlight the functionality and advantages are presented for example purposes only. The disclosed architecture is sufficiently flexible and configurable such that it may be utilized in ways other than that shown. For example the steps listed in any flowchart may be re ordered or only optionally used in some embodiments. As another example more than two data sets could be used in each analysis.

Further the purpose of the Abstract of the Disclosure is to enable the U.S. Patent and Trademark Office and the public generally and especially the scientists engineers and practitioners in the art who are not familiar with patent or legal terms or phraseology to determine quickly from a cursory inspection the nature and essence of the technical disclosure of the application. The Abstract of the Disclosure is not intended to be limiting as to the scope in any way.

Finally it is the applicant s intent that only claims that include the express language means for or step for be interpreted under 35 U.S.C. 112 paragraph 6. Claims that do not expressly include the phrase means for or step for are not to be interpreted under 35 U.S.C. 112 paragraph 6.

